(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["erpManagement2"],{1758:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{ref:"formData",attrs:{model:t.formData,inline:""}},[a("Row",[a("Col",{attrs:{xs:24,sm:12,md:12,lg:8}},[a("FormItem",{attrs:{label:"产品名称","label-position":"top","label-width":80}},[a("Input",{attrs:{placeholder:"请输入产品名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),a("Col",{attrs:{xs:24,sm:12,md:12,lg:8}},[a("FormItem",{attrs:{label:"类型：","label-position":"top","label-width":80}},[a("RadioGroup",{model:{value:t.formData.isFinished,callback:function(e){t.$set(t.formData,"isFinished",e)},expression:"formData.isFinished"}},[a("Radio",{attrs:{label:0}},[t._v("全部")]),a("Radio",{attrs:{label:2}},[t._v("半成品")]),a("Radio",{attrs:{label:1}},[t._v("成品")])],1)],1)],1)],1),a("Row",[a("FormItem",{attrs:{label:"","label-position":"top","label-width":80}},[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"default"},on:{click:function(e){return t.clear("formData")}}},[t._v("重置")])],1)],1)],1)],1),a("Card",[a("div",{staticStyle:{display:"flex","margin-bottom":"10px"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.show({},"add")}}},[t._v("新增")]),a("Button",{staticStyle:{"margin-left":"5px"},on:{click:t.delBetch}},[t._v("批量删除")])],1),a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData},on:{"on-selection-change":t.selectItem}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page)},on:{"on-change":t.changePage}})],1)])],1)],1)},n=[],o=(a("8e6e"),a("456d"),a("bd86")),r=(a("ac6a"),a("c4c8"));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={components:{},data:function(){var t=this;return{loading:!0,tableColumns:[{type:"selection",width:60,align:"center"},{title:"产品编号",key:"name",minWidth:100,render:function(e,a){return e("div",[e("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px",width:"100px",height:"20px",display:"block"},on:{click:function(){t.show(a.row,"edit")}}},a.row.number)])}},{title:"产品名称",minWidth:100,key:"name"},{title:"产品类型",key:"isFinished",minWidth:100,render:function(t,e){return t("div",1==e.row.isFinished?"成品":"半成品")}},{title:"单位",minWidth:60,key:"unit"},{title:"数量（库存）",minWidth:100,key:"stock"},{title:"操作",key:"action",minWidth:100,render:function(e,a){return e("div",[e("Button",{props:{size:"small",type:"primary"},style:{marginRight:"5px"},on:{click:function(){t.$refs.productMateriel.getInfo(a.row.id)}}},"物料详情"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.del(a.row.id)}}},"删除")])}}],tableData:[],pageination:{page:1,pageSize:2,count:1},page:1,staffData:[],formData:{name:"",isFinished:0},selectIds:[]}},created:function(){this.getData()},methods:{selectItem:function(t){var e=this;this.selectIds=[],t.forEach((function(t){e.selectIds.push(t.id)}))},delBetch:function(){this.selectIds.length<1?this.$Message.error("请选择要操作的数据"):this.del(this.selectIds)},del:function(t){var e=this;console.log(1111),this.$Modal.confirm({title:"删除",content:"<p>确定删除该产品？</p>",onOk:function(){Object(r["a"])({id:t}).then((function(t){0===t.ret?(e.$Message.success("删除成功"),e.getData()):e.$Message.error(t.msg)}))},onCancel:function(){}})},search:function(){this.page=1,this.getData()},clear:function(t){this.page=1,this.formData.name="",this.formData.isFinished=0,this.getData()},getData:function(){var t=this;this.loading=!0,this.selectIds=[],Object(r["c"])(l({page:this.page},this.formData,{type:1})).then((function(e){t.loading=!1,0===e.ret?(console.log("成功"),t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getData()},show:function(t,e){"add"===e?this.$refs.Drawer.getInfo(""):"edit"===e&&this.$refs.Drawer.getInfo(t.id)}}},d=c,p=(a("7013"),a("2877")),u=Object(p["a"])(d,i,n,!1,null,"7d54dc0a",null);e["default"]=u.exports},7013:function(t,e,a){"use strict";var i=a("d8e4"),n=a.n(i);n.a},d8e4:function(t,e,a){}}]);