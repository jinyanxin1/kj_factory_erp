(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["supplierManagement"],{1808:function(t,e,a){"use strict";a.d(e,"J",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"d",(function(){return c})),a.d(e,"D",(function(){return u})),a.d(e,"z",(function(){return d})),a.d(e,"H",(function(){return f})),a.d(e,"F",(function(){return p})),a.d(e,"G",(function(){return m})),a.d(e,"I",(function(){return h})),a.d(e,"f",(function(){return b})),a.d(e,"a",(function(){return g})),a.d(e,"c",(function(){return y})),a.d(e,"A",(function(){return v})),a.d(e,"j",(function(){return I})),a.d(e,"y",(function(){return D})),a.d(e,"k",(function(){return j})),a.d(e,"w",(function(){return w})),a.d(e,"r",(function(){return S})),a.d(e,"i",(function(){return O})),a.d(e,"q",(function(){return k})),a.d(e,"v",(function(){return _})),a.d(e,"o",(function(){return x})),a.d(e,"b",(function(){return T})),a.d(e,"C",(function(){return M})),a.d(e,"h",(function(){return A})),a.d(e,"g",(function(){return F})),a.d(e,"p",(function(){return L})),a.d(e,"B",(function(){return N})),a.d(e,"n",(function(){return C})),a.d(e,"s",(function(){return E})),a.d(e,"u",(function(){return P})),a.d(e,"x",(function(){return B})),a.d(e,"m",(function(){return W})),a.d(e,"t",(function(){return V})),a.d(e,"E",(function(){return R})),a.d(e,"l",(function(){return $}));var n=a("c276"),i=a("b6bd"),o=a("4328"),r=n["a"].cookies.get("token");function s(t){return Object(i["a"])({url:"/job/job/job_list",method:"post",data:o.stringify(t)})}function l(t){return Object(i["a"])({url:"/job/job/job_all_list",method:"post",data:o.stringify(t)})}function c(t){return Object(i["a"])({url:"/job/job/job_add",method:"post",data:o.stringify(t)})}function u(t){return Object(i["a"])({url:"/job/job/job_save",method:"post",data:o.stringify(t)})}function d(t){return Object(i["a"])({url:"/job/job/job_public",method:"post",data:o.stringify(t)})}function f(t){return Object(i["a"])({url:"/job/job/job_info",method:"post",data:o.stringify(t)})}function p(t){return Object(i["a"])({url:"/job/job/job_entry",method:"post",data:o.stringify(t)})}function m(t){return Object(i["a"])({url:"/job/job/job_entry_list",method:"post",data:o.stringify(t)})}function h(t){return Object(i["a"])({url:"/job/job/job_leave",method:"post",data:o.stringify(t)})}function b(t){return Object(i["a"])({url:"/job/job/job_career_info",method:"post",data:o.stringify(t)})}function g(t){return Object(i["a"])({url:"/job/interview/adds",method:"post",data:o.stringify(t)})}function y(t){return Object(i["a"])({url:"/job/interview/add",method:"post",data:o.stringify(t)})}function v(t){return Object(i["a"])({url:"/job/interview/save",method:"post",data:o.stringify(t)})}function I(t){return Object(i["a"])({url:"/job/interview/job_page",method:"post",data:o.stringify(t)})}function D(t){return Object(i["a"])({url:"/job/interview/my_job_page",method:"post",data:o.stringify(t)})}function j(t){return Object(i["a"])({url:"/job/interview/result",method:"post",data:o.stringify(t)})}var w="/job/job/template?token="+r,S="/job/job/import?token="+r,O="/job/interview/export?token="+r,k="/job/job/export?token="+r;function _(t){return Object(i["a"])({url:"/job/job/job_shift",method:"post",data:o.stringify(t)})}function x(t){return Object(i["a"])({url:"/job/job/job_contract_list",method:"post",data:o.stringify(t)})}function T(t){return Object(i["a"])({url:"/job/job/job_contract_add",method:"post",data:o.stringify(t)})}function M(t){return Object(i["a"])({url:"/job/job/job_contract_save",method:"post",data:o.stringify(t)})}function A(t){return Object(i["a"])({url:"/job/job/job_career_info_save",method:"post",data:o.stringify(t)})}function F(t){return Object(i["a"])({url:"/job/job/job_career_info_del",method:"post",data:o.stringify(t)})}function L(t){return Object(i["a"])({url:"/job/job/job_del",method:"post",data:o.stringify(t)})}function N(t){return Object(i["a"])({url:"/job/job/job_wages_config_save",method:"post",data:o.stringify(t)})}function C(t){return Object(i["a"])({url:"/job/job/job_wages_config_info",method:"post",data:o.stringify(t)})}function E(t){return Object(i["a"])({url:"/job/job/import_list",method:"post",data:o.stringify(t)})}function P(t){return Object(i["a"])({url:"/job/job/job_public_del",method:"post",data:o.stringify(t)})}function B(t){return Object(i["a"])({url:"/job/interview/my_job_del",method:"post",data:o.stringify(t)})}function W(t){return Object(i["a"])({url:"/job/job/job_client_list",method:"post",data:o.stringify(t)})}function V(t){return Object(i["a"])({url:"/job/job/job_on_list",method:"post",data:o.stringify(t)})}function R(t){return Object(i["a"])({url:"/site/auto",method:"post",data:o.stringify(t)})}function $(t){return Object(i["a"])({url:"/job/job/job_add_entry",method:"post",data:o.stringify(t)})}},2244:function(t,e,a){},"2ca8":function(t,e,a){},"2e3c":function(t,e,a){"use strict";a.d(e,"k",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return s})),a.d(e,"i",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"e",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"f",(function(){return f})),a.d(e,"a",(function(){return p})),a.d(e,"n",(function(){return m})),a.d(e,"o",(function(){return h})),a.d(e,"h",(function(){return b})),a.d(e,"l",(function(){return g})),a.d(e,"j",(function(){return y})),a.d(e,"m",(function(){return v}));var n=a("b6bd"),i=a("4328");function o(t){return Object(n["a"])({url:"/supplier/supplier/supplier_list",method:"post",data:i.stringify(t)})}function r(t){return Object(n["a"])({url:"/supplier/supplier/supplier_add",method:"post",data:i.stringify(t)})}function s(t){return Object(n["a"])({url:"/supplier/supplier/supplier_save",method:"post",data:i.stringify(t)})}function l(t){return Object(n["a"])({url:"/supplier/supplier/supplier_info",method:"post",data:i.stringify(t)})}function c(t){return Object(n["a"])({url:"/supplier/supplier/supplier_contract_add",method:"post",data:i.stringify(t)})}function u(t){return Object(n["a"])({url:"/supplier/supplier/supplier_contract_save",method:"post",data:i.stringify(t)})}function d(t){return Object(n["a"])({url:"/supplier/supplier/supplier_contract_list",method:"post",data:i.stringify(t)})}function f(t){return Object(n["a"])({url:"/supplier/supplier/supplier_contract_info",method:"post",data:i.stringify(t)})}function p(t){return Object(n["a"])({url:"/supplier/supplier/supplier_record_add",method:"post",data:i.stringify(t)})}function m(t){return Object(n["a"])({url:"/supplier/supplier/select",method:"post",data:i.stringify(t)})}function h(t){return Object(n["a"])({url:"/supplier/supplier/supplier_shift",method:"post",data:i.stringify(t)})}function b(t){return Object(n["a"])({url:"/supplier/supplier/supplier_del",method:"post",data:i.stringify(t)})}function g(t){return Object(n["a"])({url:"/supplier/supplier/supplier_record_list",method:"post",data:i.stringify(t)})}function y(t){return Object(n["a"])({url:"/supplier/supplier/supplier_job_list",method:"post",data:i.stringify(t)})}function v(t){return Object(n["a"])({url:"/supplier/supplier/supplier_record_del",method:"post",data:i.stringify(t)})}},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"498f":function(t,e,a){"use strict";var n=a("2ca8"),i=a.n(n);i.a},"49ce":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{"mask-closable":!1,title:"转移客户",width:600},on:{"on-cancel":function(e){return t.handleReset()}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("Form",{attrs:{"label-width":130}},[n("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","margin-bottom":"40px"}},[n("img",{staticStyle:{width:"48px"},attrs:{src:a("55f2")}}),n("div",{staticStyle:{"margin-left":"10px"}},[t._v("是否将【"+t._s(t.name)+"】转移给其他负责人？"),n("br"),t._v("转移成功之后，该操作将无法恢复")])]),n("FormItem",{attrs:{label:"新负责人","label-position":"top"}},[n("chooseStaff",{attrs:{staffId:String(t.staffId)},on:{handleSubmit:t.getStaffId}})],1)],1),n("template",{slot:"footer"},[n("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset()}}},[t._v("取消")]),n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit()}}},[t._v("确定")])],1)],2)},i=[],o=a("e6a1"),r=a("0658"),s=a("2e3c"),l=a("1808"),c={components:{chooseStaff:o["a"]},props:{},data:function(){return{loading:!0,sectionList:[],showModal:!1,staffId:"",name:"",fromPage:"",id:""}},computed:{},watch:{},methods:{getStaffId:function(t){this.staffId=t},DrawerToShow:function(t,e,a,n){console.log(t),this.fromPage=n,this.showModal=!0,this.loading=!0,this.id=t,this.staffId=e,this.name=a},handleReset:function(){this.showModal=!1,this.$emit("getInfo")},handleSubmit:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>确认转移？</p>",onOk:function(){"customer"===t.fromPage?Object(r["n"])({staffId:t.staffId,clientId:t.id}).then((function(e){t.$Message.success("转移成功！"),t.handleReset()})):"supplier"===t.fromPage?Object(s["o"])({staffId:t.staffId,supplierId:t.id}).then((function(e){t.$Message.success("转移成功！"),t.handleReset()})):"talent"===t.fromPage&&Object(l["v"])({staffId:t.staffId,jobId:t.id}).then((function(e){t.$Message.success("转移成功！"),t.handleReset()}))},onCancel:function(){}})}},mounted:function(){},beforeDestroy:function(){},created:function(){}},u=c,d=a("2877"),f=Object(d["a"])(u,n,i,!1,null,"4eb42689",null);e["a"]=f.exports},"555d":function(t,e,a){},"55f2":function(t,e){t.exports="data:image/png;base64,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"},"55f5":function(t,e,a){"use strict";var n=a("c9b7"),i=a.n(n);i.a},"56fb":function(t,e,a){"use strict";var n=a("555d"),i=a.n(n);i.a},"5dbc":function(t,e,a){var n=a("d3f4"),i=a("8b97").set;t.exports=function(t,e,a){var o,r=e.constructor;return r!==a&&"function"==typeof r&&(o=r.prototype)!==a.prototype&&n(o)&&i&&i(t,o),t}},6976:function(t,e,a){"use strict";var n=a("be5c"),i=a.n(n);i.a},"6b54":function(t,e,a){"use strict";a("3846");var n=a("cb7c"),i=a("0bfb"),o=a("9e1e"),r="toString",s=/./[r],l=function(t){a("2aba")(RegExp.prototype,r,t,!0)};a("79e5")((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):s.name!=r&&l((function(){return s.call(this)}))},7566:function(t,e,a){"use strict";var n=a("cba6"),i=a.n(n);i.a},"8b97":function(t,e,a){var n=a("d3f4"),i=a("cb7c"),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,a){return o(t,a),e?t.__proto__=a:n(t,a),t}}({},!1):void 0),check:o}},"9aac":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{ref:"formData",staticClass:"form-box",attrs:{model:t.formData,inline:"","label-width":100}},[a("FormItem",{attrs:{label:"名称：","label-position":"top","label-width":60}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"行业：","label-position":"top","label-width":60}},[a("chooseIndustry",{attrs:{ids:t.ids},on:{change:t.changeId}})],1),a("FormItem",{attrs:{label:"","label-position":"top","label-width":0}},[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"default"},on:{click:function(e){return t.clear("formData")}}},[t._v("重置")])],1),a("div",{class:t.isShow?"":"none"},[a("FormItem",{attrs:{label:"地区：","label-position":"top","label-width":60}},[t.isShow?a("chooseArea",{attrs:{ids:t.areaIds},on:{change:t.changeAreaId}}):t._e()],1),a("FormItem",{attrs:{label:"客户类型：","label-position":"top"}},[a("editSelect",{attrs:{id:"type",iptId:String(t.formData.type),list:t.typeList},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"创建日期：","label-position":"top"}},[a("DatePicker",{attrs:{value:t.time,type:"daterange"},on:{"on-change":t.handleChangeTime}})],1)],1),a("div",{staticClass:"sx-box",on:{click:t.screen}},[t._v("\n        "+t._s(t.isShow?"收起":"更多筛选")+" "),a("Icon",{class:t.isShow?"turn":"",attrs:{type:"ios-arrow-down"}})],1)],1)],1),a("Card",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.openbill()}}},[t._v("发单")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.show({},"add")}}},[t._v("新增")])],1),a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1),a("addSupplier",{ref:"Drawer",attrs:{status:t.status},on:{getList:t.getSupplier}}),a("addBill",{ref:"billDrawer",on:{getList:t.getList}}),a("supplierDetail",{ref:"detail",attrs:{erTitle:t.erTitle},on:{getList:t.getSupplier}})],1)},i=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"发单",width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"供应商","label-position":"top",prop:"supplierId"}},[a("Select",{model:{value:t.formData.supplierId,callback:function(e){t.$set(t.formData,"supplierId",e)},expression:"formData.supplierId"}},t._l(t.supplierList,(function(e,n){return a("Option",{key:n,attrs:{value:n}},[t._v(t._s(e))])})),1)],1),a("FormItem",{attrs:{label:"接受手机号","label-position":"top",prop:"phone"}},[a("Input",{model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("FormItem",{attrs:{label:"供应商负责人","label-position":"top",prop:"staffId"}},[a("chooseStaff",{attrs:{id:"staffId",staffId:String(t.formData.staffId)},on:{handleSubmit:t.getId}})],1),a("FormItem",{attrs:{label:"客户","label-position":"top",prop:"clientId"}},[a("div",{staticStyle:{display:"flex"}},[a("Select",{attrs:{filterable:""},model:{value:t.formData.clientId,callback:function(e){t.$set(t.formData,"clientId",e)},expression:"formData.clientId"}},t._l(t.selectClient,(function(e,n){return a("Option",{key:n,attrs:{value:Number(n)}},[t._v(t._s(e))])})),1)],1),a("chooseCustomer",{ref:"customer",on:{handleChoose:t.handleChoose}})],1),a("FormItem",{attrs:{label:"数量","label-position":"top",prop:"count"}},[a("Input",{attrs:{type:"number"},model:{value:t.formData.count,callback:function(e){t.$set(t.formData,"count",e)},expression:"formData.count"}})],1),a("FormItem",{attrs:{label:"职位","label-position":"top",prop:"position"}},[a("Input",{model:{value:t.formData.position,callback:function(e){t.$set(t.formData,"position",e)},expression:"formData.position"}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("确定")])],1)],2)}),s=[],l=(a("6b54"),a("2f62")),c=a("c276"),u=a("e6a1"),d=a("2e3c");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={components:{chooseStaff:u["a"]},props:{},data:function(){return{loading:!0,showModal:!1,formData:{supplierId:"",phone:"",position:"",count:"",clientId:"",clientName:""},supplierList:[],ruleInline:{supplierId:[{required:!0,message:"请选择供应商",trigger:"change"}],phone:[{required:!0,message:"手机号不能为空",trigger:"blur"}],position:[{required:!0,message:"职位不能为空",trigger:"blur"}],clientId:[{required:!0,type:"number",message:"请选择客户",trigger:"change"}],count:[{required:!0,message:"数量不能为空",trigger:"blur"}]}}},computed:p({},Object(l["e"])("admin/global",["selectClient"])),watch:{showModal:function(t){this.formData.staffId=c["a"].cookies.get("staffId")}},methods:{getSupplier:function(){var t=this;Object(d["n"])().then((function(e){0===e.ret?t.supplierList=e.data.select:t.$Message.error(e.msg||"接口错误")}))},DrawerToShow:function(t,e){console.log(t),this.formData.supplierId=t.toString(),this.formData.phone=e,this.showModal=!0,this.getSupplier()},handleReset:function(t){this.showModal=!1,this.formData.clientId="",this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(a){a?Object(d["a"])(e.formData).then((function(a){0===a.ret?(e.$Message.success("保存成功！"),e.showModal=!1,e.formData.clientId="",e.$refs[t].resetFields(),e.$emit("getList")):e.$Message.error(a.msg||"接口错误")})):e.$Message.error("表单验证失败!")}))},getId:function(t,e){this.formData[e]=t},handleChoose:function(t,e){this.formData.clientId=t,this.formData.clientName=e},showCustomer:function(){this.$refs.customer.DrawerToShow()}},mounted:function(){console.log(this.empPosition)},beforeDestroy:function(){},created:function(){}},h=m,b=(a("6976"),a("2877")),g=Object(b["a"])(h,r,s,!1,null,"c4db1d52",null),y=g.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"新增供应商",width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{model:t.formData,"label-width":130,rules:t.formInline}},[a("FormItem",{attrs:{label:"供应商名称","label-position":"top",prop:"name"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"供应商类型","label-position":"top",prop:"supplierType"}},[a("Select",{model:{value:t.formData.supplierType,callback:function(e){t.$set(t.formData,"supplierType",e)},expression:"formData.supplierType"}},t._l(t.supplierTypeList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{attrs:{label:"供应商负责人","label-position":"top",prop:"staffId"}},[a("chooseStaff",{attrs:{staffId:String(t.formData.staffId)},on:{handleSubmit:t.getStaffId}})],1),a("FormItem",{attrs:{label:"行业类型","label-position":"top"}},[a("chooseIndustry",{attrs:{ids:t.ids},on:{change:t.changeId}})],1),a("FormItem",{attrs:{label:"地区","label-position":"top",prop:"area"}},[t.showModal?a("chooseArea",{attrs:{ids:t.formData.area},on:{change:t.changeAreaId}}):t._e()],1),a("FormItem",{attrs:{label:"联系人","label-position":"top",prop:"contacts"}},[a("Input",{model:{value:t.formData.contacts,callback:function(e){t.$set(t.formData,"contacts",e)},expression:"formData.contacts"}})],1),a("FormItem",{attrs:{label:"电话","label-position":"top",prop:"tell"}},[a("Input",{model:{value:t.formData.tell,callback:function(e){t.$set(t.formData,"tell",e)},expression:"formData.tell"}})],1),a("FormItem",{attrs:{label:"详细地址","label-position":"top",prop:"address"}},[a("Input",{model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),a("FormItem",{attrs:{label:"结算方式","label-position":"top",prop:"settlement"}},[a("Input",{model:{value:t.formData.settlement,callback:function(e){t.$set(t.formData,"settlement",e)},expression:"formData.settlement"}})],1),a("FormItem",{attrs:{label:"结算周期","label-position":"top",prop:"cycle"}},[a("Select",{model:{value:t.formData.cycle,callback:function(e){t.$set(t.formData,"cycle",e)},expression:"formData.cycle"}},t._l(t.cycleList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{attrs:{label:"合同周期","label-position":"top"}},[a("Date-picker",{attrs:{value:t.contractDate,type:"daterange",placeholder:"选择日期"},on:{"on-change":t.handleChangeTime}})],1),a("FormItem",{attrs:{label:"账户名","label-position":"top",prop:"userName"}},[a("Input",{model:{value:t.formData.userName,callback:function(e){t.$set(t.formData,"userName",e)},expression:"formData.userName"}})],1),a("FormItem",{attrs:{label:"账号","label-position":"top",prop:"account"}},[a("Input",{model:{value:t.formData.account,callback:function(e){t.$set(t.formData,"account",e)},expression:"formData.account"}})],1),a("FormItem",{attrs:{label:"开户行","label-position":"top",prop:"accountBank"}},[a("Input",{model:{value:t.formData.accountBank,callback:function(e){t.$set(t.formData,"accountBank",e)},expression:"formData.accountBank"}})],1),a("FormItem",{attrs:{label:"备注","label-position":"top",prop:"textarea"}},[a("Input",{attrs:{type:"textarea",rows:4},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("确定")])],1)],2)},I=[],D=a("a5ae"),j=a("dd70"),w={components:{chooseStaff:u["a"],chooseIndustry:D["a"],chooseArea:j["a"]},props:{status:String},data:function(){return{loading:!0,showModal:!1,typeList:[{id:1,name:"潜在客户"},{id:2,name:"普通客户"},{id:3,name:"重要客户"},{id:4,name:"无机会客户"}],cycleList:[{id:1,name:"一个月"},{id:2,name:"三个月"},{id:3,name:"六个月"},{id:4,name:"九个月"},{id:5,name:"十二个月"},{id:6,name:"按照合同周期"}],supplierTypeList:[{id:1,name:"公司"},{id:2,name:"个人"}],formData:{name:"",staffId:"",contacts:""},formInline:{name:[{required:!0,message:"请填写名称",trigger:"blur"}]},ids:[],contractDate:[]}},computed:{},watch:{showModal:function(t){this.formData.staffId=c["a"].cookies.get("staffId")}},methods:{getStaffId:function(t){this.formData.staffId=t},changeId:function(t){this.ids=t;var e=t.length-1;this.formData.industryId=t[e],console.log(t,"9999999")},DrawerToShow:function(){this.showModal=!0,this.formData={}},handleReset:function(t){this.showModal=!1,this.formData.industryId="",this.contractDate=[],this.formData.area=[],this.ids=[],this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(a){a?Object(d["b"])(e.formData).then((function(a){0===a.ret?(e.$Message.success("保存成功！"),e.showModal=!1,e.$emit("getList"),e.formData.industryId="",e.contractDate=[],e.formData.area=[],e.ids=[],e.$refs[t].resetFields()):e.$Message.error(a.msg||"接口错误")})):e.$Message.error("表单验证失败!")}))},handleChangeTime:function(t){this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||""},changeAreaId:function(t){this.formData.area=t}},mounted:function(){console.log(this.empPosition)},beforeDestroy:function(){},created:function(){}},S=w,O=(a("56fb"),Object(b["a"])(S,v,I,!1,null,"625b8e0d",null)),k=O.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{"mask-closable":!1,title:t.erTitle,width:600},on:{"on-cancel":function(e){return t.handleReset()}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("transfer",{ref:"zhuanyi",on:{getInfo:t.getInfo}}),n("Row",[n("div",{staticStyle:{"padding-bottom":"20px"}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("div",{staticStyle:{"margin-right":"20px"}},[t._v("负责人："+t._s(this.formData.staffName))]),n("Button",{staticClass:"zy",attrs:{type:"primary"},on:{click:function(e){return t.show()}}},[t._v("转移给他人")])],1)]),n("Col",{attrs:{span:"18"}},[n("Tabs",{model:{value:t.curTab,callback:function(e){t.curTab=e},expression:"curTab"}},[n("Tab-pane",{key:"0",attrs:{label:"基本信息"}}),n("Tab-pane",{key:"1",attrs:{label:"合同管理"}})],1),n("Form",{directives:[{name:"show",rawName:"v-show",value:0===t.curTab,expression:"curTab === 0"}],attrs:{"label-width":130}},[n("FormItem",{attrs:{label:"供应商名称","label-position":"top"}},[n("editInput",{attrs:{id:"name",text:t.formData.name},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"类型","label-position":"top"}},[n("editSelect",{attrs:{id:"supplierType",iptId:String(t.formData.supplierType),list:t.supplierTypeList},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"供应商负责人","label-position":"top"}},[n("chooseStaff",{attrs:{id:"staffId",staffId:String(t.formData.staffId)},on:{handleSubmit:t.getId}})],1),n("FormItem",{attrs:{label:"联系人","label-position":"top"}},[n("editInput",{attrs:{id:"contacts",text:t.formData.contacts},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"电话","label-position":"top"}},[n("editInput",{attrs:{id:"tell",text:t.formData.tell},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"行业类型","label-position":"top"}},[n("chooseIndustry",{attrs:{ids:t.ids},on:{change:t.changeId}})],1),n("FormItem",{attrs:{label:"地区","label-position":"top"}},[t.showModal&&0===t.curTab?n("chooseArea",{attrs:{ids:t.formData.area},on:{change:t.changeAreaId}}):t._e()],1),n("FormItem",{attrs:{label:"详细地址","label-position":"top"}},[n("editInput",{attrs:{id:"address",text:t.formData.address},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"结算方式","label-position":"top"}},[n("editInput",{attrs:{id:"settlement",text:t.formData.settlement},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"结算周期","label-position":"top"}},[n("editSelect",{attrs:{id:"cycle",iptId:String(t.formData.cycle),list:t.cycleList},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"合同周期","label-position":"top"}},[n("Date-picker",{attrs:{value:t.contractDate,type:"daterange",placeholder:"选择日期"},on:{"on-change":t.handleChangeTime}})],1),n("FormItem",{attrs:{label:"账户名","label-position":"top"}},[n("editInput",{attrs:{id:"userName",text:t.formData.userName},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"账号","label-position":"top"}},[n("editInput",{attrs:{id:"account",text:t.formData.account},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"开户行","label-position":"top"}},[n("editInput",{attrs:{id:"accountBank",text:t.formData.accountBank},on:{handleSubmit:t.callback}})],1),n("FormItem",{attrs:{label:"备注","label-position":"top"}},[n("editTextarea",{attrs:{id:"remark",text:t.formData.remark},on:{handleSubmit:t.callback}})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.curTab,expression:"curTab === 1"}]},[n("div",{staticClass:"list"},[t._l(t.contractData,(function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"head"},[n("div",[n("div",[t._v(t._s(e.title))]),n("div",[t._v("合同类型："+t._s(e.basisName))]),n("div",[t._v("合同期限："+t._s(e.startTime)+" 至 "+t._s(e.endTime))]),n("div",{staticClass:"time"},[t._v("签订日期："+t._s(e.time)+" ")])]),n("div",{staticStyle:{display:"flex"}},[n("Button",{attrs:{type:"primary"},on:{click:function(a){return t.showContract(e,"edit")}}},[t._v("编辑")]),1===e.upcoming?n("div",{staticStyle:{"margin-left":"15px"}},[n("Button",{attrs:{type:"primary"},on:{click:function(a){return t.showContract(e,"xuyue")}}},[t._v("续约")])],1):t._e()],1)]),n("div",{staticClass:"album",attrs:{id:"images"+i}},t._l(e.pic,(function(e,a){return n("div",{key:a,staticClass:"photo"},[n("img",{attrs:{src:t.demainUrl+e}}),n("div",{staticClass:"r-upload-list-cover"},[n("Icon",{attrs:{type:"ios-eye-outline"},on:{click:function(e){return t.handleView(a,"images"+i)}}})],1)])})),0),e.fileUrl?n("div",{staticStyle:{"margin-top":"10px"}},[n("div",[t._v("合同附件：")]),n("div",{staticClass:"file-img"},[n("img",{attrs:{src:a("b9de")}}),n("div",{staticClass:"demo-upload-list-cover"},[n("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return t.viewFile(e.fileUrl)}}})],1)])]):t._e()])})),n("div",{staticClass:"item",staticStyle:{"text-align":"center",border:"0"},on:{click:function(e){return t.showContract({},"add")}}},[n("Button",{staticStyle:{margin:"0 auto",width:"100%"},attrs:{type:"primary",icon:"ios-add"}},[t._v("添加合同")])],1)],2)])],1),n("Col",{attrs:{span:"6"}},[n("div",{staticStyle:{width:"100px",margin:"10px auto 0 auto"}},[n("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){return t.openbill()}}},[t._v("发单")]),n("Button",{staticStyle:{width:"100px","margin-top":"10px"},attrs:{type:"default"},on:{click:function(e){return t.delSupplier()}}},[t._v("删除")])],1)])],1),n("addBill",{ref:"billDrawer",on:{getList:t.handleReset}}),n("addContract",{ref:"contract",on:{getContract:t.getContract}}),n("template",{slot:"footer"},[n("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset()}}},[t._v("取消")])],1)],2)},x=[],T=a("c82c"),M=a.n(T),A=(a("0808"),a("0bec")),F=a("4bc3"),L=a("d31b"),N=a("6bcd"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Carousel",{attrs:{arrow:"always",dits:"none","current-index":t.curIndex}},t._l(t.list,(function(t,e){return a("Carousel-item",{key:e,staticClass:"box"},[a("img",{attrs:{src:t}})])})),1)],1)},E=[],P=(a("c5f6"),{name:"",props:{list:Array,curIndex:Number},data:function(){return{isShow:!1}},mounted:function(){},methods:{}}),B=P,W=(a("bb55"),Object(b["a"])(B,C,E,!1,null,null,null)),V=W.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:t.erTitle,width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"标题","label-position":"top",prop:"title"}},[a("Input",{attrs:{maxlength:"30"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("FormItem",{attrs:{label:"合同签订日期","label-position":"top",prop:"time"}},[a("Date-picker",{attrs:{value:t.formData.time,type:"date",placeholder:"选择日期"},on:{"on-change":function(e){t.formData.time=e}}})],1),a("FormItem",{attrs:{label:"合同期限","label-position":"top",prop:"contractDate"}},[a("Date-picker",{staticStyle:{width:"100%"},attrs:{value:t.formData.contractDate,type:"daterange",placeholder:"选择日期"},on:{"on-change":t.handleChangeTime}})],1),a("FormItem",{attrs:{label:"合同类型","label-position":"top",prop:"basisId"}},["xuyue"===t.status?a("div",[t._v(t._s(t.basisName))]):a("Select",{model:{value:t.formData.basisId,callback:function(e){t.$set(t.formData,"basisId",e)},expression:"formData.basisId"}},t._l(t.typeList,(function(e,n){return a("Option",{key:n,attrs:{value:e.basisId}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{attrs:{label:"合同电子档","label-position":"top"}},[a("div",{staticStyle:{color:"#bbb"}},[t._v("建议尺寸: 800*1100px")]),a("uploadImgList",{attrs:{id:"pic",picArr:t.formData.pic||[]},on:{uploadSuccess:t.handleSuccess}})],1),a("FormItem",{attrs:{label:"合同附件","label-position":"top"}},[a("div",{staticStyle:{color:"#bbb"}},[t._v("pdf/doc/docx格式文件，图片大小不超过3M。")]),a("uploadFile",{attrs:{picArr:{pic:t.formData.fileUrl,picName:t.formData.fileUrl}},on:{uploadSuccess:t.handleSuccessFile1}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("确定")])],1)],1)},$=[],z=a("a46c"),X=a("fbcf"),U=a("9411"),J={components:{uploadImgList:z["a"],uploadFile:X["a"]},props:{},data:function(){return{loading:!0,sectionList:[],showModal:!1,formData:{time:"",pic:[],contractDate:[],basisId:"",title:"",fileUrl:""},ruleInline:{title:[{required:!0,message:"请填写合同标题",trigger:"blur"}],time:[{required:!0,message:"请选择签订时间",trigger:"change"}],contractDate:[{required:!0,type:"array",message:"请选择合同期限",trigger:"change"}],basisId:[{required:!0,type:"number",message:"请选择合同类型",trigger:"blur"}]},typeList:[],basisName:"",erTitle:"",status:""}},computed:{},watch:{showModal:function(t){this.formData.staffId=c["a"].cookies.get("staffId")}},methods:{getList:function(){var t=this;this.loading=!0,Object(U["h"])({type:"SUPPLIER"}).then((function(e){t.loading=!1,0===e.ret?t.typeList=e.data:t.$Message.error(e.msg||"接口错误")}))},getInfo:function(){var t=this;Object(d["f"])({contractId:this.formData.contractId}).then((function(e){t.formData=e.data.info,t.formData.contractDate=[e.data.info.startTime,e.data.info.endTime],e.data.info.fileUrl?t.formData.fileUrl=e.data.info.fileUrl:t.formData.fileUrl=""}))},DrawerToShow:function(t,e,a){this.formData.supplierId=t,this.formData.contractId=e.contractId,this.status=a,"edit"===a?(this.erTitle="编辑合同",this.getInfo()):"xuyue"===a?(this.erTitle="续约合同",this.formData.basisId=e.basisId,this.basisName=e.basisName):this.erTitle="新增合同",this.showModal=!0,this.loading=!0,this.getList()},handleReset:function(t){this.showModal=!1,this.images=[],this.formData.fileUrl="",this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(a){a?"edit"===e.status?Object(d["e"])(e.formData).then((function(a){e.$Message.success("修改成功！"),e.$emit("getContract"),e.showModal=!1,e.formData.fileUrl="",e.$refs[t].resetFields(),e.$store.dispatch("admin/global/toSum")})):Object(d["c"])(e.formData).then((function(a){e.$Message.success("已保存！"),e.$emit("getContract"),e.showModal=!1,e.formData.fileUrl="",e.$refs[t].resetFields(),e.$store.dispatch("admin/global/toSum")})):e.$Message.error("表单验证失败!")}))},handleChangeTime:function(t){this.formData.contractDate=t,this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||""},handleSuccess:function(t){this.formData.pic=t},handleSuccessFile1:function(t){this.formData.fileUrl=t.pic}},mounted:function(){},beforeDestroy:function(){},created:function(){}},Y=J,H=(a("fab3"),Object(b["a"])(Y,R,$,!1,null,"c51d2268",null)),K=H.exports,Z=a("49ce"),G={components:{editInput:A["a"],editDate:F["a"],editTextarea:L["a"],editSelect:N["a"],albums:V,addContract:K,chooseStaff:u["a"],chooseIndustry:D["a"],chooseArea:j["a"],transfer:Z["a"],addBill:y},props:{erTitle:String},data:function(){return{demainUrl:c["a"].cookies.get("domainUrl"),loading:!0,showModal:!1,curTab:0,formData:{},ids:[],supplierTypeList:[{id:"1",name:"公司"},{id:"2",name:"个人"}],cycleList:[{id:"1",name:"一个月"},{id:"2",name:"三个月"},{id:"3",name:"六个月"},{id:"4",name:"九个月"},{id:"5",name:"十二个月"},{id:"6",name:"按照合同周期"}],staffName:"",contractDate:[],contractData:[],industry:"",albumList:["http://oa-cdn.kuaijie123.cn/images/zhangzi.png","http://admin-t-check-app.kuaijie123.cn/images/sign.png","http://admin-t-check-app.kuaijie123.cn/images/logo1.png"],imgName:"",visible:!1}},computed:{},watch:{},methods:{getContract:function(){var t=this;Object(d["g"])({supplierId:this.formData.supplierId,pageSize:999}).then((function(e){t.loading=!1,0===e.ret?(console.log("成功"),t.contractData=e.data.list):t.$Message.error(e.msg||"接口错误")}))},changeId:function(t){var e=t.length-1;this.industry=t[e],this.handleSubmit()},getId:function(t,e){this.formData[e]=t,this.handleSubmit()},showContract:function(t,e){this.$refs.contract.DrawerToShow(this.formData.supplierId,t,e)},DrawerToShow:function(t,e){this.curTab=0,this.formData.supplierId=t,this.showModal=!0,this.loading=!0,this.staffName=e,this.getInfo(t),this.getContract()},handleReset:function(){this.showModal=!1,this.$emit("getList")},getInfo:function(){var t=this;Object(d["i"])({supplierId:this.formData.supplierId}).then((function(e){if(0===e.ret){t.formData=e.data.info,t.ids=e.data.info.industryId;var a=t.ids.length-1;t.industry=t.ids[a],t.contractDate=[e.data.info.startTime,e.data.info.endTime]}}))},callback:function(t,e){console.log(t,e),this.formData[t]=e,this.handleSubmit()},handleChangeTime:function(t){this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||"",this.handleSubmit()},handleSubmit:function(){var t=this;this.formData.industryId=this.industry,Object(d["d"])(this.formData).then((function(e){0===e.ret?(t.$Message.success("保存成功！"),t.$emit("getList")):t.$Message.error(e.msg||"接口错误")}))},changeAreaId:function(t){this.formData.area=t,this.handleSubmit()},show:function(){this.$refs.zhuanyi.DrawerToShow(this.formData.supplierId,this.formData.staffId,this.formData.name,"supplier")},openbill:function(){this.$refs.billDrawer.DrawerToShow(this.formData.supplierId,this.formData.tell)},delSupplier:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>确认删除该供应商？</p>",onOk:function(){Object(d["h"])({supplierId:t.formData.supplierId}).then((function(e){0===e.ret&&(t.$Message.success("删除成功"),t.handleReset())}))},onCancel:function(){}})},handleView:function(t,e){var a=new M.a(document.getElementById(e),{initialViewIndex:t,title:!1,navbar:!1,hidden:function(){a.destroy()}});a.show()},viewFile:function(t){this.imgName=this.demainUrl+t,this.visible=!0}},mounted:function(){console.log(this.empPosition)},beforeDestroy:function(){},created:function(){}},Q=G,q=(a("498f"),Object(b["a"])(Q,_,x,!1,null,"b11b99c4",null)),tt=q.exports;function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function at(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var nt={components:{addSupplier:k,addBill:y,supplierDetail:tt,editSelect:N["a"],chooseIndustry:D["a"],chooseArea:j["a"]},data:function(){var t=this;return{isShow:!1,loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],formData:{},tableColumns:[{title:"供应商名称",key:"name",minWidth:140,render:function(e,a){return e("div",[e("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showDetail(a.row,"edit")}}},a.row.name)])}},{title:"负责人",key:"staffName",minWidth:100},{title:"客户类型",key:"typeName",minWidth:100},{title:"联系人",key:"contacts",minWidth:140},{title:"联系电话",key:"tell",minWidth:140},{title:"提供人数",key:"count",minWidth:100},{title:"操作",minWidth:200,align:"center",render:function(e,a){return e("div",[e("a",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){sessionStorage.setItem("supplierId",JSON.stringify(a.row.supplierId)),t.$router.push({path:"/talentManagement/talentSupplier"})}}},"查看人才")])}}],tableData:[],pageination:{page:1,pageSize:10,count:1},page:1,userStatusList:[],supplierIds:[],typeList:[{id:"1",name:"潜在客户"},{id:"2",name:"普通客户"},{id:"3",name:"重要客户"},{id:"4",name:"无机会客户"}],time:[],ids:[],areaIds:[]}},created:function(){JSON.parse(sessionStorage.getItem("supplierIds"))&&(this.supplierIds=JSON.parse(sessionStorage.getItem("supplierIds"))),this.getList()},methods:{screen:function(){this.isShow=!this.isShow},search:function(){this.page=1,this.getList()},clear:function(t){this.page=1,this.supplierIds=[],this.time=[],this.ids=[],this.areaIds=[],this.formData.industryId="",this.formData.type="",this.formData.provinceId="",this.formData.cityId="",this.formData.areaId="",this.formData.startTime="",this.formData.endTime="",this.formData.name="",this.$refs[t].resetFields(),this.getList()},getSupplier:function(){Object(d["n"])().then((function(t){sessionStorage.setItem("supplierList",JSON.stringify(t.data.select))})),this.getList()},getList:function(){var t=this;this.loading=!0,Object(d["k"])(at({page:this.page,pageSize:this.pageination.pageSize,supplierId:this.supplierIds},this.formData)).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getList()},openbill:function(){this.$refs.billDrawer.DrawerToShow("")},showDetail:function(t){this.erTitle=t.name,this.$refs.detail.DrawerToShow(t.supplierId,t.staffName)},show:function(t,e){this.status=e,"add"===e&&(this.erTitle="新增"),this.$refs.Drawer.DrawerToShow()},changeId:function(t){var e=t.length-1;this.formData.industryId=t[e]},handleChangeTime:function(t){this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||""},callback:function(t,e){console.log(t,e),this.formData[t]=e},changeAreaId:function(t){this.formData.provinceId=t[0],this.formData.cityId=t[1],this.formData.areaId=t[2],this.areaIds=t},changePageSize:function(t){this.pageination.pageSize=t,this.getList()}},destroyed:function(){sessionStorage.removeItem("supplierIds")}},it=nt,ot=(a("7566"),Object(b["a"])(it,n,i,!1,null,"129c3cbd",null));e["default"]=ot.exports},a4eb:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error"},on:{click:function(e){return t.onDelete()}}},[t._v("删除")])],1),a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData},on:{"on-selection-change":t.chooseSelect}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1)],1)},i=[],o=(a("ac6a"),a("2e3c")),r={components:{},data:function(){return{isShow:!1,loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],formData:{},tableColumns:[{type:"selection",width:60,align:"center"},{title:"供应商名称",key:"supplierName",minWidth:140},{title:"发单客户",key:"clientName",minWidth:100},{title:"岗位",key:"position",minWidth:100},{title:"手机",key:"phone",minWidth:100},{title:"负责人",key:"staffName",minWidth:100},{title:"提供人数",key:"count",minWidth:100},{title:"发单时间",key:"createTime",minWidth:170}],tableData:[],pageination:{page:1,pageSize:10,count:1},page:1,userStatusList:[],supplierIds:[],typeList:[{id:"1",name:"潜在客户"},{id:"2",name:"普通客户"},{id:"3",name:"重要客户"},{id:"4",name:"无机会客户"}],time:[],ids:[],areaIds:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Object(o["l"])({page:this.page,pageSize:this.pageination.pageSize}).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getList()},changePageSize:function(t){this.pageination.pageSize=t,this.getList()},remove:function(t){this.Ids=[t.recordId],this.onDelete()},onDelete:function(){var t=this;this.Ids.length>0?this.$Modal.confirm({title:"提示",content:"<p>确认删除该记录?</p>",onOk:function(){Object(o["m"])({recordId:t.Ids}).then((function(e){0===e.ret?(t.$Message.success("删除成功"),t.getList(),t.Ids=[]):t.$Message.error(e.msg)}))},onCancel:function(){}}):this.$Message.error("请选择要删除的记录！")},chooseSelect:function(t){var e=this;e.Ids=[],t.forEach((function(t){e.Ids.push(t.recordId),console.log(e.Ids)}))}}},s=r,l=(a("55f5"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"dae4ecd0",null);e["default"]=c.exports},a5ae:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Cascader",{attrs:{data:t.tmpArr,value:t.ids,"change-on-select":""},on:{"update:value":function(e){t.ids=e},"on-change":t.change}})],1)},i=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=a("2f62"),s=a("9411");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={components:{},props:{ids:Array},data:function(){return{showModal:!1,list:[],tmpArr:[]}},computed:c({},Object(r["e"])("admin/global",["industry","region","personnelSize"])),watch:{},methods:{change:function(t){this.$emit("change",t),console.log(t,"industry")},getIndustryList:function(){var t=this;Object(s["q"])().then((function(e){var a=e.data.list;t.list=a.map((function(t,e){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title}}))}}))}}))}))}},mounted:function(){},beforeDestroy:function(){},created:function(){var t=this.industry;this.tmpArr=t.map((function(t,e){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title}}))}}))}}))}},d=u,f=a("2877"),p=Object(f["a"])(d,n,i,!1,null,"00e5aca0",null);e["a"]=p.exports},aa77:function(t,e,a){var n=a("5ca1"),i=a("be13"),o=a("79e5"),r=a("fdef"),s="["+r+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t,e,a){var i={},s=o((function(){return!!r[t]()||l[t]()!=l})),c=i[t]=s?e(f):r[t];a&&(i[a]=c),n(n.P+n.F*s,"String",i)},f=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},bb55:function(t,e,a){"use strict";var n=a("bd1d"),i=a.n(n);i.a},bd1d:function(t,e,a){},be5c:function(t,e,a){},c5f6:function(t,e,a){"use strict";var n=a("7726"),i=a("69a8"),o=a("2d95"),r=a("5dbc"),s=a("6a99"),l=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,p="Number",m=n[p],h=m,b=m.prototype,g=o(a("2aeb")(b))==p,y="trim"in String.prototype,v=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():f(e,3);var a,n,i,o=e.charCodeAt(0);if(43===o||45===o){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var r,l=e.slice(2),c=0,u=l.length;c<u;c++)if(r=l.charCodeAt(c),r<48||r>i)return NaN;return parseInt(l,n)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof m&&(g?l((function(){b.valueOf.call(a)})):o(a)!=p)?r(new h(v(e)),a,m):v(e)};for(var I,D=a("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;D.length>j;j++)i(h,I=D[j])&&!i(m,I)&&d(m,I,u(h,I));m.prototype=b,b.constructor=m,a("2aba")(n,p,m)}},c9b7:function(t,e,a){},cba6:function(t,e,a){},dd70:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{model:t.formValidate,inline:""}},[t.region.length>0?a("FormItem",{attrs:{prop:"province"}},[a("Select",{attrs:{placeholder:"请选择省份"},on:{"on-query-change":function(e){return t.changeProvince(t.formValidate.province)}},model:{value:t.formValidate.province,callback:function(e){t.$set(t.formValidate,"province",e)},expression:"formValidate.province"}},t._l(t.region,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title)+"\n                ")])})),1)],1):t._e(),t.citiesArr.length>0?a("FormItem",{attrs:{prop:"city"}},[a("Select",{attrs:{placeholder:"请选择城市"},on:{"on-query-change":function(e){return t.changeCity(t.formValidate.city)}},model:{value:t.formValidate.city,callback:function(e){t.$set(t.formValidate,"city",e)},expression:"formValidate.city"}},t._l(t.citiesArr,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title)+"\n                ")])})),1)],1):t._e(),t.countyArr.length>0&&t.formValidate.city?a("FormItem",{attrs:{prop:"county"}},[a("Select",{attrs:{placeholder:"请选择区县"},on:{"on-query-change":t.changeCounty},model:{value:t.formValidate.county,callback:function(e){t.$set(t.formValidate,"county",e)},expression:"formValidate.county"}},t._l(t.countyArr,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title)+"\n                ")])})),1)],1):t._e()],1)],1)},i=[],o=a("9411"),r=(a("2f62"),{components:{},props:{ids:Array},watch:{ids:function(t){console.log(t,"----0000"),t.length>0?this.changeProvince(t[0]):(this.formValidate.province="",this.formValidate.city="",this.formValidate.county="")},"formValidate.province":function(){this.ids.length>0&&this.changeCity(this.ids[1])},"formValidate.city":function(){this.changeCounty(!1),this.formValidate.county=this.ids[2]}},data:function(){return{newId:[],formValidate:{province:"",city:""},region:[],citiesArr:[],countyArr:[],ruleValidate:{province:[{required:!0,message:"请选择收货地所属的省份",trigger:"change"}],city:[{required:!0,message:"请选择收货地所属的市",trigger:"change"}],county:[{required:!0,message:"请选择收货地所属的区县",trigger:"change"}]}}},computed:{},methods:{change:function(t){this.$emit("change",t),console.log(t,"area")},getList:function(){var t=this;Object(o["d"])().then((function(e){t.region=e.data.list}))},changeProvince:function(t){var e=this;console.log(this.formValidate.province,"00000000"),Object(o["d"])({id:t}).then((function(a){e.citiesArr=a.data.list,e.formValidate.province=t,console.log(e.formValidate.province,"bbbb")}))},changeCity:function(t){var e=this;Object(o["d"])({id:t}).then((function(a){e.countyArr=a.data.list,e.formValidate.city=t,console.log(e.formValidate.city,"ccc")}))},changeCounty:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log(this.formValidate.county,"pppp"),t&&this.$emit("change",[this.formValidate.province,this.formValidate.city,this.formValidate.county])}},mounted:function(){},beforeDestroy:function(){},created:function(){this.getList()}}),s=r,l=a("2877"),c=Object(l["a"])(s,n,i,!1,null,"0bc1a023",null);e["a"]=c.exports},fab3:function(t,e,a){"use strict";var n=a("2244"),i=a.n(n);i.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);