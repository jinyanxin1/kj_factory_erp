(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57edf9b0"],{"2b2c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.showCustomer||t.showTalent?t._e():i("Card",[i("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData}})],1),t.showCustomer&&!t.showTalent?i("Card",[i("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-bottom":"10px"}},[i("Button",{attrs:{type:"primary"},on:{click:t.back}},[t._v("返回待办")])],1),i("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableCustomer,data:t.customerData}}),i("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[i("div",{staticStyle:{float:"left"}},[i("span",[t._v("共 "+t._s(t.pageination1.count)+" 条记录")]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination1.page)+"页")])]),i("div",{staticStyle:{float:"right"}},[i("Page",{attrs:{total:Number(t.pageination1.count),"page-size":Number(t.pageination1.pageSize),current:Number(t.pageination1.page),"show-sizer":""},on:{"on-change":t.changePage1,"on-page-size-change":t.changePageSize1}})],1)])],1):t._e(),t.showTalent?i("Card",[i("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-bottom":"10px"}},[i("Button",{attrs:{type:"primary"},on:{click:t.backToCu}},[t._v("返回客户")])],1),i("Table",{attrs:{loading:t.loading,stripe:"",columns:t.talentColumns,data:t.talentData}}),i("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[i("div",{staticStyle:{float:"left"}},[i("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),i("div",{staticStyle:{float:"right"}},[i("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1):t._e(),i("talentDetail",{ref:"detail",on:{getData:t.getList}})],1)},n=[],s=(i("ac6a"),i("456d"),i("7f7f"),i("9c3b")),o=i("b7fb"),l=i("0658"),r=i("1808"),g={components:{talentDetail:s["a"]},data:function(){var t=this;return{isShow:!1,loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],tableColumns:[{type:"selection",width:60,align:"center"},{title:"事件",key:"title",minWidth:200,render:function(e,i){return e("div",[e("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.toList(i.row)}}},i.row.title)])}},{title:"时间",key:"time",minWidth:120}],tableData:[],tableCustomer:[{type:"selection",width:60,align:"center"},{title:"客户名称",minWidth:100,key:"name"},{title:"电话",minWidth:100,key:"tell"},{title:"在职人数",minWidth:100,key:"count"},{title:"操作",minWidth:200,align:"center",render:function(e,i){return e("div",[e("a",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){t.talentIds=t.customerIds[i.row.clientId],t.showTalent=!0,t.talentClientId=i.row.clientId,t.page1=1,t.getTalentList(i.row.clientId)}}},"人才合同续约")])}}],talentIds:[],talentClientId:"",talentColumns:[{type:"selection",width:60,align:"center"},{title:"姓名",key:"name",minWidth:100,render:function(e,i){return e("div",[e("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.getDetail(i.row,"edit")}}},i.row.name)])}},{title:"年龄",key:"age",minWidth:80},{title:"性别",key:"sex",minWidth:80},{title:"面试岗位",key:"position",minWidth:100},{title:"手机号",key:"phone",minWidth:130},{title:"状态",key:"statusName",minWidth:80},{title:"入职日期",key:"entryTime",minWidth:110},{title:"离职日期",key:"leaveTime",minWidth:110},{title:"工作厂",key:"client",minWidth:100}],customerData:[],showCustomer:!1,showTalent:!1,customerIds:[],talentData:[],pageination:{page:1,pageSize:10,count:1},page:1,pageination1:{page:1,pageSize:10,count:1},page1:1,clients:[]}},created:function(){this.getList()},methods:{toList:function(t){switch(t.type){case"job":this.showCustomer=!0,this.customerIds=t.client,this.clients=Object.keys(t.client),this.getCustomer();break;case"staff":sessionStorage.setItem("staffIds",JSON.stringify(t.staffId)),this.$router.push({path:"/personnelManagement/staff"});break;case"supplier":sessionStorage.setItem("supplierIds",JSON.stringify(t.supplierId)),this.$router.push({path:"/supplierManagement/supplier"});break;case"client":this.clientInfo={clientIds:t.clientId,isWork:-1},sessionStorage.setItem("clientInfo",JSON.stringify(this.clientInfo)),this.$router.push({path:"/customerManagement/customer"});break}},getList:function(){var t=this;this.loading=!0,Object(o["o"])().then((function(e){t.loading=!1,0===e.ret?t.tableData=e.data.list:t.$Message.error(e.msg||"接口错误")}))},getCustomer:function(){var t=this;this.loading=!0,Object(l["l"])({isWork:-1,clientId:this.clients,page:this.page1,pageSize:this.pageination1.pageSize}).then((function(e){t.loading=!1,0===e.ret?(t.customerData=e.data.list,t.pageination1=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},getTalentList:function(){var t=this;this.loading=!0,Object(r["t"])({page:this.page,pageSize:this.pageination.pageSize,clientId:this.talentClientId,jobId:this.talentIds}).then((function(e){t.loading=!1,0===e.ret?(t.talentData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getTalentList()},changePageSize:function(t){this.pageination.pageSize=t,this.getTalentList()},changePage1:function(t){this.page1=t,this.getCustomer()},changePageSize1:function(t){this.pageination1.pageSize=t,this.getCustomer()},show:function(t,e){this.erTitle="新增",this.$refs.Drawer.DrawerToShow()},back:function(){this.showCustomer=!1,this.showTalent=!1,this.page=1},backToCu:function(){this.showCustomer=!0,this.showTalent=!1,this.page=1},getDetail:function(t){this.erTitle=t.name,this.$refs.detail.DrawerToShow(t.jobId,t.name)}}},c=g,p=(i("4df6"),i("2877")),h=Object(p["a"])(c,a,n,!1,null,"d9ef9d04",null);e["default"]=h.exports},"4df6":function(t,e,i){"use strict";var a=i("c3a9"),n=i.n(a);n.a},c3a9:function(t,e,i){}}]);