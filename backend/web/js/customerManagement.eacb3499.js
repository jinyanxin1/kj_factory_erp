(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["customerManagement"],{1808:function(t,e,a){"use strict";a.d(e,"J",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"d",(function(){return c})),a.d(e,"D",(function(){return d})),a.d(e,"z",(function(){return u})),a.d(e,"H",(function(){return f})),a.d(e,"F",(function(){return m})),a.d(e,"G",(function(){return p})),a.d(e,"I",(function(){return h})),a.d(e,"f",(function(){return g})),a.d(e,"a",(function(){return b})),a.d(e,"c",(function(){return y})),a.d(e,"A",(function(){return v})),a.d(e,"j",(function(){return I})),a.d(e,"y",(function(){return D})),a.d(e,"k",(function(){return w})),a.d(e,"w",(function(){return S})),a.d(e,"r",(function(){return k})),a.d(e,"i",(function(){return j})),a.d(e,"q",(function(){return x})),a.d(e,"v",(function(){return O})),a.d(e,"o",(function(){return _})),a.d(e,"b",(function(){return T})),a.d(e,"C",(function(){return M})),a.d(e,"h",(function(){return C})),a.d(e,"g",(function(){return F})),a.d(e,"p",(function(){return L})),a.d(e,"B",(function(){return $})),a.d(e,"n",(function(){return A})),a.d(e,"s",(function(){return N})),a.d(e,"u",(function(){return W})),a.d(e,"x",(function(){return P})),a.d(e,"m",(function(){return R})),a.d(e,"t",(function(){return B})),a.d(e,"E",(function(){return z})),a.d(e,"l",(function(){return E}));var i=a("c276"),n=a("b6bd"),o=a("4328"),r=i["a"].cookies.get("token");function s(t){return Object(n["a"])({url:"/job/job/job_list",method:"post",data:o.stringify(t)})}function l(t){return Object(n["a"])({url:"/job/job/job_all_list",method:"post",data:o.stringify(t)})}function c(t){return Object(n["a"])({url:"/job/job/job_add",method:"post",data:o.stringify(t)})}function d(t){return Object(n["a"])({url:"/job/job/job_save",method:"post",data:o.stringify(t)})}function u(t){return Object(n["a"])({url:"/job/job/job_public",method:"post",data:o.stringify(t)})}function f(t){return Object(n["a"])({url:"/job/job/job_info",method:"post",data:o.stringify(t)})}function m(t){return Object(n["a"])({url:"/job/job/job_entry",method:"post",data:o.stringify(t)})}function p(t){return Object(n["a"])({url:"/job/job/job_entry_list",method:"post",data:o.stringify(t)})}function h(t){return Object(n["a"])({url:"/job/job/job_leave",method:"post",data:o.stringify(t)})}function g(t){return Object(n["a"])({url:"/job/job/job_career_info",method:"post",data:o.stringify(t)})}function b(t){return Object(n["a"])({url:"/job/interview/adds",method:"post",data:o.stringify(t)})}function y(t){return Object(n["a"])({url:"/job/interview/add",method:"post",data:o.stringify(t)})}function v(t){return Object(n["a"])({url:"/job/interview/save",method:"post",data:o.stringify(t)})}function I(t){return Object(n["a"])({url:"/job/interview/job_page",method:"post",data:o.stringify(t)})}function D(t){return Object(n["a"])({url:"/job/interview/my_job_page",method:"post",data:o.stringify(t)})}function w(t){return Object(n["a"])({url:"/job/interview/result",method:"post",data:o.stringify(t)})}var S="/job/job/template?token="+r,k="/job/job/import?token="+r,j="/job/interview/export?token="+r,x="/job/job/export?token="+r;function O(t){return Object(n["a"])({url:"/job/job/job_shift",method:"post",data:o.stringify(t)})}function _(t){return Object(n["a"])({url:"/job/job/job_contract_list",method:"post",data:o.stringify(t)})}function T(t){return Object(n["a"])({url:"/job/job/job_contract_add",method:"post",data:o.stringify(t)})}function M(t){return Object(n["a"])({url:"/job/job/job_contract_save",method:"post",data:o.stringify(t)})}function C(t){return Object(n["a"])({url:"/job/job/job_career_info_save",method:"post",data:o.stringify(t)})}function F(t){return Object(n["a"])({url:"/job/job/job_career_info_del",method:"post",data:o.stringify(t)})}function L(t){return Object(n["a"])({url:"/job/job/job_del",method:"post",data:o.stringify(t)})}function $(t){return Object(n["a"])({url:"/job/job/job_wages_config_save",method:"post",data:o.stringify(t)})}function A(t){return Object(n["a"])({url:"/job/job/job_wages_config_info",method:"post",data:o.stringify(t)})}function N(t){return Object(n["a"])({url:"/job/job/import_list",method:"post",data:o.stringify(t)})}function W(t){return Object(n["a"])({url:"/job/job/job_public_del",method:"post",data:o.stringify(t)})}function P(t){return Object(n["a"])({url:"/job/interview/my_job_del",method:"post",data:o.stringify(t)})}function R(t){return Object(n["a"])({url:"/job/job/job_client_list",method:"post",data:o.stringify(t)})}function B(t){return Object(n["a"])({url:"/job/job/job_on_list",method:"post",data:o.stringify(t)})}function z(t){return Object(n["a"])({url:"/site/auto",method:"post",data:o.stringify(t)})}function E(t){return Object(n["a"])({url:"/job/job/job_add_entry",method:"post",data:o.stringify(t)})}},"1f61":function(t,e,a){},"283b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Modal",{attrs:{data:"0",title:"客户详情",width:4==t.curTab?80:1e3,"mask-closable":!1},on:{"on-cancel":function(e){return t.cancel()}},model:{value:t.showAdd,callback:function(e){t.showAdd=e},expression:"showAdd"}},[i("transfer",{ref:"zhuanyi",on:{getInfo:t.getClientInfo}}),i("Row",[i("div",{staticStyle:{"padding-bottom":"20px","font-size":"12px"}},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{"margin-right":"20px"}},[t._v("【负责人："+t._s(this.formData.staffName||"暂无")+"】")]),i("Button",{attrs:{type:"primary"},on:{click:function(e){return t.show()}}},[t._v("转移给他人")])],1)]),i("Col",{attrs:{span:"18"}},[i("Tabs",{on:{"on-click":t.changeTab},model:{value:t.curTab,callback:function(e){t.curTab=e},expression:"curTab"}},[i("Tab-pane",{key:"0",attrs:{label:"跟进记录"}}),i("Tab-pane",{key:"1",attrs:{label:"客户资料"}}),i("Tab-pane",{key:"2",attrs:{label:"联系人"}}),i("Tab-pane",{key:"3",attrs:{label:"合同管理"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.curTab,expression:"curTab === 0"}]},[t.visitList.length>0?i("div",{staticClass:"follow-list"},[t._l(t.visitList,(function(e,a){return i("div",{key:a,staticClass:"item"},[i("div",{staticClass:"top",on:{click:function(i){return t.toggle(a,e.show)}}},[i("div",{staticClass:"times"},[i("span",[t._v(t._s(e.title))]),i("div",{staticClass:"toggle"},[t._v(t._s(e.show?"收起":"展开")),i("Icon",{class:e.show?"tsf":"",attrs:{type:"ios-arrow-down"}})],1)]),i("div",[t._v("创建于"+t._s(e.createTime))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],staticClass:"content"},[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",[t._v(t._s(e.time))]),i("Button",{attrs:{type:"primary"},on:{click:function(a){return t.showDetail(e)}}},[t._v("编辑")])],1),i("div",{staticClass:"line"},[i("label",[t._v("创建人：")]),i("div",[t._v(t._s(e.staffName))])]),i("div",{staticClass:"line"},[i("label",[t._v("客户联系人：")]),i("div",[t._v(t._s(e.personName))])]),i("div",{staticClass:"line"},[i("label",[t._v("状态：")]),i("div",[t._v(t._s(e.status||"无"))])]),i("div",{staticClass:"line"},[i("label",[t._v("拜访内容：")]),i("div",[t._v(t._s(e.content)+"\n                ")])])])])})),i("visitDetail",{ref:"recordDetail",on:{getList:t.getVisitList}})],2):i("div",{staticStyle:{padding:"40px 0","text-align":"center"}},[t._v("暂无跟进记录！")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.curTab,expression:"curTab === 1"}]},[i("Form",{ref:"formData",attrs:{model:t.formData,"label-width":100}},[i("div",{staticStyle:{"border-bottom":"solid 1px #e5e5e5","padding-bottom":"10px","margin-bottom":"10px"}},[t._v("基本信息")]),i("FormItem",{attrs:{label:"公司名称"}},[i("editInput",{attrs:{id:"name",empty:"",text:t.formData.name},on:{handleSubmit:t.callback}})],1),i("FormItem",{attrs:{label:"状态：","label-position":"top"}},[i("RadioGroup",{on:{"on-change":t.changeValue},model:{value:t.formData.isWork,callback:function(e){t.$set(t.formData,"isWork",e)},expression:"formData.isWork"}},[i("Radio",{attrs:{label:0}},[t._v("待开发")]),i("Radio",{attrs:{label:1}},[t._v("已合作")])],1)],1),i("FormItem",{attrs:{label:"客户头像","label-position":"top"}},[i("uploadImg",{attrs:{picArr:{pic:t.formData.logo||"",picName:t.formData.logo||""}},on:{uploadSuccess:t.handleSuccess}}),i("div",{staticStyle:{color:"#bbb"}},[t._v("建议尺寸：200*200px")])],1),i("FormItem",{attrs:{label:"客户类型"}},[i("editSelect",{attrs:{id:"type",iptId:String(t.formData.type),list:t.typeList},on:{handleSubmit:t.callback}})],1),i("FormItem",{attrs:{label:"合作模式"}},[i("editInput",{attrs:{id:"price",text:t.formData.price},on:{handleSubmit:t.callback}})],1),i("FormItem",{attrs:{label:"人才数量"}},[t._v("\n            "+t._s(t.formData.count)+"\n          ")]),i("FormItem",{attrs:{label:"行业类型"}},[t.showAdd?i("chooseIndustry",{attrs:{ids:t.ids},on:{change:t.changeId}}):t._e()],1),i("FormItem",{attrs:{label:"电话"}},[i("editInput",{attrs:{id:"tell",text:t.formData.tell},on:{handleSubmit:t.callback}}),i("div",{staticStyle:{color:"rgb(187, 187, 187)"}},[t._v("请填写联系人电话(座机格式'区号-座机号码')")])],1),i("FormItem",{attrs:{label:"地区"}},[1===t.curTab?i("chooseArea",{attrs:{ids:t.formData.area||[]},on:{change:t.changeAreaId}}):t._e()],1),i("FormItem",{attrs:{label:"详细地址"}},[i("editInput",{attrs:{id:"address",text:t.formData.address},on:{handleSubmit:t.callback}})],1),i("FormItem",{attrs:{label:"客户简介"}},[i("editTextarea",{attrs:{id:"introduction",text:t.formData.introduction},on:{handleSubmit:t.callback}})],1),i("div",{staticStyle:{"border-bottom":"solid 1px #e5e5e5","padding-bottom":"10px","margin-bottom":"10px"}},[t._v("其他信息")]),i("FormItem",{attrs:{label:"网址"}},[i("editInput",{attrs:{id:"website",text:t.formData.website},on:{handleSubmit:t.callback}})],1),i("FormItem",{attrs:{label:"人员规模"}},[i("chooseBaseData",{attrs:{id:"range",channel:"CLIENT_RANGE",basisId:String(t.formData.range)},on:{handleSubmit:t.getId}})],1)],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.curTab,expression:"curTab === 2"}]},[t.contactList.length>0?[t._l(t.contactList,(function(e,a){return i("div",{key:a,staticStyle:{"margin-bottom":"20px"}},[i("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","border-bottom":"solid 1px #e5e5e5","padding-bottom":"10px","margin-bottom":"10px"}},[i("div",[t._v(t._s(e.name))]),i("div",[i("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(a){return t.editPerson(e.personId)}}},[t._v("编辑")]),i("Button",{attrs:{type:"default"},on:{click:function(a){return t.delPerson(e.personId)}}},[t._v("删除")])],1)]),i("Form",{staticClass:"contacts",attrs:{"label-width":80}},[i("FormItem",{attrs:{label:"姓名："}},[t._v("\n                "+t._s(e.name)+"\n              ")]),i("FormItem",{attrs:{label:"部门："}},[t._v("\n                "+t._s(e.department)+"\n              ")]),i("FormItem",{attrs:{label:"职位："}},[t._v("\n                "+t._s(e.position)+"\n              ")]),i("FormItem",{attrs:{label:"手机："}},[t._v("\n                "+t._s(e.phone)+"\n              ")]),i("FormItem",{attrs:{label:"邮箱："}},[t._v("\n                "+t._s(e.email)+"\n              ")]),i("FormItem",{attrs:{label:"负责人："}},[t._v("\n                "+t._s(e.clientName)+"\n              ")])],1)],1)})),i("contactsDetail",{ref:"detail",attrs:{erTitle:"联系人详情"},on:{refresh:t.refresh}})]:i("div",{staticStyle:{padding:"40px 0",height:"200px","text-align":"center"}},[t._v("暂无联系人！")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.curTab,expression:"curTab === 3"}]},[i("div",{staticClass:"list",staticStyle:{"padding-bottom":"40px"}},[t._l(t.contractData,(function(e,n){return i("div",{key:n,staticClass:"item"},[i("div",{staticClass:"head"},[i("div",[i("div",[t._v("标题："+t._s(e.title))]),i("div",[t._v("合同类型："+t._s(e.basisName)+" ")]),i("div",[t._v("合同期限："+t._s(e.startTime)+" 至 "+t._s(e.endTime))]),i("div",{staticClass:"time"},[t._v("签订日期："+t._s(e.time)+" ")])]),i("div",{staticStyle:{display:"flex"}},[i("Button",{attrs:{type:"primary"},on:{click:function(a){return t.showContract(e,"edit")}}},[t._v("编辑")]),1===e.upcoming?i("div",{staticStyle:{"margin-left":"15px"}},[i("Button",{attrs:{type:"primary"},on:{click:function(a){return t.showContract(e,"xuyue")}}},[t._v("续约")])],1):t._e()],1)]),e.pic?i("div",{staticStyle:{"margin-top":"10px"}},[t._v("合同：")]):t._e(),i("div",{staticClass:"album",attrs:{id:"images"+n}},t._l(e.pic,(function(e,a){return i("div",{key:a,staticClass:"photo"},[i("img",{attrs:{src:t.demainUrl+e}}),i("div",{staticClass:"r-upload-list-cover"},[i("Icon",{attrs:{type:"ios-eye-outline"},on:{click:function(e){return t.handleView(a,"images"+n)}}})],1)])})),0),e.fileUrl?i("div",{staticStyle:{"margin-top":"10px"}},[i("div",[t._v("合同附件：")]),i("div",{staticClass:"file-img"},[i("img",{attrs:{src:a("b9de")}}),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return t.viewFile(e.fileUrl)}}})],1)])]):t._e()])})),i("div",{staticClass:"item",staticStyle:{"text-align":"center",border:"0"},on:{click:function(e){return t.showContract({},"add")}}},[i("Button",{staticStyle:{margin:"0 auto",width:"100%"},attrs:{type:"primary",icon:"ios-add"}},[t._v("添加合同")])],1)],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:4===t.curTab,expression:"curTab === 4"}],staticStyle:{"padding-bottom":"50px"}},[i("addWages",{ref:"wages",on:{getData:t.getWageList}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[i("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.showWage("")}}},[t._v("新增")])],1),i("Table",{attrs:{loading:t.loading,stripe:"",columns:t.columns,data:t.wageData}}),i("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[i("div",{staticStyle:{float:"left"}},[i("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),i("div",{staticStyle:{float:"right"}},[i("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page)},on:{"on-change":t.changePage}})],1)])],1)],1),i("Col",{attrs:{span:"6"}},[i("div",{staticStyle:{width:"100px",margin:"0 auto"}},[i("div",[t._v("操作")]),i("div",{staticStyle:{"margin-top":"10px"}},[i("Dropdown",{attrs:{trigger:"hover"},on:{"on-click":t.showAddCom}},[i("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"}},[t._v("\n              添加\n              "),i("Icon",{attrs:{type:"ios-arrow-down"}})],1),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i("DropdownItem",{attrs:{name:"1"}},[t._v("添加跟进")]),i("DropdownItem",{attrs:{name:"2"}},[t._v("添加联系人")])],1)],1)],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("Button",{staticStyle:{width:"100px"},attrs:{type:"default"},on:{click:function(e){return t.delClient()}}},[t._v("删除")])],1)])])],1),i("addContract",{ref:"contract",on:{getData:t.getContract}}),i("addContacts",{ref:"Drawer",on:{getList:t.getContactList}}),i("addVisit",{ref:"DrawerVisit",on:{getList:t.getVisitList}}),i("div",{staticClass:"demo-drawer-footer",attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.cancel()}}},[t._v("取消")])],1)],1)],1)},n=[],o=(a("7f7f"),a("c82c")),r=a.n(o),s=(a("0808"),a("c276")),l=a("0bec"),c=a("d31b"),d=a("6bcd"),u=a("a5ae"),f=a("49ce"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:t.erTitle,width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"标题","label-position":"top",prop:"title"}},[a("Input",{attrs:{maxlength:"30"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("FormItem",{attrs:{label:"合同签订日期","label-position":"top",prop:"time"}},[a("Date-picker",{attrs:{value:t.formData.time,type:"date",placeholder:"选择日期"},on:{"on-change":function(e){t.formData.time=e}}})],1),a("FormItem",{attrs:{label:"合同期限","label-position":"top",prop:"contractDate"}},[a("Date-picker",{staticStyle:{width:"100%"},attrs:{value:t.formData.contractDate,type:"daterange",placeholder:"选择日期"},on:{"on-change":t.handleChangeTime}})],1),a("FormItem",{attrs:{label:"合同类型","label-position":"top",prop:t.basisName?"":"basisId"}},[t.basisName?a("div",[t._v(t._s(t.basisName))]):a("Select",{model:{value:t.formData.basisId,callback:function(e){t.$set(t.formData,"basisId",e)},expression:"formData.basisId"}},t._l(t.typeList,(function(e,i){return a("Option",{key:i,attrs:{value:e.basisId}},[t._v(t._s(e.name)+"\n                ")])})),1)],1),a("FormItem",{attrs:{label:"合同电子档","label-position":"top"}},[a("div",{staticStyle:{color:"#bbb"}},[t._v("建议尺寸: 800*1100px")]),a("uploadImgList",{attrs:{id:"pic",picArr:t.formData.pic||[]},on:{uploadSuccess:t.handleSuccess}})],1),a("FormItem",{attrs:{label:"合同附件","label-position":"top"}},[a("div",{staticStyle:{color:"#bbb"}},[t._v("pdf/doc/docx格式文件，图片大小不超过3M。")]),a("uploadFile",{attrs:{picArr:{pic:t.formData.fileUrl,picName:t.formData.fileUrl}},on:{uploadSuccess:t.handleSuccessFile1}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("确定")])],1)],2)},p=[],h=a("a46c"),g=a("fbcf"),b=a("0658"),y=a("9411"),v=(a("2f62"),{components:{uploadImgList:h["a"],uploadFile:g["a"]},props:{},data:function(){return{loading:!0,sectionList:[],showModal:!1,formData:{time:"",pic:[],contractDate:[],basisId:"",title:"",fileUrl:""},ruleInline:{title:[{required:!0,message:"请填写合同标题",trigger:"blur"}],time:[{required:!0,message:"请选择签订时间",trigger:"change"}],contractDate:[{required:!0,type:"array",message:"请选择合同期限",trigger:"change"}],basisId:[{required:!0,type:"number",message:"请选择合同类型",trigger:"blur"}]},typeList:[],basisName:"",status:"",erTitle:""}},computed:{},watch:{showModal:function(t){this.formData.staffId=s["a"].cookies.get("staffId")}},methods:{getList:function(){var t=this;this.loading=!0,Object(y["h"])({type:"CLIENT"}).then((function(e){t.loading=!1,0===e.ret?t.typeList=e.data:t.$Message.error(e.msg||"接口错误")}))},getInfo:function(){var t=this;Object(b["e"])({contractId:this.formData.contractId}).then((function(e){t.formData=e.data.info,t.formData.contractDate=[e.data.info.startTime,e.data.info.endTime],e.data.info.fileUrl?t.formData.fileUrl=e.data.info.fileUrl:t.formData.fileUrl=""}))},DrawerToShow:function(t,e,a){this.status=a,console.log(this.status,"aaaa"),"edit"===a?(this.erTitle="编辑合同",this.formData.contractId=e.contractId,this.getInfo()):"xuyue"===a?(this.erTitle="续约合同",this.formData.basisId=e.basisId,this.basisName=e.basisName,this.formData.clientId=t):(this.formData.clientId=t,this.erTitle="新增合同"),this.showModal=!0,this.loading=!0,this.getList()},handleReset:function(t){this.showModal=!1,this.formData.pic=[],this.formData.fileUrl="",this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(a){a?(console.log(e.status,"aaa==="),"edit"==e.status?Object(b["v"])(e.formData).then((function(a){e.$Message.success("修改成功！"),e.$emit("getData"),e.showModal=!1,e.formData.pic=[],e.formData.fileUrl="",e.$refs[t].resetFields(),e.$store.dispatch("admin/global/toSum")})):Object(b["b"])(e.formData).then((function(a){e.$Message.success("已保存！"),e.$emit("getData"),e.showModal=!1,e.formData.pic=[],e.$refs[t].resetFields(),e.$store.dispatch("admin/global/toSum")}))):e.$Message.error("表单验证失败!")}))},handleChangeTime:function(t){this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||"",this.formData.contractDate=t},handleSuccess:function(t){this.formData.pic=t},handleSuccessFile1:function(t){this.formData.fileUrl=t.pic}},mounted:function(){},beforeDestroy:function(){},created:function(){}}),I=v,D=a("2877"),w=Object(D["a"])(I,m,p,!1,null,"41026489",null),S=w.exports,k=a("dd70"),j=a("3621"),x=a("3ffe"),O=a("40cb"),_=a("54d9"),T=a("b923"),M=a("37fe"),C=a("7f3d"),F={name:"detail",components:{editInput:l["a"],editTextarea:c["a"],transfer:f["a"],chooseIndustry:u["a"],editSelect:d["a"],addContract:S,chooseArea:k["a"],addVisit:j["a"],addContacts:x["a"],uploadImg:O["a"],chooseBaseData:_["a"],visitDetail:T["a"],addWages:M["a"],contactsDetail:C["a"]},data:function(){var t=this;return{demainUrl:s["a"].cookies.get("domainUrl"),showAdd:!1,curTab:0,data:[],isShow:!1,formData:{},typeList:[{id:"1",name:"潜在客户"},{id:"2",name:"普通客户"},{id:"3",name:"重要客户"},{id:"4",name:"无机会客户"}],visitList:[],contactList:[],ids:[],contractData:[],staffName:"",payConfig:{},columns:[{title:"配置名称",key:"name"},{title:"客户名称",key:"clientName"},{title:"午餐时间",key:"eatTime"},{title:"电费",key:"electricityFees"},{title:"水费",key:"waterFees"},{title:"餐费",key:"foodFees"},{title:"租房",key:"renting"},{title:"社保",key:"socialSecurity"},{title:"绩效",key:"achievements"},{title:"奖金",key:"bonus"},{title:"补助",key:"subisdy"},{title:"操作",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showWage(a.row.id)}}},"编辑")])}}],loading:!1,pageination:{page:1,pageSize:10,count:1},page:1,wageData:[],imgName:"",visible:!1}},props:{erTitle:{type:String},status:{type:String}},methods:{changePage:function(t){this.page=t,this.getWageList()},showWage:function(t){this.$refs.wages.DrawerToShow(this.formData.clientId,t)},getWageList:function(){var t=this;this.loading=!0,Object(b["A"])({clientId:this.formData.clientId,page:this.page,pageSize:10}).then((function(e){t.loading=!1,t.wageData=e.data.list,t.pageination=e.data.pageInfo}))},getContract:function(){var t=this;Object(b["f"])({clientId:this.formData.clientId,pageSize:999}).then((function(e){t.loading=!1,0===e.ret?(t.contractData=e.data.list,t.getClientInfo()):t.$Message.error(e.msg||"接口错误")}))},getVisitList:function(){var t=this;this.loading=!0,Object(b["j"])({clientId:this.formData.clientId,page:this.page,pageSize:999}).then((function(e){t.loading=!1,0===e.ret?t.visitList=e.data.list:t.$Message.error(e.msg||"接口错误")}))},refresh:function(){var t=this;setTimeout((function(){t.getContactList()}),500)},getContactList:function(){var t=this;this.loading=!0,Object(b["o"])({clientId:this.formData.clientId,page:this.page,pageSize:999}).then((function(e){t.loading=!1,0===e.ret?t.contactList=e.data.list:t.$Message.error(e.msg||"接口错误")}))},delPerson:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"<p>确认删除该联系人？</p>",onOk:function(){Object(b["r"])({personId:t}).then((function(t){0===t.ret&&(e.$Message.success("删除成功"),e.getContactList())}))},onCancel:function(){}})},delClient:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>确认删除该客户？</p>",onOk:function(){Object(b["p"])({clientId:t.formData.clientId}).then((function(e){0===e.ret&&(t.$Message.success("删除成功"),t.cancel())}))},onCancel:function(){}})},callback:function(t,e){console.log(t,e),this.formData[t]=e,this.handleSubmit()},getConfig:function(t,e){this.payConfig[t]=e,this.handleWages()},handleWages:function(){var t=this;saveWages(this.payConfig).then((function(e){0===e.ret?t.$Message.success("已保存"):t.$Message.error(e.msg)}))},handleSubmit:function(){var t=this;this.formData.industryId=this.formData.industry,Object(b["u"])(this.formData).then((function(e){0===e.ret?t.$Message.success("修改成功！"):t.$Message.error(e.msg||"接口错误")}))},getClientInfo:function(){var t=this;Object(b["h"])({clientId:this.formData.clientId}).then((function(e){if(0===e.ret){t.formData=e.data.info||{},t.ids=e.data.info.industryId;var a=e.data.info.industryId.length-1;t.formData.industry=e.data.info.industryId[a],t.formData.area=e.data.info.area||[]}}))},show:function(){this.$refs.zhuanyi.DrawerToShow(this.formData.clientId,this.formData.staffId,this.formData.name,"customer")},showAddCom:function(t){"1"===t?this.showVisit():"2"===t&&this.showContacts()},showContacts:function(t){console.log(t,"aaaaa"),this.$refs.Drawer.DrawerToShow(this.formData.clientId,this.formData.name)},showVisit:function(t){console.log(t,"bbbbbb"),this.$refs.DrawerVisit.DrawerToShow(this.formData.clientId,this.formData.name,this.formData.staffId)},DrawerToShow:function(t,e){this.curTab=1,this.formData.clientId=t,this.staffName=e,this.getClientInfo(),this.getVisitList(),this.getContactList(),this.getContract(),this.showAdd=!0},cancel:function(){this.showAdd=!1,this.$emit("getList")},toggle:function(t,e){delete this.visitList[t].show,this.$set(this.visitList[t],"show",!e)},changeId:function(t){this.ids=t;var e=t.length-1;this.formData.industry=t[e],this.handleSubmit()},changeAreaId:function(t){this.formData.area=t,this.handleSubmit()},handleSuccess:function(t){this.formData.logo=t.pic,this.handleSubmit()},changeRange:function(t,e){console.log(t,e,"aaaa"),this.formData[e]=t,console.log(this.formData[e],"ssss")},showContract:function(t,e){this.$refs.contract.DrawerToShow(this.formData.clientId,t,e)},handleView:function(t,e){var a=new r.a(document.getElementById(e),{initialViewIndex:t,title:!1,navbar:!1,hidden:function(){a.destroy()}});a.show()},getId:function(t,e){this.formData[e]=t,this.handleSubmit()},changeValue:function(){this.handleSubmit()},showDetail:function(t){this.$refs.recordDetail.DrawerToShow(t)},editPerson:function(t){this.$refs.detail.DrawerToShow(t)},changeTab:function(t){console.log(t,"ppo"),4===t&&this.getWageList()},viewFile:function(t){this.imgName=this.demainUrl+t,window.open(this.demainUrl+t,"_blank"),this.visible=!0}},created:function(){},mounted:function(){}},L=F,$=(a("cbf1"),Object(D["a"])(L,i,n,!1,null,"5f9f2142",null));e["a"]=$.exports},"2e3c":function(t,e,a){"use strict";a.d(e,"k",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return s})),a.d(e,"i",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"e",(function(){return d})),a.d(e,"g",(function(){return u})),a.d(e,"f",(function(){return f})),a.d(e,"a",(function(){return m})),a.d(e,"n",(function(){return p})),a.d(e,"o",(function(){return h})),a.d(e,"h",(function(){return g})),a.d(e,"l",(function(){return b})),a.d(e,"j",(function(){return y})),a.d(e,"m",(function(){return v}));var i=a("b6bd"),n=a("4328");function o(t){return Object(i["a"])({url:"/supplier/supplier/supplier_list",method:"post",data:n.stringify(t)})}function r(t){return Object(i["a"])({url:"/supplier/supplier/supplier_add",method:"post",data:n.stringify(t)})}function s(t){return Object(i["a"])({url:"/supplier/supplier/supplier_save",method:"post",data:n.stringify(t)})}function l(t){return Object(i["a"])({url:"/supplier/supplier/supplier_info",method:"post",data:n.stringify(t)})}function c(t){return Object(i["a"])({url:"/supplier/supplier/supplier_contract_add",method:"post",data:n.stringify(t)})}function d(t){return Object(i["a"])({url:"/supplier/supplier/supplier_contract_save",method:"post",data:n.stringify(t)})}function u(t){return Object(i["a"])({url:"/supplier/supplier/supplier_contract_list",method:"post",data:n.stringify(t)})}function f(t){return Object(i["a"])({url:"/supplier/supplier/supplier_contract_info",method:"post",data:n.stringify(t)})}function m(t){return Object(i["a"])({url:"/supplier/supplier/supplier_record_add",method:"post",data:n.stringify(t)})}function p(t){return Object(i["a"])({url:"/supplier/supplier/select",method:"post",data:n.stringify(t)})}function h(t){return Object(i["a"])({url:"/supplier/supplier/supplier_shift",method:"post",data:n.stringify(t)})}function g(t){return Object(i["a"])({url:"/supplier/supplier/supplier_del",method:"post",data:n.stringify(t)})}function b(t){return Object(i["a"])({url:"/supplier/supplier/supplier_record_list",method:"post",data:n.stringify(t)})}function y(t){return Object(i["a"])({url:"/supplier/supplier/supplier_job_list",method:"post",data:n.stringify(t)})}function v(t){return Object(i["a"])({url:"/supplier/supplier/supplier_record_del",method:"post",data:n.stringify(t)})}},"2fa3":function(t,e,a){},3616:function(t,e,a){"use strict";var i=a("1f61"),n=a.n(i);n.a},3621:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"新建拜访",width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"标题：","label-position":"top",prop:"title"}},[a("Input",{model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("FormItem",{attrs:{label:"日期：","label-position":"top",prop:"time"}},[a("DatePicker",{attrs:{value:t.formData.time,type:"date"},on:{"on-change":function(e){t.formData.time=e}}})],1),a("FormItem",{attrs:{label:"方式：","label-position":"top",prop:"followType"}},[a("RadioGroup",{model:{value:t.formData.followType,callback:function(e){t.$set(t.formData,"followType",e)},expression:"formData.followType"}},t._l(t.followTypeList,(function(e,i){return a("Radio",{key:i,attrs:{label:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),1)],1),a("FormItem",{attrs:{label:"时段：","label-position":"top"}},[a("TimePicker",{attrs:{format:"HH:mm",type:"timerange",placement:"bottom-end",placeholder:"选择时间"},on:{"on-change":t.changeTime},model:{value:t.rangTime,callback:function(e){t.rangTime=e},expression:"rangTime"}})],1),a("FormItem",{attrs:{label:"拜访客户","label-position":"top",prop:"clientId"}},[a("div",{staticStyle:{display:"flex"}},[a("Select",{attrs:{filterable:""},on:{"on-query-change":t.changeClient},model:{value:t.formData.clientId,callback:function(e){t.$set(t.formData,"clientId",e)},expression:"formData.clientId"}},t._l(t.selectClient,(function(e,i){return a("Option",{key:i,attrs:{value:Number(i)}},[t._v(t._s(e))])})),1)],1),t.showModal?a("chooseCustomer",{ref:"customer",on:{handleChoose:t.handleChoose}}):t._e()],1)," "!=String(t.formData.clientId)?a("FormItem",{attrs:{label:"客户联系人：","label-position":"top",prop:"personId"}},[a("Select",{attrs:{filterable:""},model:{value:t.formData.personId,callback:function(e){t.$set(t.formData,"personId",e)},expression:"formData.personId"}},t._l(t.list,(function(e,i){return a("Option",{key:i,attrs:{value:i}},[t._v(t._s(e))])})),1)],1):t._e(),a("FormItem",{attrs:{label:"负责人","label-position":"top",prop:"staffId"}},[a("chooseStaff",{attrs:{id:"staffId",staffId:String(t.formData.staffId)},on:{handleSubmit:t.getId}})],1),a("FormItem",{attrs:{label:"状态：","label-position":"top",prop:"status"}},[a("Select",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("Option",{attrs:{value:"0"}},[t._v("跟进")]),a("Option",{attrs:{value:"1"}},[t._v("成交")])],1)],1),a("FormItem",{attrs:{label:"拜访内容：","label-position":"top",prop:"content"}},[a("Input",{attrs:{type:"textarea",rows:6},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1),a("FormItem",{attrs:{label:"附件：","label-position":"top"}},[a("div",{staticStyle:{color:"#bbb"}},[t._v("建议尺寸: 800*1100px")]),a("uploadImgList",{attrs:{id:"pic",picArr:[]},on:{uploadSuccess:t.handlePics}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("确定")])],1)],2)},n=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("bd86")),r=a("2f62"),s=a("c276"),l=a("a46c"),c=a("e6a1"),d=a("0658");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={components:{uploadImgList:l["a"],chooseStaff:c["a"]},props:{},data:function(){return{loading:!0,sectionList:[],showModal:!1,data:[],formData:{title:"",time:"",followType:0,staffId:"",clientId:"",personId:"",status:"",content:""},rangTime:[],followTypeList:[{id:1,name:"电话"},{id:2,name:"邮件"},{id:3,name:"面谈"},{id:4,name:"其他"}],ruleInline:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],time:[{required:!0,type:"string",message:"请添加拜访时间",trigger:"change"}],followType:[{required:!0,type:"number",message:"请选择拜访方式",trigger:"change"}],status:[{required:!0,message:"请选择拜访状态",trigger:"change"}]},list:{},clientName:""}},computed:f({},Object(r["e"])("admin/global",["selectClient"])),watch:{},methods:{getPerson:function(){var t=this;Object(d["t"])({clientId:this.formData.clientId}).then((function(e){0===e.ret?(t.list=e.data.list,console.log(e)):t.$Message.error(e.msg||"接口错误")}))},DrawerToShow:function(t,e,a){t?(this.formData.clientId=t,this.clientName=e,this.formData.staffId=a,this.getPerson()):(this.formData.clientId="",this.formData.staffId=s["a"].cookies.get("staffId")),this.showModal=!0,this.loading=!0},handleReset:function(t){this.showModal=!1,this.formData.pic=[],this.rangTime=[],this.clientName="",this.formData.clientId="",this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(a){a?Object(d["c"])(e.formData).then((function(a){0===a.ret?(e.$Message.success("保存成功！"),e.showModal=!1,e.$emit("getList"),e.formData.pic=[],e.rangTime=[],e.clientName="",e.formData.clientId="",e.$refs[t].resetFields()):e.$Message.error(a.msg||"接口错误")})):e.$Message.error("表单验证失败!")}))},changeTime:function(t){this.rangTime=t,this.formData.start=t[0]||"",this.formData.end=t[1]||""},handlePics:function(t){this.formData.pic=t},getClientId:function(t){this.formData.clientId=t},getId:function(t,e){this.formData[e]=t},changeClient:function(){this.getPerson()},handleChoose:function(t,e){this.formData.clientId=t,this.clientName=e,this.getPerson()},showCustomer:function(){this.$refs.customer.DrawerToShow()}},mounted:function(){},beforeDestroy:function(){},created:function(){}},p=m,h=(a("bacd"),a("2877")),g=Object(h["a"])(p,i,n,!1,null,"280a3998",null);e["a"]=g.exports},"37fe":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"工资配置",width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"payConfig",attrs:{model:t.payConfig,rules:t.ruleInline,"label-width":130}},[a("FormItem",{attrs:{label:"配置名称",prop:"name"}},[a("Input",{model:{value:t.payConfig.name,callback:function(e){t.$set(t.payConfig,"name",e)},expression:"payConfig.name"}})],1),a("FormItem",{attrs:{label:"吃饭时长(分钟)",prop:"eatTime"}},[a("Input",{model:{value:t.payConfig.eatTime,callback:function(e){t.$set(t.payConfig,"eatTime",e)},expression:"payConfig.eatTime"}})],1),a("FormItem",{attrs:{label:"电费",prop:"electricityFees"}},[a("Input",{attrs:{prop:""},model:{value:t.payConfig.electricityFees,callback:function(e){t.$set(t.payConfig,"electricityFees",e)},expression:"payConfig.electricityFees"}})],1),a("FormItem",{attrs:{label:"水费",prop:"waterFees"}},[a("Input",{model:{value:t.payConfig.waterFees,callback:function(e){t.$set(t.payConfig,"waterFees",e)},expression:"payConfig.waterFees"}})],1),a("FormItem",{attrs:{label:"餐费",prop:"foodFees"}},[a("Input",{model:{value:t.payConfig.foodFees,callback:function(e){t.$set(t.payConfig,"foodFees",e)},expression:"payConfig.foodFees"}})],1),a("FormItem",{attrs:{label:"租房",prop:"renting"}},[a("Input",{model:{value:t.payConfig.renting,callback:function(e){t.$set(t.payConfig,"renting",e)},expression:"payConfig.renting"}})],1),a("FormItem",{attrs:{label:"社保",prop:"socialSecurity"}},[a("Input",{model:{value:t.payConfig.socialSecurity,callback:function(e){t.$set(t.payConfig,"socialSecurity",e)},expression:"payConfig.socialSecurity"}})],1),a("FormItem",{attrs:{label:"绩效",prop:"achievements"}},[a("Input",{model:{value:t.payConfig.achievements,callback:function(e){t.$set(t.payConfig,"achievements",e)},expression:"payConfig.achievements"}})],1),a("FormItem",{attrs:{label:"奖金",prop:"bonus"}},[a("Input",{model:{value:t.payConfig.bonus,callback:function(e){t.$set(t.payConfig,"bonus",e)},expression:"payConfig.bonus"}})],1),a("FormItem",{attrs:{label:"补助",prop:"subisdy"}},[a("Input",{model:{value:t.payConfig.subisdy,callback:function(e){t.$set(t.payConfig,"subisdy",e)},expression:"payConfig.subisdy"}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("payCinfig")}}},[t._v("关闭")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleWages("payConfig")}}},[t._v("保存")])],1)],2)},n=[],o=(a("7f7f"),a("c276"),a("a5ae")),r=a("e6a1"),s=a("dd70"),l=a("40cb"),c=a("54d9"),d=a("0658"),u={components:{chooseIndustry:o["a"],chooseStaff:r["a"],chooseArea:s["a"],uploadImg:l["a"],chooseBaseData:c["a"]},props:{},data:function(){return{loading:!0,sectionList:[],showModal:!1,data:[],staffId:"33",ids:[],curTab:0,payConfig:{},ruleInline:{name:[{required:!0,message:"请填写配置名称",trigger:"blur"}]}}},computed:{},watch:{},methods:{getWagesInfo:function(){var t=this;Object(d["z"])({id:this.payConfig.id}).then((function(e){0===e.data.info.length?t.payConfig={}:t.payConfig=e.data.info,t.payConfig.clientId=t.formData.clientId}))},DrawerToShow:function(t,e){this.payConfig.clientId=t,this.payConfig.id=e,this.showModal=!0,this.loading=!0,e&&this.getWagesInfo()},handleReset:function(t){this.showModal=!1,this.$refs[t].resetFields(),this.$emit("getList")},handleWages:function(t){var e=this;Object(d["y"])(this.payConfig).then((function(a){0===a.ret?(e.$Message.success("已保存"),e.$refs[t].resetFields(),e.showModal=!1,e.$emit("getData")):e.$Message.error(a.msg)}))}},mounted:function(){},beforeDestroy:function(){},created:function(){}},f=u,m=a("2877"),p=Object(m["a"])(f,i,n,!1,null,"55796d46",null);e["a"]=p.exports},"3ffe":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"新增联系人",width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"姓名","label-position":"top",prop:"name"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t.showModal?a("FormItem",{attrs:{label:"公司","label-position":"top",prop:"clientId"}},[a("div",{staticStyle:{display:"flex"}},[a("Select",{attrs:{filterable:""},model:{value:t.formData.clientId,callback:function(e){t.$set(t.formData,"clientId",e)},expression:"formData.clientId"}},t._l(t.selectClient,(function(e,i){return a("Option",{key:i,attrs:{value:Number(i)}},[t._v(t._s(e))])})),1)],1),a("chooseCustomer",{ref:"customer",on:{handleChoose:t.handleChoose}})],1):t._e(),a("FormItem",{attrs:{label:"手机号码","label-position":"top",prop:"phone"}},[a("Input",{model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("FormItem",{attrs:{label:"座机","label-position":"top",prop:"tell"}},[a("Input",{model:{value:t.formData.tell,callback:function(e){t.$set(t.formData,"tell",e)},expression:"formData.tell"}})],1),a("FormItem",{attrs:{label:"部门",prop:"department"}},[a("Input",{model:{value:t.formData.department,callback:function(e){t.$set(t.formData,"department",e)},expression:"formData.department"}})],1),a("FormItem",{attrs:{label:"岗位","label-position":"top",prop:"position"}},[a("Input",{model:{value:t.formData.position,callback:function(e){t.$set(t.formData,"position",e)},expression:"formData.position"}})],1),a("FormItem",{attrs:{label:"邮箱","label-position":"top",prop:"email"}},[a("Input",{model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),a("FormItem",{attrs:{label:"备注","label-position":"top",prop:"remark"}},[a("Input",{attrs:{type:"textarea",rows:4},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1),a("FormItem",{attrs:{label:"微信","label-position":"top",prop:"weixin"}},[a("Input",{model:{value:t.formData.weixin,callback:function(e){t.$set(t.formData,"weixin",e)},expression:"formData.weixin"}})],1),a("FormItem",{attrs:{label:"qq","label-position":"top",prop:"qq"}},[a("Input",{model:{value:t.formData.qq,callback:function(e){t.$set(t.formData,"qq",e)},expression:"formData.qq"}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("确定")])],1)],2)},n=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("bd86")),r=a("2f62"),s=a("c276"),l=a("0658");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={components:{},props:{},data:function(){var t;return t={loading:!0,sectionList:[],showModal:!1,data:[],staffId:"33",formData:{name:"",phone:"",staffId:"",clientId:"",position:"",department:"",tell:"",email:"",remark:"",weixin:"",qq:"",clientName:""},ids:[],ruleInline:{name:[{required:!0,message:"请填写联系人姓名",trigger:"blur"}],phone:[{required:!0,message:"请填写联系人手机号",trigger:"blur"}],clientId:[{required:!0,type:"number",message:"请选择客户",trigger:"change"}],department:[{required:!0,message:"请填写部门",trigger:"blur"}],position:[{required:!0,message:"请填写岗位",trigger:"blur"}]},departmentIds:[]},Object(o["a"])(t,"ids",[]),Object(o["a"])(t,"clientList",{}),t},computed:d({},Object(r["e"])("admin/global",["selectClient"])),watch:{showModal:function(t){this.formData.staffId=s["a"].cookies.get("staffId")}},methods:{getClientList:function(){var t=this;Object(l["m"])().then((function(e){t.clientList=e.data.select}))},getStaffId:function(t){this.formData.staffId=t},changeId:function(t){var e=t.length-1;this.formData.industryId=t[e]},DrawerToShow:function(t,e){console.log(t,e,"客户ID"),t&&(this.formData.clientId=t,this.formData.clientName=e),this.showModal=!0,this.loading=!0,this.getClientList()},handleReset:function(t){this.showModal=!1,this.formData.clientId="",this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(a){a?Object(l["d"])(e.formData).then((function(a){0===a.ret?(e.$Message.success("保存成功！"),e.showModal=!1,e.$emit("getList"),e.formData.clientId="",e.$refs[t].resetFields()):e.$Message.error(a.msg||"接口错误")})):e.$Message.error("表单验证失败!")}))},handleChoose:function(t,e){this.formData.clientId=t,this.formData.clientName=e},showCustomer:function(){this.$refs.customer.DrawerToShow()}},mounted:function(){},beforeDestroy:function(){},created:function(){}},f=u,m=a("2877"),p=Object(m["a"])(f,i,n,!1,null,"2d2f6362",null);e["a"]=p.exports},"40cb":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[""!=t.picArr.picName?i("div",{staticClass:"demo-upload-list"},[[i("img",{attrs:{src:t.demainUrl+t.picArr.pic}}),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){return t.handleView(t.picArr.pic)}}}),i("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(e)}}})],1)]],2):t._e(),i("Upload",{directives:[{name:"show",rawName:"v-show",value:"view"!=t.status&&""==t.picArr.picName,expression:"status!='view' && picArr.picName == ''"}],ref:"upload",staticStyle:{display:"inline-block",width:"100px",height:"100px"},attrs:{name:"img","show-upload-list":!1,"on-success":t.handleSuccess,format:["jpg","jpeg","png","gif"],"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.beforeUpload,type:"drag",action:t.uploadImg}},[i("Modal",{attrs:{title:"图片预览"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?i("img",{staticStyle:{width:"100%"},attrs:{src:t.imgName}}):t._e()]),i("div",{staticStyle:{width:"100px",height:"100px","line-height":"100px"}},[t.loadingImg?t._e():i("Icon",{attrs:{type:"ios-camera",size:"30"}}),t.loadingImg?i("img",{staticStyle:{display:"inline-block",width:"50px",height:"50px","margin-top":"25px"},attrs:{src:a("12ae")}}):t._e()],1)],1)],1)},n=[],o=(a("7f7f"),a("ba9f")),r=a("7e1e"),s=a("c276"),l={data:function(){return{loadingImg:!1,picName:"",uploadImg:r["b"],demainUrl:s["a"].cookies.get("domainUrl"),headers:{"Access-Control-Allow-Origin":"*"},visible:!1,imgName:""}},props:{status:{type:String},picArr:{type:Object}},computed:{},methods:{beforeUpload:function(t){return this.loadingImg=!0,new Promise((function(e,a){console.log("压缩前",t),o["compressAccurately"](t,1e3).then((function(a){a=new File([a],t.name,{type:a.type,lastModified:Date.now()}),console.log("压缩后",a),e(a)}))}))},handleSuccess:function(t,e){this.loadingImg=!1,0==t.ret?(this.picArr.picName=t.data.imgUrl,this.picArr.pic=t.data.url,this.$emit("uploadSuccess",this.picArr)):this.$Notice.warning({title:"上传失败",desc:t.msg})},handleFormatError:function(t){this.loadingImg=!1,this.loadingSmall=!1,this.$Notice.warning({title:"图片格式上传错误",desc:"文件 "+t.name+" 格式错误, 请选择图片格式例jpg,png,gif"})},handleMaxSize:function(t){this.loadingImg=!1,this.loadingSmall=!1,this.$Notice.warning({title:"超出文件大小限制",desc:"文件  "+t.name+"太大, 不能大于2M"})},handleRemove:function(){this.loadingImg=!0,this.$set(this.picArr,"picName",""),this.$set(this.picArr,"pic",""),this.loadingImg=!1,this.$emit("uploadSuccess",this.picArr)},handleView:function(t){this.imgName=this.demainUrl+t,this.visible=!0}},created:function(){},mounted:function(){}},c=l,d=(a("5ee3"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,"cef48bb6",null);e["a"]=u.exports},"49ce":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{attrs:{"mask-closable":!1,title:"转移客户",width:600},on:{"on-cancel":function(e){return t.handleReset()}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[i("Form",{attrs:{"label-width":130}},[i("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","margin-bottom":"40px"}},[i("img",{staticStyle:{width:"48px"},attrs:{src:a("55f2")}}),i("div",{staticStyle:{"margin-left":"10px"}},[t._v("是否将【"+t._s(t.name)+"】转移给其他负责人？"),i("br"),t._v("转移成功之后，该操作将无法恢复")])]),i("FormItem",{attrs:{label:"新负责人","label-position":"top"}},[i("chooseStaff",{attrs:{staffId:String(t.staffId)},on:{handleSubmit:t.getStaffId}})],1)],1),i("template",{slot:"footer"},[i("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset()}}},[t._v("取消")]),i("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit()}}},[t._v("确定")])],1)],2)},n=[],o=a("e6a1"),r=a("0658"),s=a("2e3c"),l=a("1808"),c={components:{chooseStaff:o["a"]},props:{},data:function(){return{loading:!0,sectionList:[],showModal:!1,staffId:"",name:"",fromPage:"",id:""}},computed:{},watch:{},methods:{getStaffId:function(t){this.staffId=t},DrawerToShow:function(t,e,a,i){console.log(t),this.fromPage=i,this.showModal=!0,this.loading=!0,this.id=t,this.staffId=e,this.name=a},handleReset:function(){this.showModal=!1,this.$emit("getInfo")},handleSubmit:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>确认转移？</p>",onOk:function(){"customer"===t.fromPage?Object(r["n"])({staffId:t.staffId,clientId:t.id}).then((function(e){t.$Message.success("转移成功！"),t.handleReset()})):"supplier"===t.fromPage?Object(s["o"])({staffId:t.staffId,supplierId:t.id}).then((function(e){t.$Message.success("转移成功！"),t.handleReset()})):"talent"===t.fromPage&&Object(l["v"])({staffId:t.staffId,jobId:t.id}).then((function(e){t.$Message.success("转移成功！"),t.handleReset()}))},onCancel:function(){}})}},mounted:function(){},beforeDestroy:function(){},created:function(){}},d=c,u=a("2877"),f=Object(u["a"])(d,i,n,!1,null,"4eb42689",null);e["a"]=f.exports},"4b92":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{attrs:{model:t.formData,inline:"","label-width":100}},[a("FormItem",{attrs:{label:"客户名称：","label-position":"top"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"状态：","label-position":"top"}},[a("RadioGroup",{model:{value:t.formData.isWork,callback:function(e){t.$set(t.formData,"isWork",e)},expression:"formData.isWork"}},[a("Radio",{attrs:{label:-1}},[t._v("所有")]),a("Radio",{attrs:{label:0}},[t._v("待开发")]),a("Radio",{attrs:{label:1}},[t._v("已合作")])],1)],1),a("FormItem",{attrs:{label:"","label-position":"top","label-width":0}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"default"},on:{click:function(e){return t.clear()}}},[t._v("重置")])],1),a("div",{class:t.isShow?"":"none"},[a("FormItem",{attrs:{label:"客户类型：","label-position":"top"}},[a("editSelect",{attrs:{id:"type",iptId:String(t.formData.type),list:t.typeList},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"行业：","label-position":"top"}},[a("chooseIndustry",{attrs:{ids:t.ids},on:{change:t.changeId}})],1),a("FormItem",{attrs:{label:"创建时间：","label-position":"top"}},[a("DatePicker",{attrs:{value:t.time,type:"daterange"},on:{"on-change":t.handleChangeTime}})],1),a("FormItem",{attrs:{label:"人员规模：","label-position":"top"}},[a("chooseBaseData",{attrs:{id:"range",channel:"CLIENT_RANGE",basisId:String(t.formData.range)},on:{handleSubmit:t.getId}})],1)],1),a("div",{staticClass:"sx-box",on:{click:t.screen}},[t._v("\n        "+t._s(t.isShow?"收起":"更多筛选")+" "),a("Icon",{class:t.isShow?"turn":"",attrs:{type:"ios-arrow-down"}})],1)],1)],1),a("Card",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("div",[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.exportData()}}},[t._v("导出")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error"},on:{click:t.onDelete}},[t._v("删除")])],1),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.show()}}},[t._v("新增")])],1),a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData},on:{"on-selection-change":t.chooseSelect}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1),a("addCustomer",{ref:"Drawer",on:{getList:t.editData}}),a("customerDetail",{ref:"detail",attrs:{erTitle:t.erTitle},on:{getList:t.editData}})],1)},n=[],o=(a("8e6e"),a("456d"),a("ac6a"),a("bd86")),r=(a("7f7f"),a("2f62"),a("c276")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"新增客户",width:0==t.curTab?600:90},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"客户名称","label-position":"top",prop:"name"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"客户头像","label-position":"top"}},[a("uploadImg",{attrs:{picArr:{pic:t.formData.logo||"",picName:t.formData.logo||""}},on:{uploadSuccess:t.handleSuccess}}),a("div",{staticStyle:{color:"#bbb"}},[t._v("建议尺寸：200*200px")])],1),a("FormItem",{attrs:{label:"客户类型","label-position":"top",prop:"type"}},[a("Select",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},t._l(t.typeList,(function(e,i){return a("Option",{key:i,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{attrs:{label:"合作模式",prop:"price"}},[a("Input",{model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}})],1),a("FormItem",{attrs:{label:"电话","label-position":"top",prop:"tell"}},[a("Input",{attrs:{placeholder:"请填写联系人手机或座机(座机格式'区号-座机号码')"},model:{value:t.formData.tell,callback:function(e){t.$set(t.formData,"tell",e)},expression:"formData.tell"}})],1),a("FormItem",{attrs:{label:"负责人","label-position":"top",prop:"staffId"}},[a("chooseStaff",{attrs:{staffId:String(t.formData.staffId)},on:{handleSubmit:t.getStaffId}})],1),a("FormItem",{attrs:{label:"行业类型","label-position":"top"}},[t.showModal?a("chooseIndustry",{attrs:{ids:t.ids},on:{change:t.changeId}}):t._e()],1),a("FormItem",{attrs:{label:"地区","label-position":"top"}},[t.showModal?a("chooseArea",{attrs:{ids:t.ids},on:{change:t.changeAreaId}}):t._e()],1),a("FormItem",{attrs:{label:"详细地址","label-position":"top",prop:"address"}},[a("Input",{model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),a("FormItem",{attrs:{label:"客户简介","label-position":"top",prop:"introduction"}},[a("Input",{attrs:{type:"textarea",rows:4},model:{value:t.formData.introduction,callback:function(e){t.$set(t.formData,"introduction",e)},expression:"formData.introduction"}})],1),a("FormItem",{attrs:{label:"请输入网址","label-position":"top",prop:"website"}},[a("Input",{model:{value:t.formData.website,callback:function(e){t.$set(t.formData,"website",e)},expression:"formData.website"}})],1),a("FormItem",{attrs:{label:"人员规模","label-position":"top",prop:"range"}},[a("chooseBaseData",{attrs:{id:"range",channel:"CLIENT_RANGE",basisId:String(t.formData.range)},on:{handleSubmit:t.getId}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("关闭")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("保存")])],1)],2)},l=[],c=a("a5ae"),d=a("e6a1"),u=a("dd70"),f=a("40cb"),m=a("54d9"),p=a("37fe"),h=a("0658"),g={components:{chooseIndustry:c["a"],chooseStaff:d["a"],chooseArea:u["a"],uploadImg:f["a"],chooseBaseData:m["a"],addWages:p["a"]},props:{},data:function(){var t,e=this;return t={wageData:[],loading:!0,sectionList:[],showModal:!1,data:[],staffId:"33",formData:{staffId:"",staffRangeMin:0,staffRangeMax:10,logo:"",name:"",type:""},typeList:[{id:"1",name:"潜在客户"},{id:"2",name:"普通客户"},{id:"3",name:"重要客户"},{id:"4",name:"无机会客户"}],ids:[],ruleInline:{name:[{required:!0,message:"请填写客户名称",trigger:"blur"}],type:[{required:!0,message:"请选择客户类型",trigger:"change"}]},curTab:0,payConfig:{}},Object(o["a"])(t,"loading",!1),Object(o["a"])(t,"columns",[{title:"配置名称",key:"name"},{title:"客户名称",key:"clientName"},{title:"午餐时间",key:"eatTime"},{title:"电费",key:"electricityFees"},{title:"水费",key:"waterFees"},{title:"餐费",key:"foodFees"},{title:"租房",key:"renting"},{title:"社保",key:"socialSecurity"},{title:"绩效",key:"achievements"},{title:"奖金",key:"bonus"},{title:"补助",key:"subisdy"},{title:"操作",align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showWage(a.row.id)}}},"编辑")])}}]),Object(o["a"])(t,"pageination",{page:1,pageSize:10,count:1}),Object(o["a"])(t,"page",1),t},computed:{},watch:{showModal:function(t){this.formData.staffId=r["a"].cookies.get("staffId")}},methods:{showWage:function(t){this.$refs.wages.DrawerToShow(this.payConfig.clientId,t)},getWageList:function(){var t=this;this.loading=!0,Object(h["A"])({clientId:this.formData.clientId,page:this.page,pageSize:10}).then((function(e){t.loading=!1,t.wageData=e.data.list,t.pageination=e.data.pageInfo}))},changePage:function(t){this.page=t},getStaffId:function(t){this.formData.staffId=t},changeAreaId:function(t){this.formData.area=t},changeId:function(t){var e=t.length-1;this.formData.industryId=t[e]},DrawerToShow:function(){this.showModal=!0,this.curTab=0,this.loading=!0},handleReset:function(t){this.showModal=!1,this.formData.staffId="",this.formData.area=[],this.formData.industryId="",this.formData.logo="",this.$refs[t].resetFields(),this.$emit("getList")},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(a){a?Object(h["a"])(e.formData).then((function(a){0===a.ret?(e.$Message.success("保存成功！"),e.showModal=!1,e.formData.staffId="",e.formData.area=[],e.formData.industryId="",e.formData.logo="",e.$refs[t].resetFields(),e.payConfig.clientId=a.data.clientId,e.$emit("getList")):e.$Message.error(a.msg||"接口错误")})):e.$Message.error("表单验证失败!")}))},handleSuccess:function(t){this.formData.logo=t.pic},getId:function(t,e){this.formData[e]=t},changeTab:function(t){1===t&&this.getWageList()}},mounted:function(){},beforeDestroy:function(){},created:function(){}},b=g,y=a("2877"),v=Object(y["a"])(b,s,l,!1,null,"3a4a3803",null),I=v.exports,D=a("283b"),w=a("6bcd");function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function k(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var j={components:{addCustomer:I,customerDetail:D["a"],editSelect:w["a"],chooseIndustry:c["a"],chooseArea:u["a"],chooseBaseData:m["a"]},data:function(){var t,e=this;return t={clientEwexport:h["g"],isShow:!1,loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],tableColumns:[{type:"selection",width:60,align:"center"},{title:"客户名称",key:"name",minWidth:120,render:function(t,a){return t("div",[t("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){r["a"].cookies.get("roleType")>1||a.row.staffId==r["a"].cookies.get("staffId")?e.showDetail(a.row,"edit"):e.$Message.error("没有权限")}}},a.row.name)])}},{title:"客户类型",key:"typeName",minWidth:100},{title:"电话",key:"tell",minWidth:120},{title:"在职人数",key:"count",minWidth:100},{title:"客户负责人",key:"staffName",minWidth:100},{title:"合作模式",key:"price",minWidth:80},{title:"状态",key:"isWorkName",minWidth:80}],tableData:[],pageination:{page:1,pageSize:10,count:1},page:1,typeList:[{id:"1",name:"潜在客户"},{id:"2",name:"普通客户"},{id:"3",name:"重要客户"},{id:"4",name:"无机会客户"}]},Object(o["a"])(t,"erTitle",""),Object(o["a"])(t,"formData",{clientId:"",startTime:"",endTime:"",status:"",clientName:"",name:"",type:"",provinceId:"",cityId:"",areaId:"",range:"",isWork:-1,industryId:""}),Object(o["a"])(t,"ids",[]),Object(o["a"])(t,"clientIds",[]),Object(o["a"])(t,"num",""),Object(o["a"])(t,"time",[]),Object(o["a"])(t,"areaIds",[]),Object(o["a"])(t,"isWork",-1),Object(o["a"])(t,"clientInfo",{}),Object(o["a"])(t,"name",""),Object(o["a"])(t,"Ids",[]),t},created:function(){this.clientInfo=JSON.parse(sessionStorage.getItem("clientInfo")),this.clientInfo&&(this.clientIds=this.clientInfo.clientIds||[],this.isWork=this.clientInfo.isWork||-1),console.log(this.clientIds,"aaaaaa"),this.getList()},methods:{getId:function(t,e){this.formData[e]=t},callback:function(t,e){console.log(t,e),this.formData[t]=e},changeAreaId:function(t){this.areaIds=t,this.formData.provinceId=t[0],this.formData.cityId=t[1],this.formData.areaId=t[2]},screen:function(){this.isShow=!this.isShow},search:function(){this.page=1,this.getList()},clear:function(){this.page=1,this.ids=[],this.areaIds=[],this.formData.industryId="",this.formData.type="",this.formData.provinceId="",this.formData.cityId="",this.formData.areaId="",this.clientIds=[],this.num="",this.formData.range="",this.formData.startTime="",this.formData.endTime="",this.time=[],this.formData.name="",this.formData.isWork=-1,this.getList()},editData:function(){this.$store.dispatch("admin/global/init"),this.getList()},getList:function(){var t=this;console.log(this.clientIds,"888888"),this.loading=!0,Object(h["l"])(k({},this.formData,{page:this.page,pageSize:this.pageination.pageSize,clientId:this.clientIds})).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getList()},changePageSize:function(t){this.pageination.pageSize=t,this.getList()},showDetail:function(t){this.erTitle="客户详情",this.$refs.detail.DrawerToShow(t.clientId,t.staffName)},show:function(t,e){this.status=e,"add"===e?this.erTitle="新增":"edit"===e&&(this.erTitle="编辑"),this.$refs.Drawer.DrawerToShow()},changeId:function(t){var e=t.length-1;this.formData.industryId=t[e]},changeNum:function(t){if(-1!=t.indexOf("-")){var e=t.indexOf("-");this.formData.staffRangeMin=t.substr(0,e),this.formData.staffRangeMax=t.substr(e+1,t.length)}else this.formData.staffRangeMin=t,this.formData.staffRangeMax=""},handleChangeTime:function(t){this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||""},remove:function(t){this.Ids=[t.clientId],this.onDelete()},onDelete:function(){var t=this;this.Ids?this.$Modal.confirm({title:"提示",content:"<p>确认删除该客户?</p>",onOk:function(){Object(h["p"])({clientId:t.Ids}).then((function(e){0===e.ret?(t.$Message.success("删除成功"),t.getList()):t.$Message.error(e.msg)}))},onCancel:function(){}}):this.$Message.error("请选择要删除的客户！")},chooseSelect:function(t){var e=this;e.Ids=[],t.forEach((function(t){e.Ids.push(t.clientId),console.log(e.Ids)}))},exportData:function(){this.page=1,console.log("&name="+this.formData.name+"&type="+this.formData.type+"&startTime="+this.formData.startTime+"&endTime="+this.formData.endTime+"&industryId="+this.formData.industryId+"&provinceId="+this.formData.provinceId+"&cityId="+this.formData.cityId+"&areaId="+this.formData.areaId+"&range="+this.formData.range+"&isWork="+this.formData.isWork),window.open(this.clientEwexport+"&name="+this.formData.name+"&type="+this.formData.type+"&startTime="+this.formData.startTime+"&endTime="+this.formData.endTime+"&industryId="+this.formData.industryId+"&provinceId="+this.formData.provinceId+"&cityId="+this.formData.cityId+"&areaId="+this.formData.areaId+"&range="+this.formData.range+"&isWork="+this.formData.isWork)}},destroyed:function(){sessionStorage.removeItem("clientInfo")}},x=j,O=(a("899d"),Object(y["a"])(x,i,n,!1,null,"b86dbd94",null));e["default"]=O.exports},"55f2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFEAAABACAYAAABiBZsIAAAKnElEQVR4Xt1ca5AcVRX+zuzGEB6S7XOTRYFMdwiEEsPDQJWRTBWPArHKgAipguADUMCyJGhAFBEJgjxKQECqJEEhVClBlLdVEEVAkxBKHimFKh4hme4kQB739gZRk5DZPlYnu9TubN9+zM7sDvSf+XHPOfecr899fff0ENrwCZT6IkTOF2AagG4QrUIU/UWAJ70wfKLdXKZ2cyhgflSAWTa/iOiWaM89L/N8f1u7+N5WIAbMrwhwSA5wnhXgG54xr+WQbblI24BYdZz5RHRl3ohJZH45DK/KK99KubYAca1SR0YiSwHsViDYbSWiyiStXyig0xLRtgDRZ/4jgNMaiPAB15jTG9Brqsqog1hlPpuAuxuNSoBzPGMWNarfDL1RBXHVPvtMGLNjRzyMpyYFQ8DbZWP2DZjfEuCTloBf3zFmTOXADRs2NwOQRmyMKoi+49wIoottjgvRHE/rxVWlziSRe60BitzkhuEljQDQDJ1RA9FX6liIPGXdDwKPlY05ub89a/8IouNcrZ9uBihFbYwaiAHzEwJ83uZwJ9HU/bR+o799vVIH1UReTwF9SdmYk4oC0Az5UQExYL5QgNusgFj2gIHjXClE81OAnFs25pfNAKaIjREH0d97bw+dnctgWSgEeMMzJnGhiQOrMr9OwEGWIN9GrTbTfffdahEQhis74iBWHWcBEZ1vzSaiWWWt/2Rrj8kJEXnMuhiJLPTC8ILhAlNEf0RBDJSaJSKPpqyyi90wnJMVgO8494LozJQXcXJZayvQWfaLto8YiAKUAuZ4T/g5i5PbQeS5Wr+TFYSv1CcgEg/ZsRbZZ8vGVAiIsmw1o33EQPSZfwTgZ1aniS5xtb4pb1C+UhdD5MYU+ctdY67Na284ciMC4pqurkNLpVKchR+3OPuca8yMooEEzM8LcKRF799RFFUm9/T8q6jdovIjAmLWHCZEx3paP1PU+apSx5CIfYMtkmuOLdpvvXzLQfSVmgOR37VqNc1a7UF0lqu1/cg4XAQBtBTE1V1de8fDmHbdlSQ9m7YRTTlY6/fqGwPmrwlwKu3aT75DIo9MCsMhbM9rSu01VmQ1AROSOhDg5XhYH9DT824T8Eo00VIQA+ZrBbgsZStyQVnrhfXtvuMsBtEZCXqJ/GGg1PkissDaD3Bd2Zh4YWvJ0zIQg66uo2XXYpLYhwBLvISzbsB8vQA/SAH+lrLW3xsCPPNfARxn0ROKokq5p2d5K1BsHYjZt3ZHlrV+cWBQLwBjFPP7WYHuXirtNXHz5v8MlAuUmi4i1qsCqmOFsvoo0t4SEKtKXUAid1gdsfB/1QkTDqcoWpkVgIjM8MLwuYRpIIuf/JantXXYZ/WbMl00qpqst455314gJhhci+U3XWMOTGoLHOcQIXolyyMiGpLF/To+8yoAUyw2/A5g5v7GvJXVR5H2pmeizxxTUd+xOdHPVie19x3n3s4MoFabbGNqMllw4HbXmAsz+ygg0FQQq45zEhE9ntL/g64x1lu9VVOmjB3T05NZ2dAbRePTtiw+84MATrW+SJEvNLMcpakg+szx6eEYi/PvdxJNG8hWJw5p5vcE2DPlRdRcY8akJUofC/4ygI9Z5J5xjTm2QLKlijYNRF+pSyDyc+vkm7NiwWcOAEyyZhGwyTOmOwuALBYcRN93tU4jMLK6+KC9KSBWmQ8uES0VEWXp+UXXGBtRMEjFd5yVIDo8JYJXXWM+lSdCnzne8kxPkiUiHYlUmlHP0ywQFxHwdWsWZrDVA/X89E0zQLTc1XpmHhAzWXDgHs+Ys/PYSpMZNoiB45wuRH+wAggsKhtzTl5HA6XuF5HZKcP5MW/AVWqW3YD5bgGsQJHI7HIYxmUsDT/DAnHdfvuN6926NT7aJQ4ZAJtBdFgetro/gsBx7hAi6x2JFMyevm3TP2EhKAC82DFuXGX/9eu3NorisEAMlJovItZyOBGZ54XhL4o4l0VagOhmV2tr1URSX2uVmheJWFlzIrqqrLX1KjbL/4ZBXMt8VATEWWi753jKNeb4LAfq27NWeQA/do2xXzNYOvSZ42oL27ZmewmoTDLm+aL+xvINg+gzPwDgy9a5q0G22necc0H0m5Q58dueMb8qGmwmCw6kHgSavrBUHeccIrorZTG5tWzMd4sGGsuvZT4lAh62gihyhheGv2/EdpX5VgLmptg+10sgfrP6KpyJb3Z3T+yo1WK22laFsHob0RFJbHWWMztBnDChEkXR31Ne0AllY57MY6teJmbBdxOJWaIDkvTj6ovezs7KlI0bNxWxXxhEX6mbIDIvZRif6Wl9XxEnBspmMjlE012tX2rUvu843wTRnVb9BhauQiD6zDFzHDPIiY8AD3vGWA/+eQLvo9LWWzOxs/OA8saNa/LYssn4zA8B+FKKjeNdY6xlf/V6hUAMmJcIcKKl8x1ENKOerW4kWJ85roLYJ0F3i2tMVyM2B2X7LhZ8BYBEIoOAP5eNsZb9NQxilXkuAbemDIOrXa1/MtwAY/2A+VIBbkiwdYVrzDXN6MNX6qcQuSJlVF3kGWMt/xuolysTg+7uyajVlqbUTb/kGmM7tTQUc8D8Vdm1heoWYHMH8NCkJhe4+8zxHc9nkhyM68XR2VnJM3XkAtF3nIUgOi9lMTnG0/pvDaE1ikqB48wWovutLojc6YahtQywXy8TxLVKnRyJPGKd6IF7yk1gQkYLy4B5kaQwUCWiUyZpbS8HzDqxCNDRVw6XWGwUc3IdwNFZbPVoAZSn35gF7wWWp3ChK/rK9HpTEsnelc98OQD7RF6wHC5PUANlqkrdTCJHEPCPXqK7JmttLXwvanugfI4yvdTzunU4r5k48bBSb29MMOxlcfBp1xhbxcFwYtqp6zPLoBUwZqKB2Y1Uj+Vxpsr8NNnvh96LOjoqkzdtiim1IY8VxKrjLKbkepidRkpER7Xq48SA+QYBLk3wd4VrjK3SNg9WVpm1jnNiRLTEuniK3OeFYWKJcyKIvlJnQeS3KXPAbWVjLhqW1ynKabeGrjGZi2GjfvnM8b7QfidN9BVX6yFlgkMcqo4fP546OuJh/OlEZ0TWoFSaWYStLhrUaGTizikkrgWPomUgmmzx+RXp7a14W7ZsGTTV1AsHzNcJ8ENr4CLnuWH466LAFJFfo9TUDmBZ/YrZaEVtkb4Dpc4TkSHlfv02CLi+bMygcsFBmbiuq2tab6lkrXEW4BHPmLSDexF/U2X7SNS4cH1GfMOHKLrbDUMrWdu0jncdOx8W4BSbzY4oOnT/np64OGDnMwjEtCwkoCbAoa4xrzbT4Xa0VXWcz+68Rwc6k/yrz8ZBIPrMMU93hCWwa1xjrAf2dgRjOD75zFfH9zkWGytdYz44c9eD+F8AuycoriwbM52AQXu34TjZ7roburv32FarxQtsUlL9zzVmj8ThXL/BrQu08CcSA/Rj8CMBolL8S/TheBki1k9/B2616jPxwxFcG6SxFcTMr9vbwPl2cKG+/nvw6pzxGWw7BNAOPlBdgdaQE4vPHJcKj/jX6+0ATk4fLnSNuX2gbOI5tO+/auIaG1vxes7+PlJivgBXJf0Hj/Uwv6G7e+L2HTvmSKl0mohMtX329ZGCaWgwIQFvRiKPU6m0wMYX/B+iWx99vwwKnAAAAABJRU5ErkJggg=="},"5ee3":function(t,e,a){"use strict";var i=a("f061"),n=a.n(i);n.a},"5f19":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{attrs:{inline:"","label-width":100}},[a("FormItem",{attrs:{label:"姓名：","label-position":"top"}},[a("Input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("FormItem",{attrs:{label:"","label-position":"top","label-width":20}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"default"},on:{click:function(e){return t.clear()}}},[t._v("重置")])],1)],1)],1),a("Card",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error"},on:{click:function(e){return t.onDelete()}}},[t._v("删除")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.show()}}},[t._v("新增")])],1),a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData},on:{"on-selection-change":t.chooseSelect}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1),a("addContacts",{ref:"Drawer",on:{getList:t.getList}}),a("contactsDetail",{ref:"detail",attrs:{erTitle:t.erTitle},on:{getList:t.getList}})],1)},n=[],o=(a("ac6a"),a("bd86")),r=(a("7f7f"),a("3ffe")),s=a("7f3d"),l=a("0658"),c={components:{addContacts:r["a"],contactsDetail:s["a"]},data:function(){var t,e=this;return t={isShow:!1,loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],tableColumns:[{type:"selection",width:60,align:"center"},{title:"姓名",key:"name",minWidth:100,render:function(t,a){return t("div",[t("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showDetail(a.row,"edit")}}},a.row.name)])}},{title:"客户名称",minWidth:140,key:"clientName"},{title:"部门",minWidth:100,key:"department"},{title:"岗位",minWidth:80,key:"position"},{title:"手机",minWidth:130,key:"phone"},{title:"邮箱",minWidth:170,key:"email"},{title:"创建时间",minWidth:170,key:"createTime"}],tableData:[{name:"快捷科技",custype:"重要客户",type:"IT",tel:"18613658952",addr:"株洲市荷塘区",time:"2020-07-16"}],pageination:{page:1,pageSize:10,count:1},page:1,userStatusList:[]},Object(o["a"])(t,"erTitle",""),Object(o["a"])(t,"name",""),Object(o["a"])(t,"Ids",[]),t},created:function(){this.getList()},methods:{screen:function(){this.isShow=!this.isShow},search:function(){this.getList()},clear:function(){this.name="",this.getList()},getList:function(){var t=this;this.loading=!0,Object(l["o"])({page:this.page,pageSize:this.pageination.pageSize,name:this.name}).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getList()},showDetail:function(t){this.erTitle="联系人详情",this.$refs.detail.DrawerToShow(t.personId)},show:function(t,e){this.status=e,"add"===e?this.erTitle="新增":"edit"===e&&(this.erTitle="编辑"),this.$refs.Drawer.DrawerToShow()},remove:function(t){this.Ids=[t.personId],this.onDelete()},onDelete:function(){var t=this;this.Ids.length>0?this.$Modal.confirm({title:"提示",content:"<p>确认删除该联系人?</p>",onOk:function(){Object(l["r"])({personId:t.Ids}).then((function(e){0===e.ret?(t.$Message.success("删除成功"),t.getList(),t.Ids=[]):t.$Message.error(e.msg)}))},onCancel:function(){}}):this.$Message.error("请选择要删除的联系人！")},chooseSelect:function(t){var e=this;e.Ids=[],t.forEach((function(t){e.Ids.push(t.personId),console.log(e.Ids)}))},changePageSize:function(t){this.pageination.pageSize=t,this.getList()}}},d=c,u=(a("cec2"),a("2877")),f=Object(u["a"])(d,i,n,!1,null,"c2da52b2",null);e["default"]=f.exports},"775a":function(t,e,a){"use strict";var i=a("e697"),n=a.n(i);n.a},"77bd":function(t,e,a){},"7f3d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:"联系人详情",width:600},on:{"on-cancel":function(e){return t.handleReset()}},model:{value:t.showModel,callback:function(e){t.showModel=e},expression:"showModel"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData}},[a("FormItem",{attrs:{label:"姓名","label-position":"top"}},[a("editInput",{attrs:{id:"name",empty:"",text:t.formData.name},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"手机号码","label-position":"top"}},[a("editInput",{attrs:{id:"phone",empty:"",text:t.formData.phone},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"座机","label-position":"top"}},[a("editInput",{attrs:{id:"tell",text:t.formData.tell},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"部门"}},[a("editInput",{attrs:{id:"department",empty:"",text:t.formData.department},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"岗位","label-position":"top"}},[a("editInput",{attrs:{id:"position",empty:"",text:t.formData.position},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"邮箱",empty:"","label-position":"top"}},[a("editInput",{attrs:{id:"email",text:t.formData.email},on:{handleSubmit:t.callback}})],1),t.showModel?a("FormItem",{attrs:{label:"客户","label-position":"top",prop:"clientId"}},[a("div",{staticStyle:{display:"flex"}},[a("Select",{attrs:{filterable:""},on:{"on-query-change":t.changeValue},model:{value:t.formData.clientId,callback:function(e){t.$set(t.formData,"clientId",e)},expression:"formData.clientId"}},t._l(t.selectClient,(function(e,i){return a("Option",{key:i,attrs:{value:Number(i)}},[t._v(t._s(e))])})),1)],1),a("chooseCustomer",{ref:"customer",on:{handleChoose:t.handleChoose}})],1):t._e(),a("FormItem",{attrs:{label:"备注","label-position":"top"}},[a("editTextarea",{attrs:{id:"remark",text:t.formData.remark},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"微信","label-position":"top"}},[a("editInput",{attrs:{id:"weixin",text:t.formData.weixin},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"qq","label-position":"top"}},[a("editInput",{attrs:{id:"qq",text:t.formData.qq},on:{handleSubmit:t.callback}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset()}}},[t._v("关闭")])],1)],2)},n=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=a("2f62"),s=a("c276"),l=a("0bec"),c=a("d31b"),d=a("6bcd"),u=a("0658");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={components:{editInput:l["a"],editTextarea:c["a"],editSelect:d["a"]},props:{},data:function(){var t;return t={loading:!0,sectionList:[],showModel:!1,data:[],staffId:"33",formData:{staffId:"",staffRangeMin:0,staffRangeMax:10,clientName:""},ids:[],departmentIds:[]},Object(o["a"])(t,"ids",[]),Object(o["a"])(t,"clientList",{}),t},computed:m({},Object(r["e"])("admin/global",["selectClient"])),watch:{showModel:function(t){this.formData.staffId=s["a"].cookies.get("staffId")}},methods:{getStaffId:function(t){this.formData.staffId=t},changeId:function(t){var e=t.length-1;this.formData.industryId=t[e]},DrawerToShow:function(t){console.log(t,"o00-"),this.showModel=!0,this.loading=!0,this.getInfo(t)},getInfo:function(t){var e=this;Object(u["s"])({personId:t}).then((function(t){e.formData=t.data.info}))},handleReset:function(){this.showModel=!1,this.$emit("refresh")},callback:function(t,e){console.log(t,e),this.formData[t]=e,this.handleSubmit()},getId:function(t,e){console.log(t,e),this.formData[e]=t,this.handleSubmit()},handleSubmit:function(){var t=this;Object(u["x"])(this.formData).then((function(e){0===e.ret?t.$Message.success("保存成功！"):t.$Message.error(e.msg||"接口错误")}))},handleChoose:function(t,e){this.formData.clientId=t,this.formData.clientName=e,this.handleSubmit()},showCustomer:function(){this.$refs.customer.DrawerToShow()},changeValue:function(){this.handleSubmit()}},mounted:function(){},beforeDestroy:function(){},created:function(){}},h=p,g=a("2877"),b=Object(g["a"])(h,i,n,!1,null,"345f55b4",null);e["a"]=b.exports},"876a":function(t,e,a){},"899d":function(t,e,a){"use strict";var i=a("77bd"),n=a.n(i);n.a},a5ae:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Cascader",{attrs:{data:t.tmpArr,value:t.ids,"change-on-select":""},on:{"update:value":function(e){t.ids=e},"on-change":t.change}})],1)},n=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=a("2f62"),s=a("9411");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={components:{},props:{ids:Array},data:function(){return{showModal:!1,list:[],tmpArr:[]}},computed:c({},Object(r["e"])("admin/global",["industry","region","personnelSize"])),watch:{},methods:{change:function(t){this.$emit("change",t),console.log(t,"industry")},getIndustryList:function(){var t=this;Object(s["q"])().then((function(e){var a=e.data.list;t.list=a.map((function(t,e){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title}}))}}))}}))}))}},mounted:function(){},beforeDestroy:function(){},created:function(){var t=this.industry;this.tmpArr=t.map((function(t,e){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title}}))}}))}}))}},u=d,f=a("2877"),m=Object(f["a"])(u,i,n,!1,null,"00e5aca0",null);e["a"]=m.exports},a7d2:function(t,e,a){"use strict";var i=a("876a"),n=a.n(i);n.a},b923:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"拜访详情",width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"标题：","label-position":"top",prop:"title"}},[a("editInput",{attrs:{id:"title",empty:"",text:t.formData.title},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"日期：","label-position":"top",prop:"time"}},[a("editDate",{attrs:{id:"time",empty:"",text:t.formData.time},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"方式：","label-position":"top",prop:"followType"}},[a("RadioGroup",{on:{"on-change":t.change},model:{value:t.formData.followType,callback:function(e){t.$set(t.formData,"followType",e)},expression:"formData.followType"}},t._l(t.followTypeList,(function(e,i){return a("Radio",{key:i,attrs:{label:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),1)],1),a("FormItem",{attrs:{label:"时段：","label-position":"top"}},[a("TimePicker",{attrs:{format:"HH:mm",type:"timerange",placement:"bottom-end",placeholder:"选择时间"},on:{"on-change":t.changeTime},model:{value:t.rangTime,callback:function(e){t.rangTime=e},expression:"rangTime"}})],1),a("FormItem",{attrs:{label:"拜访客户：","label-position":"top"}},[t._v("\n          "+t._s(t.formData.clientName)+"\n        ")]),a("FormItem",{attrs:{label:"客户联系人：","label-position":"top",prop:"personId"}},[0===t.list.length?a("div",[t._v("该客户暂无联系人！")]):a("Select",{attrs:{filterable:""},on:{"on-query-change":t.change},model:{value:t.formData.personId,callback:function(e){t.$set(t.formData,"personId",e)},expression:"formData.personId"}},t._l(t.list,(function(e,i){return a("Option",{key:Number(i),attrs:{value:Number(i)}},[t._v(t._s(e))])})),1)],1),a("FormItem",{attrs:{label:"负责人","label-position":"top",prop:"staffId"}},[a("chooseStaff",{attrs:{id:"staffId",staffId:String(t.formData.staffId)},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"状态：","label-position":"top",prop:"status"}},[a("Select",{on:{"on-change":t.change},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("Option",{attrs:{value:0}},[t._v("跟进")]),a("Option",{attrs:{value:1}},[t._v("成交")])],1)],1),a("FormItem",{attrs:{label:"拜访内容：","label-position":"top",prop:"content"}},[a("editTextarea",{attrs:{id:"content",text:t.formData.content},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"附件：","label-position":"top",prop:"pic"}},[t.showModal?a("uploadImgList",{attrs:{id:"img",picArr:t.formData.pic||[]},on:{uploadSuccess:t.handleSuccess1}}):t._e()],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("关闭")])],1)],2)},n=[],o=(a("c82c"),a("0808"),a("c276")),r=a("0bec"),s=a("d31b"),l=a("6bcd"),c=a("e6a1"),d=a("a46c"),u=a("4bc3"),f=a("0658"),m={components:{editInput:r["a"],editTextarea:s["a"],editSelect:l["a"],chooseStaff:c["a"],uploadImgList:d["a"],editDate:u["a"]},props:{},data:function(){return{loading:!0,sectionList:[],showModal:!1,data:[],formData:{},demainUrl:o["a"].cookies.get("domainUrl"),followTypeList:[{id:1,name:"电话"},{id:2,name:"邮件"},{id:3,name:"面谈"},{id:4,name:"其他"}],ruleInline:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],time:[{required:!0,type:"date",message:"请添加拜访时间",trigger:"change"}]},rangTime:[],list:{}}},computed:{},watch:{showModal:function(t){this.formData.staffId=o["a"].cookies.get("staffId")}},methods:{DrawerToShow:function(t){this.formData.recordId=t.recordId,this.showModal=!0,this.loading=!0,this.getInfo(t.recordId)},getInfo:function(t){var e=this;Object(f["i"])({recordId:t}).then((function(t){0===t.ret&&(e.formData=t.data.info,e.rangTime=[t.data.info.start,t.data.info.end],console.log(e.formData.personId,"id"),t.data.info.clientId&&e.getPerson(t.data.info.clientId))}))},handleReset:function(){this.showModal=!1,this.formData.personId=0,this.$emit("getList")},callback:function(t,e){console.log(t,e),this.formData[t]=e,this.handleSubmit()},change:function(){this.handleSubmit()},changeTime:function(t){this.rangTime=t,this.formData.start=t[0]||"",this.formData.end=t[1]||"",this.handleSubmit()},handleSuccess1:function(t){this.formData.pic=t,this.handleSubmit()},handleSubmit:function(){var t=this;Object(f["w"])(this.formData).then((function(e){0===e.ret?t.$Message.success("保存成功！"):t.$Message.error(e.msg||"接口错误")}))},getPerson:function(t){var e=this;Object(f["t"])({clientId:t}).then((function(t){0===t.ret?e.list=t.data.list:e.$Message.error(t.msg||"接口错误")}))}},mounted:function(){},beforeDestroy:function(){},created:function(){}},p=m,h=(a("a7d2"),a("2877")),g=Object(h["a"])(p,i,n,!1,null,"817361c4",null);e["a"]=g.exports},bacd:function(t,e,a){"use strict";var i=a("2fa3"),n=a.n(i);n.a},bcfb:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{attrs:{model:t.formData,inline:"","label-width":100}},[a("FormItem",{attrs:{label:"客户名称：","label-position":"top"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"状态：","label-position":"top"}},[a("RadioGroup",{model:{value:t.formData.isWork,callback:function(e){t.$set(t.formData,"isWork",e)},expression:"formData.isWork"}},[a("Radio",{attrs:{label:-1}},[t._v("所有")]),a("Radio",{attrs:{label:0}},[t._v("待开发")]),a("Radio",{attrs:{label:1}},[t._v("已合作")])],1)],1),a("FormItem",{attrs:{label:"","label-position":"top","label-width":0}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"default"},on:{click:function(e){return t.clear()}}},[t._v("重置")])],1),a("div",{class:t.isShow?"":"none"},[a("FormItem",{attrs:{label:"客户类型：","label-position":"top"}},[a("editSelect",{attrs:{id:"type",iptId:String(t.formData.type),list:t.typeList},on:{handleSubmit:t.callback}})],1),a("FormItem",{attrs:{label:"行业：","label-position":"top"}},[a("chooseIndustry",{attrs:{ids:t.ids},on:{change:t.changeId}})],1),a("FormItem",{attrs:{label:"创建时间：","label-position":"top"}},[a("DatePicker",{attrs:{value:t.time,type:"daterange"},on:{"on-change":t.handleChangeTime}})],1),a("FormItem",{attrs:{label:"人员规模：","label-position":"top"}},[a("chooseBaseData",{attrs:{id:"range",channel:"CLIENT_RANGE",basisId:String(t.formData.range)},on:{handleSubmit:t.getId}})],1)],1)],1),a("div",{staticClass:"sx-box",on:{click:t.screen}},[t._v("\n            "+t._s(t.isShow?"收起":"更多筛选")+" "),a("Icon",{class:t.isShow?"turn":"",attrs:{type:"ios-arrow-down"}})],1)],1),a("Card",[a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1),a("customerDetail",{ref:"detail",attrs:{erTitle:t.erTitle},on:{getList:t.getList}})],1)},n=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=(a("7f7f"),a("c276")),s=a("283b"),l=a("6bcd"),c=a("a5ae"),d=a("dd70"),u=a("54d9"),f=a("0658");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={components:{customerDetail:s["a"],editSelect:l["a"],chooseIndustry:c["a"],chooseArea:d["a"],chooseBaseData:u["a"]},data:function(){var t,e=this;return t={staffId:r["a"].cookies.get("staffId"),isShow:!1,loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],tableColumns:[{title:"客户名称",minWidth:100,key:"name",render:function(t,a){return t("div",[t("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showDetail(a.row,"edit")}}},a.row.name)])}},{title:"负责人",minWidth:100,key:"staffName"},{title:"客户类型",minWidth:100,key:"typeName"},{title:"电话",minWidth:100,key:"tell"},{title:"在职人数",minWidth:100,key:"count"},{title:"价格",minWidth:100,key:"price"},{title:"状态",minWidth:100,key:"isWorkName"},{title:"操作",minWidth:200,align:"center",render:function(t,a){return t("div",[t("a",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){sessionStorage.setItem("clientId",JSON.stringify(a.row.clientId)),sessionStorage.setItem("clientName",a.row.name),e.$router.push({path:"/talentManagement/talentInvite"})}}},"邀约记录"),t("a",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){sessionStorage.setItem("clientId",JSON.stringify(a.row.clientId)),e.$router.push({path:"/talentManagement/talentCustomer"})}}},"查看人才")])}}],tableData:[],pageination:{page:1,pageSize:10,count:1},typeList:[{id:"1",name:"潜在客户"},{id:"2",name:"普通客户"},{id:"3",name:"重要客户"},{id:"4",name:"无机会客户"}]},Object(o["a"])(t,"erTitle",""),Object(o["a"])(t,"formData",{isWork:1,name:""}),Object(o["a"])(t,"ids",[]),Object(o["a"])(t,"clientIds",[]),Object(o["a"])(t,"num",""),Object(o["a"])(t,"time",[]),Object(o["a"])(t,"areaIds",[]),t},created:function(){this.clientIds=this.$route.query.clientId,this.getList()},methods:{getId:function(t,e){this.formData[e]=t},callback:function(t,e){console.log(t,e),this.formData[t]=e},changeAreaId:function(t){this.areaIds=t,this.formData.provinceId=t[0],this.formData.cityId=t[1],this.formData.areaId=t[2]},screen:function(){this.isShow=!this.isShow},search:function(){this.page=1,this.getList()},clear:function(){this.page=1,this.ids=[],this.areaIds=[],this.formData.industryId="",this.formData.provinceId="",this.formData.cityId="",this.formData.areaId="",this.clientIds=[],this.num="",this.formData.staffRangeMin="",this.formData.staffRangeMax="",this.formData.startTime="",this.formData.endTime="",this.formData.range="",this.time=[],this.formData.isWork=1,this.formData.name="",this.getList()},closeModal:function(){this.page=1,this.ids=[],this.areaIds=[],this.formData.industryId="",this.formData.provinceId="",this.formData.cityId="",this.formData.areaId="",this.clientIds=[],this.num="",this.formData.staffRangeMin="",this.formData.staffRangeMax="",this.formData.startTime="",this.formData.endTime="",this.time=[],this.formData.isWork=1,this.formData.name="",this.getList()},getList:function(){var t=this;this.loading=!0,Object(f["l"])(p({staffId:this.staffId,page:this.page,clientId:this.clientIds,pageSize:this.pageination.pageSize},this.formData)).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getList()},showDetail:function(t){this.erTitle="客户详情",this.$refs.detail.DrawerToShow(t.clientId,t.staffName)},changeId:function(t){var e=t.length-1;this.formData.industryId=t[e]},changeNum:function(t){if(-1!=t.indexOf("-")){var e=t.indexOf("-");this.formData.staffRangeMin=t.substr(0,e),this.formData.staffRangeMax=t.substr(e+1,t.length)}else this.formData.staffRangeMin=t,this.formData.staffRangeMax=""},handleChangeTime:function(t){this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||""},changePageSize:function(t){this.pageination.pageSize=t,this.getList()}}},g=h,b=(a("3616"),a("2877")),y=Object(b["a"])(g,i,n,!1,null,"d1c2d680",null);e["default"]=y.exports},c335:function(t,e,a){},c9a7:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{attrs:{inline:"","label-width":100}},[a("FormItem",{attrs:{label:"客户名称：","label-position":"top"}},[a("Input",{model:{value:t.personName,callback:function(e){t.personName=e},expression:"personName"}})],1),a("FormItem",{attrs:{label:"标题：","label-position":"top"}},[a("Input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("FormItem",{attrs:{label:"创建时间：","label-position":"top"}},[a("DatePicker",{attrs:{value:t.time,type:"daterange"},on:{"on-change":t.handleChangeTime}})],1),a("FormItem",{attrs:{label:"","label-position":"top","label-width":0}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"default"},on:{click:function(e){return t.clear()}}},[t._v("重置")])],1)],1)],1),a("Card",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error"},on:{click:function(e){return t.onDelete()}}},[t._v("删除")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.show()}}},[t._v("新增")])],1),a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData},on:{"on-selection-change":t.chooseSelect}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1),a("addVisit",{ref:"Drawer",on:{getList:t.getList}}),a("visitDetail",{ref:"detail",on:{getList:t.getList}})],1)},n=[],o=(a("ac6a"),a("bd86")),r=a("3621"),s=a("b923"),l=a("0658"),c={components:{addVisit:r["a"],visitDetail:s["a"]},data:function(){var t,e=this;return t={isShow:!1,loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],tableColumns:[{type:"selection",width:60,align:"center"},{title:"标题",key:"title",minWidth:120,render:function(t,a){return t("div",[t("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px",width:"100px",height:"20px",display:"inline-block"},on:{click:function(){e.showDetail(a.row,"edit")}}},a.row.title)])}},{title:"状态",key:"status",minWidth:80},{title:"日期",key:"time",minWidth:110},{title:"方式",key:"followType",minWidth:80},{title:"客户名称",key:"clientName",minWidth:140},{title:"客户联系人",key:"personName",minWidth:120},{title:"内容",key:"content",minWidth:100,ellipsis:!0,render:function(t,e){return t("span",{style:{diaplay:"inline-block",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e.row.content)}},{title:"创建人",key:"staffName",minWidth:100},{title:"创建时间",key:"createTime",minWidth:170}],tableData:[{name:"快捷科技",custype:"重要客户",type:"IT",tel:"400-8830-9595",addr:"株洲市荷塘区",lead:"帅帅"}],pageination:{page:1,pageSize:10,count:1},page:1,userStatusList:[]},Object(o["a"])(t,"erTitle",""),Object(o["a"])(t,"personName",""),Object(o["a"])(t,"startDate",""),Object(o["a"])(t,"endDate",""),Object(o["a"])(t,"title",""),Object(o["a"])(t,"time",[]),Object(o["a"])(t,"Ids",[]),t},created:function(){this.getList()},methods:{screen:function(){this.isShow=!this.isShow},search:function(){this.page=1,this.getList()},clear:function(){this.page=1,this.personName="",this.startDate="",this.endDate="",this.title="",this.time=[],this.getList()},getList:function(){var t=this;this.loading=!0,Object(l["j"])({page:this.page,pageSize:this.pageination.pageSize,personName:this.personName,startDate:this.startDate,endDate:this.endDate,title:this.title}).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getList()},showDetail:function(t){this.erTitle="跟进详情",this.$refs.detail.DrawerToShow(t)},show:function(t,e){this.status=e,"add"===e?this.erTitle="新增":"edit"===e&&(this.erTitle="编辑"),this.$refs.Drawer.DrawerToShow()},handleChangeTime:function(t){this.time=t,this.startDate=t[0]||"",this.endDate=t[1]||""},remove:function(t){this.Ids=[t.recordId],this.onDelete()},onDelete:function(){var t=this;this.Ids.length>0?this.$Modal.confirm({title:"提示",content:"<p>确认删除该跟进记录?</p>",onOk:function(){Object(l["q"])({recordId:t.Ids}).then((function(e){0===e.ret?(t.$Message.success("删除成功"),t.getList(),t.Ids=[]):t.$Message.error(e.msg)}))},onCancel:function(){}}):this.$Message.error("请选择要删除的跟进记录！")},chooseSelect:function(t){var e=this;e.Ids=[],t.forEach((function(t){e.Ids.push(t.recordId),console.log(e.Ids)}))},changePageSize:function(t){this.pageination.pageSize=t,this.getList()}}},d=c,u=(a("775a"),a("2877")),f=Object(u["a"])(d,i,n,!1,null,"5a7d203b",null);e["default"]=f.exports},cbf1:function(t,e,a){"use strict";var i=a("c335"),n=a.n(i);n.a},cc5b:function(t,e,a){},cec2:function(t,e,a){"use strict";var i=a("cc5b"),n=a.n(i);n.a},dd70:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{model:t.formValidate,inline:""}},[t.region.length>0?a("FormItem",{attrs:{prop:"province"}},[a("Select",{attrs:{placeholder:"请选择省份"},on:{"on-query-change":function(e){return t.changeProvince(t.formValidate.province)}},model:{value:t.formValidate.province,callback:function(e){t.$set(t.formValidate,"province",e)},expression:"formValidate.province"}},t._l(t.region,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title)+"\n                ")])})),1)],1):t._e(),t.citiesArr.length>0?a("FormItem",{attrs:{prop:"city"}},[a("Select",{attrs:{placeholder:"请选择城市"},on:{"on-query-change":function(e){return t.changeCity(t.formValidate.city)}},model:{value:t.formValidate.city,callback:function(e){t.$set(t.formValidate,"city",e)},expression:"formValidate.city"}},t._l(t.citiesArr,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title)+"\n                ")])})),1)],1):t._e(),t.countyArr.length>0&&t.formValidate.city?a("FormItem",{attrs:{prop:"county"}},[a("Select",{attrs:{placeholder:"请选择区县"},on:{"on-query-change":t.changeCounty},model:{value:t.formValidate.county,callback:function(e){t.$set(t.formValidate,"county",e)},expression:"formValidate.county"}},t._l(t.countyArr,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title)+"\n                ")])})),1)],1):t._e()],1)],1)},n=[],o=a("9411"),r=(a("2f62"),{components:{},props:{ids:Array},watch:{ids:function(t){console.log(t,"----0000"),t.length>0?this.changeProvince(t[0]):(this.formValidate.province="",this.formValidate.city="",this.formValidate.county="")},"formValidate.province":function(){this.ids.length>0&&this.changeCity(this.ids[1])},"formValidate.city":function(){this.changeCounty(!1),this.formValidate.county=this.ids[2]}},data:function(){return{newId:[],formValidate:{province:"",city:""},region:[],citiesArr:[],countyArr:[],ruleValidate:{province:[{required:!0,message:"请选择收货地所属的省份",trigger:"change"}],city:[{required:!0,message:"请选择收货地所属的市",trigger:"change"}],county:[{required:!0,message:"请选择收货地所属的区县",trigger:"change"}]}}},computed:{},methods:{change:function(t){this.$emit("change",t),console.log(t,"area")},getList:function(){var t=this;Object(o["d"])().then((function(e){t.region=e.data.list}))},changeProvince:function(t){var e=this;console.log(this.formValidate.province,"00000000"),Object(o["d"])({id:t}).then((function(a){e.citiesArr=a.data.list,e.formValidate.province=t,console.log(e.formValidate.province,"bbbb")}))},changeCity:function(t){var e=this;Object(o["d"])({id:t}).then((function(a){e.countyArr=a.data.list,e.formValidate.city=t,console.log(e.formValidate.city,"ccc")}))},changeCounty:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log(this.formValidate.county,"pppp"),t&&this.$emit("change",[this.formValidate.province,this.formValidate.city,this.formValidate.county])}},mounted:function(){},beforeDestroy:function(){},created:function(){this.getList()}}),s=r,l=a("2877"),c=Object(l["a"])(s,i,n,!1,null,"0bc1a023",null);e["a"]=c.exports},e697:function(t,e,a){},f061:function(t,e,a){}}]);