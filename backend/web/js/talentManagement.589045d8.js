(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["talentManagement","chunk-5a69ed06","chunk-956953ea"],{"0b89":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"导出邀约记录",width:800},on:{"on-cancel":function(e){return t.handleReset()}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{model:t.formData,"label-width":130,rules:t.ruleInlie}},[t.isDisable?t._e():a("FormItem",{attrs:{label:"面试公司：","label-position":"top",prop:"clientId"}},[a("div",{staticStyle:{display:"flex"}},[a("Select",{attrs:{filterable:""},model:{value:t.formData.clientId,callback:function(e){t.$set(t.formData,"clientId",e)},expression:"formData.clientId"}},t._l(t.selectClient,(function(e,i){return a("Option",{key:i,attrs:{value:Number(i)}},[t._v(t._s(e))])})),1)],1),a("chooseCustomer",{ref:"customer",on:{handleChoose:t.handleChoose}})],1),t.isDisable?a("FormItem",{attrs:{label:"面试公司：","label-position":"top"}},[a("div",[t._v(t._s(t.formData.clientName))])]):t._e(),a("FormItem",{attrs:{label:"状态：","label-position":"top"}},[a("RadioGroup",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("Radio",{attrs:{label:"1"}},[t._v("邀约面试中")]),a("Radio",{attrs:{label:"2"}},[t._v("面试通过")]),a("Radio",{attrs:{label:"3"}},[t._v("面试未通过")]),a("Radio",{attrs:{label:"4"}},[t._v("未参加面试")])],1)],1),a("FormItem",{attrs:{label:"面试时间：","label-position":"top"}},[a("DatePicker",{attrs:{value:t.time,type:"daterange"},on:{"on-change":t.handleChangeTime}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset()}}},[t._v("关闭")]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(e){return t.exportData("formData")}}},[t._v("导出")])],1)],2)},n=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("6b54"),a("bd86")),s=a("2f62"),r=a("1808");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={components:{},props:{},data:function(){return{loading:!1,interviEwexport:r["i"],showModal:!1,formData:{clientId:"",startTime:"",endTime:"",status:"",clientName:""},time:[],ruleInlie:{clientId:[{required:!0,type:"number",message:"请选择面试公司",trigger:"change"}]},isDisable:!1}},computed:c({},Object(s["e"])("admin/global",["selectClient"])),watch:{},methods:{getId:function(t,e){this.formData[e]=t},DrawerToShow:function(t,e){console.log(t),t&&(this.formData.clientId=t.toString(),this.formData.clientName=e,console.log(e),this.isDisable=!0),this.showModal=!0},handleReset:function(){this.formData={clientId:"",startTime:"",endTime:"",status:"",clientName:""},this.time=[],this.showModal=!1},handleChangeTime:function(t){this.time=t,this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||""},exportData:function(t){var e=this;console.log("&clientId="+this.formData.clientId+"&status="+this.formData.status+"&startTime="+this.formData.startTime+"&endTime="+this.formData.endTime),this.$refs[t].validate((function(t){t?(window.open(e.interviEwexport+"&clientId="+e.formData.clientId+"&status="+e.formData.status+"&startTime="+e.formData.startTime+"&endTime="+e.formData.endTime),e.formData={clientId:"",startTime:"",endTime:"",status:"",clientName:""},e.time=[],e.showModal=!1):e.$Message.error("请选择面试公司!")}))},handleChoose:function(t,e){this.formData.clientId=t,this.formData.clientName=e},showCustomer:function(){this.$refs.customer.DrawerToShow()}},mounted:function(){},beforeDestroy:function(){},created:function(){}},m=h,u=a("2877"),f=Object(u["a"])(m,i,n,!1,null,"11c68551",null);e["a"]=f.exports},"0ce3":function(t,e,a){},"33b8":function(t,e,a){},"65ff":function(t,e,a){"use strict";var i=a("f1bd"),n=a.n(i);n.a},"7dac":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{ref:"formData",staticClass:"form-box",attrs:{model:t.formData,inline:"","label-width":100}},[a("FormItem",{attrs:{label:"姓名：","label-position":"top",prop:"name"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"手机号：","label-position":"top",prop:"phone"}},[a("Input",{model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("FormItem",{attrs:{label:"","label-position":"top","label-width":20}},[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"default"},on:{click:function(e){return t.clear("formData")}}},[t._v("重置")])],1),a("div",{class:t.isShow?"":"none"},[a("FormItem",{attrs:{label:"身份证：","label-position":"top"}},[a("Input",{model:{value:t.formData.idCard,callback:function(e){t.$set(t.formData,"idCard",e)},expression:"formData.idCard"}})],1),a("FormItem",{attrs:{label:"技能：","label-position":"top"}},[a("Select",{staticStyle:{width:"auto"},attrs:{multiple:""},model:{value:t.formData.skillId,callback:function(e){t.$set(t.formData,"skillId",e)},expression:"formData.skillId"}},t._l(t.skillList,(function(e,i){return a("Option",{key:i,attrs:{value:e.basisId}},[t._v(t._s(e.name))])})),1)],1)],1)],1),a("div",{staticClass:"sx-box",on:{click:t.screen}},[t._v("\n      "+t._s(t.isShow?"收起":"更多筛选")+" "),a("Icon",{class:t.isShow?"turn":"",attrs:{type:"ios-arrow-down"}})],1)],1),a("Card",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"15px"}},[a("div",[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.exportData()}}},[t._v("导出")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.toUpload}},[t._v("导入")])],1),a("router-link",{attrs:{to:{path:"/customerManagement/project"}}},[a("Button",{attrs:{type:"primary"}},[t._v("返回项目管理")])],1)],1),a("div",{staticStyle:{"margin-bottom":"10px"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.changeSearch},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("Radio",{attrs:{label:0}},[t._v("所有")]),a("Radio",{attrs:{label:3}},[t._v("在职")])],1)],1),a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData},on:{"on-selection-change":t.chooseSelect}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1),a("addTalent",{ref:"Drawer",on:{getData:t.getList}}),a("talentLeave",{ref:"leave",on:{getData:t.getList}}),a("talentEntry",{ref:"entry",on:{getData:t.getList}}),a("talentDetail",{ref:"detail",attrs:{erTitle:t.erTitle},on:{getData:t.getList}}),a("talentDetailView",{ref:"view"}),a("upLoadFile",{ref:"upload",on:{getData:t.getList}}),a("invite",{ref:"invite",on:{getData:t.getList}}),a("interviewResult",{ref:"result",on:{getList:t.getList}})],1)},n=[],o=(a("8e6e"),a("456d"),a("ac6a"),a("bd86")),s=(a("7f7f"),a("c276")),r=a("8690"),l=a("0639"),c=a("1f8e"),h=a("9c3b"),m=a("c36a"),u=a("3efd"),f=a("62df"),p=a("eb9c"),d=a("1808"),g=a("9411");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var w={components:{addTalent:r["a"],talentLeave:l["a"],talentEntry:c["a"],talentDetail:h["a"],invite:u["a"],upLoadFile:f["a"],interviewResult:p["a"],talentDetailView:m["a"]},data:function(){var t,e=this;return t={jobExport:d["q"],loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],tableColumns:[{type:"selection",width:60,align:"center"},{title:"姓名",key:"name",minWidth:100,render:function(t,a){return t("div",[t("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){3==s["a"].cookies.get("roleType")||3==a.row.status&&a.row.clientStaffId==s["a"].cookies.get("staffId")||3!=a.row.status&&a.row.staffId==s["a"].cookies.get("staffId")?e.getDetail(a.row,"edit"):e.getView(a.row,"edit")}}},a.row.name)])}},{title:"年龄",key:"age",minWidth:80},{title:"性别",key:"sex",minWidth:80},{title:"岗位",key:"position",minWidth:100},{title:"手机号",key:"phone",minWidth:130},{title:"状态",key:"statusName",minWidth:80},{title:"入职日期",key:"entryTime",minWidth:110},{title:"离职日期",key:"leaveTime",minWidth:110},{title:"工作厂",key:"client",minWidth:100},{title:"客服专员",key:"staffName",minWidth:100},{title:"操作",minWidth:120,align:"center",render:function(t,a){return 3===a.row.status?t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){e.leave(a.row)}}},"离职")]):2===a.row.status?t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){e.$refs.entry.DrawerToShow(a.row)}}},"入职")]):1===a.row.status||4===a.row.status?t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){e.getInvite(a.row)}}},"邀约")]):void 0}}],tableData:[],pageination:{page:1,pageSize:10,count:1},jobIds:[],jobNames:[],isShow:!1,formData:{status:"",skillId:[],name:"",phone:""},skillList:[]},Object(o["a"])(t,"jobIds",[]),Object(o["a"])(t,"entryTime",[]),Object(o["a"])(t,"selectedArr",[]),Object(o["a"])(t,"jobs",[]),t},mounted:function(){},created:function(){this.formData.clientId=JSON.parse(sessionStorage.getItem("clientId")),console.log(this.formData.clientId,"1111"),console.log("&clientId="+this.formData.clientId+"&status="+this.formData.status+"&skillId="+this.formData.skillId+"&name="+this.formData.name+"&phone="+this.formData.phone,"===="),this.getList(),this.getSkill()},methods:{changeSearch:function(t){this.page=1,this.formData.status=t,this.getList()},search:function(){this.page=1,this.getList()},clear:function(t){this.page=1,this.jobIds=[],this.formData.sex="-1",this.formData.skillId=[],this.formData.startTime="",this.formData.endTime="",this.entryTime=[],this.formData.idCard="",this.$refs[t].resetFields(),this.getList()},exportData:function(){console.log("&clientId="+this.formData.clientId+"&status="+this.formData.status+"&skillId="+this.formData.skillId+"&name="+this.formData.name+"&phone="+this.formData.phone,"===="),window.open(this.jobExport+"&clientId="+this.formData.clientId+"&status="+this.formData.status+"&skillId="+this.formData.skillId+"&name="+this.formData.name+"&phone="+this.formData.phone)},getList:function(){var t=this;this.loading=!0,Object(d["m"])(y({page:this.page,pageSize:this.pageination.pageSize},this.formData)).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getList()},show:function(t,e){this.status=e,"add"===e?this.erTitle="新增":"edit"===e&&(this.erTitle="编辑"),this.$refs.Drawer.DrawerToShow()},leave:function(t){this.$refs.leave.DrawerToShow(t.jobId,t.name)},entry:function(t){this.$refs.entry.DrawerToShow(t)},getDetail:function(t){this.erTitle=t.name,this.$refs.detail.DrawerToShow(t.jobId,t.name)},getInvite:function(t){this.jobIds=[],this.jobNames=[],this.jobNames=[t.name],this.jobIds=[t.jobId],this.openInvite()},getInviteMore:function(){this.jobIds.length>0?this.openInvite():this.$Message.error("请选择邀约人才")},openInvite:function(){this.$refs.invite.DrawerToShow(this.jobIds,this.jobNames)},chooseSelect:function(t){var e=this;this.jobIds=[],this.jobNames=[],t.forEach((function(t){e.jobIds.push(t.jobId),e.jobNames.push(t.name)}))},toUpload:function(){this.$refs.upload.DrawerToShow()},screen:function(){this.isShow=!this.isShow},getId:function(t,e){this.formData[e]=t},getSkill:function(){var t=this;this.loading=!0,Object(g["h"])({type:"SKILL"}).then((function(e){t.loading=!1,0===e.ret?t.skillList=e.data:t.$Message.error(e.msg||"接口错误")}))},handleChangeTime:function(t){this.entryTime=t,this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||""},showResult:function(t){var e=this;"1"===this.formData.status?this.selectedArr.length>0?this.$refs.result.DrawerToShow(this.selectedArr,this.jobs,t):this.$Message.error("请选择人才"):this.$Modal.confirm({title:"提示",content:"<p>邀约面试中的人才才可以进行此操作，是否进行筛选？</p>",onOk:function(){e.formData.status="1",e.getList()},onCancel:function(){}})},changeSelect:function(t){var e=this;this.selectedArr=[],this.jobs=[],t.forEach((function(t){e.selectedArr.push(t.interviewId),e.jobs.push(t.jobName)})),console.log(this.selectedArr)},changePageSize:function(t){this.pageination.pageSize=t,this.getList()},getView:function(t){this.erTitle=t.name,this.$refs.view.DrawerToShow(t.jobId,t.name)}}},D=w,v=(a("a861"),a("2877")),I=Object(v["a"])(D,i,n,!1,null,"2bb1160e",null);e["default"]=I.exports},8778:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{ref:"formData",attrs:{model:t.formData,"label-width":100,inline:""}},[a("FormItem",{attrs:{label:"面试时间：","label-position":"top"}},[a("DatePicker",{attrs:{value:t.time,type:"daterange"},on:{"on-change":t.handleChangeTime}})],1),a("FormItem",{attrs:{label:"状态：","label-position":"top"}},[a("RadioGroup",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("Radio",{attrs:{label:"1"}},[t._v("邀约面试中")]),a("Radio",{attrs:{label:"2"}},[t._v("面试通过")]),a("Radio",{attrs:{label:"3"}},[t._v("面试未通过")]),a("Radio",{attrs:{label:"4"}},[t._v("未参加面试")])],1)],1),a("FormItem",{attrs:{label:"","label-position":"top","label-width":0}},[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"default"},on:{click:function(e){return t.clear("formData")}}},[t._v("重置")])],1)],1)],1),a("Card",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("div",[a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.showResult("2")}}},[t._v("面试通过")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.showResult("3")}}},[t._v("面试不过")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.showResult("4")}}},[t._v("未参加面试")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.showExport}},[t._v("导出")])],1),a("router-link",{attrs:{to:{path:"/customerManagement/project"}}},[a("Button",{attrs:{type:"primary"}},[t._v("返回项目管理")])],1)],1),a("Table",{staticStyle:{overflow:"inherit"},attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData},on:{"on-selection-change":t.changeSelect}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1),a("talentEntry",{ref:"Drawer",on:{getList:t.getList}}),a("interviewResult",{ref:"result",on:{getList:t.getList}}),a("exportInterview",{ref:"down"}),a("talentDetail",{ref:"detail",attrs:{erTitle:t.erTitle},on:{getData:t.getList}})],1)},n=[],o=(a("8e6e"),a("456d"),a("ac6a"),a("7f7f"),a("bd86")),s=a("0b89"),r=a("1f8e"),l=a("eb9c"),c=a("9c3b"),h=a("0658");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={components:{talentEntry:r["a"],interviewResult:l["a"],exportInterview:s["a"],talentDetail:c["a"]},data:function(){var t,e=this;return t={isShow:!1,loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],tableColumns:[{type:"selection",width:60,align:"center"},{title:"姓名",minWidth:80,key:"jobName",render:function(t,a){return t("div",[t("a",{props:{},style:{marginRight:"5px"},on:{click:function(){e.getDetail(a.row,"edit")}}},a.row.jobName)])}},{title:"年龄",minWidth:60,key:"age"},{title:"性别",minWidth:60,key:"sexName"},{title:"手机号",minWidth:100,key:"phone"},{title:"招聘专员",minWidth:100,key:"staffName"},{title:"公司/工厂",minWidth:180,key:"client"},{title:"面试岗位",minWidth:80,key:"position"},{title:"面试时间",minWidth:100,key:"time"},{title:"状态",minWidth:80,key:"statusName"},{title:"是否在职",minWidth:100,key:"isEntry",render:function(t,e){if(1===e.row.isEntry)return t("div",[t("div",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){}}},"已入职")])}},{title:"备注",minWidth:80,key:"remark",render:function(t,e){return t("Tooltip",{props:{placement:"top-start"}},[t("div",{style:{width:"100px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:e.row.remark?"":"none"}},e.row.remark),t("span",{slot:"content",style:{whiteSpace:"normal",wordBreak:"break-all"}},e.row.remark)])}},{title:"操作",minWidth:300,render:function(t,a){return 2===a.row.status&&0===a.row.isEntry?t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){e.show(a.row)}}},"入职")]):1===a.row.status?t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"10px"},on:{click:function(){e.toAction(a.row,"2")}}},"面试通过"),t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"10px"},on:{click:function(){e.toAction(a.row,"3")}}},"面试不过"),t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"10px"},on:{click:function(){e.toAction(a.row,"4")}}},"未参加面试")]):void 0}}],tableData:[],pageination:{page:1,pageSize:10,count:1}},Object(o["a"])(t,"status",""),Object(o["a"])(t,"page",1),Object(o["a"])(t,"formData",{}),Object(o["a"])(t,"selectedArr",[]),Object(o["a"])(t,"jobs",[]),Object(o["a"])(t,"time",[]),Object(o["a"])(t,"clientId",""),Object(o["a"])(t,"clientName",""),t},created:function(){this.clientId=JSON.parse(sessionStorage.getItem("clientId")),this.clientName=sessionStorage.getItem("clientName"),console.log(this.clientName,"aaaaa"),this.getList()},methods:{search:function(){"1"===this.formData.status&&(this.status="1"),this.page=1,this.getList()},clear:function(t){this.page=1,this.time=[],this.selectedArr=[],this.jobs=[],this.formData.status="",this.formData.startTime="",this.formData.endTime="",this.$refs[t].resetFields(),this.getList()},getList:function(){var t=this;this.loading=!0,Object(h["k"])(u({clientId:this.clientId,page:this.page,pageSize:this.pageination.pageSize},this.formData)).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getList()},show:function(t){this.$refs.Drawer.DrawerToShow(t)},showExport:function(){this.$refs.down.DrawerToShow(this.clientId,this.clientName)},toAction:function(t,e){console.log(t),this.$refs.result.DrawerToShow([t.interviewId],[t.jobName],e)},showResult:function(t){var e=this;"1"===this.formData.status?this.selectedArr.length>0?this.$refs.result.DrawerToShow(this.selectedArr,this.jobs,t):this.$Message.error("请选择人才"):this.$Modal.confirm({title:"提示",content:"<p>邀约面试中的人才才可以进行此操作，是否进行筛选？</p>",onOk:function(){e.formData.status="1",e.getList()},onCancel:function(){}})},getId:function(t,e){this.formData[e]=t},screen:function(){this.isShow=!this.isShow},changeSelect:function(t){var e=this;this.selectedArr=[],this.jobs=[],t.forEach((function(t){e.selectedArr.push(t.interviewId),e.jobs.push(t.jobName)})),console.log(this.selectedArr)},handleChangeTime:function(t){this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||""},getDetail:function(t){this.erTitle=t.name,this.$refs.detail.DrawerToShow(t.jobId,t.name)},changePageSize:function(t){this.pageination.pageSize=t,this.getList()}}},p=f,d=(a("65ff"),a("2877")),g=Object(d["a"])(p,i,n,!1,null,"83d9f870",null);e["default"]=g.exports},a861:function(t,e,a){"use strict";var i=a("0ce3"),n=a.n(i);n.a},eb9c:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:t.erTitle,"mask-closable":!1,width:620},on:{"on-cancel":function(e){return t.handleReset()}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("div",{staticStyle:{"font-size":"16px","text-align":"center"}},["2"===this.status?a("div",[a("div",[t._l(t.names,(function(e,i){return a("span",{key:i,staticStyle:{color:"red","font-weight":"bold"}},[t._v('"'+t._s(e)+'" ')])})),t._v("面试通过！确定此操作？\n      ")],2),a("div",[t._v("入职时间：\n        "),a("Date-picker",{attrs:{value:t.time,type:"datetime",placeholder:"选择入职日期"},on:{"on-change":function(e){t.time=e}}})],1)]):t._e(),"3"===this.status?a("div",[t._l(t.names,(function(e,i){return a("span",{key:i,staticStyle:{color:"red"}},[t._v('"'+t._s(e)+'" ')])})),t._v("面试未通过！确定此操作？\n    ")],2):t._e(),"4"===this.status?a("div",[t._l(t.names,(function(e,i){return a("span",{key:i,staticStyle:{color:"red"}},[t._v('"'+t._s(e)+'" ')])})),t._v("未参加面试！确定此操作？\n    ")],2):t._e()]),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset()}}},[t._v("取消")]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit()}}},[t._v("确定")])],1)],2)},n=[],o=a("1808"),s={components:{},props:{},data:function(){return{showModal:!1,ids:[],names:[],status:"",erTitle:"",time:""}},computed:{},watch:{},methods:{DrawerToShow:function(t,e,a){console.log(t,e,a,"======"),this.ids=t,this.names=e,this.status=a,this.showModal=!0,"2"===this.status?this.erTitle="面试通过":"3"===this.status?this.erTitle="面试未通过":"4"===this.status&&(this.erTitle="未参加面试")},handleReset:function(){this.showModal=!1},handleSubmit:function(){var t=this;Object(o["k"])({status:this.status,interviewId:this.ids,time:this.time}).then((function(e){0===e.ret?(t.$Message.success("操作成功！"),t.$emit("getList"),t.showModal=!1):t.$Message.error(e.msg||"网络错误")}))}},mounted:function(){},beforeDestroy:function(){},created:function(){}},r=s,l=a("2877"),c=Object(l["a"])(r,i,n,!1,null,"dd1a0e24",null);e["a"]=c.exports},f192:function(t,e,a){"use strict";var i=a("33b8"),n=a.n(i);n.a},f1bd:function(t,e,a){},ff59:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("div",{staticClass:"sx-box",class:t.isShow?" active":"",on:{click:t.screen}},[t._v("\n      筛选 "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("Form",{ref:"formData",staticClass:"form-box",class:t.isShow?"":"none",attrs:{model:t.formData,inline:"","label-width":100}},[a("Row",[a("FormItem",{attrs:{label:"姓名：","label-position":"top",prop:"name"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),a("Row",[a("FormItem",{attrs:{label:"手机号：","label-position":"top",prop:"phone"}},[a("Input",{model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1)],1),a("Row",[a("FormItem",{attrs:{label:"技能：","label-position":"top"}},[a("Select",{staticStyle:{width:"auto"},attrs:{multiple:""},model:{value:t.formData.skillId,callback:function(e){t.$set(t.formData,"skillId",e)},expression:"formData.skillId"}},t._l(t.skillList,(function(e,i){return a("Option",{key:i,attrs:{value:e.basisId}},[t._v(t._s(e.name))])})),1)],1)],1),a("FormItem",{attrs:{label:"","label-position":"top"}},[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"default"},on:{click:function(e){return t.clear("formData")}}},[t._v("重置")])],1)],1)],1),a("Card",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"15px"}},[a("div",[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.exportData()}}},[t._v("导出")])],1),a("router-link",{attrs:{to:{path:"/supplierManagement/supplier"}}},[a("Button",{attrs:{type:"primary"}},[t._v("返回供应商管理")])],1)],1),a("div",{staticStyle:{"margin-bottom":"10px"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.changeSearch},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("Radio",{attrs:{label:0}},[t._v("所有")]),a("Radio",{attrs:{label:3}},[t._v("在职")]),a("Radio",{attrs:{label:4}},[t._v("离职")])],1)],1),a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData},on:{"on-selection-change":t.chooseSelect}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1),a("addTalent",{ref:"Drawer",on:{getData:t.getList}}),a("talentLeave",{ref:"leave",on:{getData:t.getList}}),a("talentEntry",{ref:"entry",on:{getData:t.getList}}),a("talentDetail",{ref:"detail",attrs:{erTitle:t.erTitle},on:{getData:t.getList}}),a("talentDetailView",{ref:"view"}),a("upLoadFile",{ref:"upload",on:{getData:t.getList}}),a("invite",{ref:"invite",on:{getData:t.getList}}),a("interviewResult",{ref:"result",on:{getList:t.getList}})],1)},n=[],o=(a("8e6e"),a("456d"),a("ac6a"),a("bd86")),s=(a("7f7f"),a("c276"),a("8690")),r=a("0639"),l=a("1f8e"),c=a("9c3b"),h=a("c36a"),m=a("3efd"),u=a("62df"),f=a("eb9c"),p=a("1808"),d=a("2e3c"),g=a("9411");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var w={components:{addTalent:s["a"],talentLeave:r["a"],talentEntry:l["a"],talentDetail:c["a"],invite:m["a"],upLoadFile:u["a"],interviewResult:f["a"],talentDetailView:h["a"]},data:function(){var t,e=this;return t={jobExport:p["q"],loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],tableColumns:[{type:"selection",width:60,align:"center"},{title:"姓名",key:"name",minWidth:100,render:function(t,a){return t("div",[t("a",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.getView(a.row,"edit")}}},a.row.name)])}},{title:"年龄",key:"age",minWidth:80},{title:"性别",key:"sex",minWidth:80},{title:"岗位",key:"position",minWidth:100},{title:"手机号",key:"phone",minWidth:130},{title:"状态",key:"statusName",minWidth:80},{title:"入职日期",key:"entryTime",minWidth:110},{title:"离职日期",key:"leaveTime",minWidth:110},{title:"工作厂",key:"client",minWidth:100},{title:"操作",minWidth:120,align:"center",render:function(t,a){return 3===a.row.status?t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){e.leave(a.row)}}},"离职")]):2===a.row.status?t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){e.$refs.entry.DrawerToShow(a.row)}}},"入职")]):1===a.row.status||4===a.row.status?t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){e.getInvite(a.row)}}},"邀约")]):void 0}}],tableData:[],pageination:{page:1,pageSize:10,count:1},jobIds:[],jobNames:[],isShow:!1,formData:{status:"",skillId:[],name:"",phone:""},skillList:[]},Object(o["a"])(t,"jobIds",[]),Object(o["a"])(t,"entryTime",[]),Object(o["a"])(t,"selectedArr",[]),Object(o["a"])(t,"jobs",[]),t},mounted:function(){},created:function(){this.formData.supplierId=JSON.parse(sessionStorage.getItem("supplierId")),console.log(this.formData.supplierId,"1111"),console.log("&supplierId="+this.formData.supplierId+"&status="+this.formData.status+"&skillId="+this.formData.skillId+"&name="+this.formData.name+"&phone="+this.formData.phone,"===="),this.getList(),this.getSkill()},methods:{changeSearch:function(t){this.page=1,this.formData.status=t,this.getList()},search:function(){this.page=1,this.getList()},clear:function(t){this.page=1,this.jobIds=[],this.formData.sex="-1",this.formData.skillId=[],this.formData.startTime="",this.formData.endTime="",this.entryTime=[],this.$refs[t].resetFields(),this.getList()},exportData:function(){console.log("&supplierId="+this.formData.supplierId+"&status="+this.formData.status+"&skillId="+this.formData.skillId+"&name="+this.formData.name+"&phone="+this.formData.phone,"===="),window.open(this.jobExport+"&supplierId="+this.formData.supplierId+"&status="+this.formData.status+"&skillId="+this.formData.skillId+"&name="+this.formData.name+"&phone="+this.formData.phone)},getList:function(){var t=this;this.loading=!0,Object(d["j"])(y({page:this.page,pageSize:this.pageination.pageSize},this.formData)).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo):t.$Message.error(e.msg||"接口错误")}))},changePage:function(t){this.page=t,this.getList()},show:function(t,e){this.status=e,"add"===e?this.erTitle="新增":"edit"===e&&(this.erTitle="编辑"),this.$refs.Drawer.DrawerToShow()},leave:function(t){this.$refs.leave.DrawerToShow(t.jobId,t.name)},entry:function(t){this.$refs.entry.DrawerToShow(t)},getDetail:function(t){this.erTitle=t.name,this.$refs.detail.DrawerToShow(t.jobId,t.name)},getView:function(t){this.erTitle=t.name,this.$refs.view.DrawerToShow(t.jobId,t.name)},getInvite:function(t){this.jobIds=[],this.jobNames=[],this.jobNames=[t.name],this.jobIds=[t.jobId],this.openInvite()},getInviteMore:function(){this.jobIds.length>0?this.openInvite():this.$Message.error("请选择邀约人才")},openInvite:function(){this.$refs.invite.DrawerToShow(this.jobIds,this.jobNames)},chooseSelect:function(t){var e=this;this.jobIds=[],this.jobNames=[],t.forEach((function(t){e.jobIds.push(t.jobId),e.jobNames.push(t.name)}))},toUpload:function(){this.$refs.upload.DrawerToShow()},screen:function(){this.isShow=!this.isShow},getId:function(t,e){this.formData[e]=t},getSkill:function(){var t=this;this.loading=!0,Object(g["h"])({type:"SKILL"}).then((function(e){t.loading=!1,0===e.ret?t.skillList=e.data:t.$Message.error(e.msg||"接口错误")}))},handleChangeTime:function(t){this.entryTime=t,this.formData.startTime=t[0]||"",this.formData.endTime=t[1]||""},showResult:function(t){var e=this;"1"===this.formData.status?this.selectedArr.length>0?this.$refs.result.DrawerToShow(this.selectedArr,this.jobs,t):this.$Message.error("请选择人才"):this.$Modal.confirm({title:"提示",content:"<p>邀约面试中的人才才可以进行此操作，是否进行筛选？</p>",onOk:function(){e.formData.status="1",e.getList()},onCancel:function(){}})},changeSelect:function(t){var e=this;this.selectedArr=[],this.jobs=[],t.forEach((function(t){e.selectedArr.push(t.interviewId),e.jobs.push(t.jobName)})),console.log(this.selectedArr)},changePageSize:function(t){this.pageination.pageSize=t,this.getList()}}},D=w,v=(a("f192"),a("2877")),I=Object(v["a"])(D,i,n,!1,null,"b1f32b02",null);e["default"]=I.exports}}]);