(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["statisticsManagement"],{"72f1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{label:"时间：","label-position":"top","label-width":100}},[a("DatePicker",{attrs:{value:t.publicTime,type:"daterange"},on:{"on-change":t.handleChangeTime}})],1),a("FormItem",{attrs:{label:"客服专员：","label-position":"top","label-width":100}},[a("Input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("FormItem",{attrs:{label:"","label-position":"top","label-width":100}},[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"default"},on:{click:t.clear}},[t._v("重置")])],1)],1)],1),a("Card",{staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"mt10",attrs:{id:"chart_evaluation"}})]),a("Card",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"15px"}},[a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.exportData()}}},[t._v("导出")])],1),a("Table",{attrs:{loading:t.loading,stripe:"",columns:t.tableColumns,data:t.tableData}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden","line-height":"32px"}},[a("div",{staticStyle:{float:"left"}},[a("span",[t._v("共 "+t._s(t.pageination.count)+" 条记录")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("第"+t._s(t.pageination.page)+"页")])]),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page)},on:{"on-change":t.changePage}})],1)])],1)],1)},n=[],s=(a("ac6a"),a("7f7f"),a("313e")),o=a.n(s),r=a("b6bd"),d=a("c276"),l=a("4328"),p=d["a"].cookies.get("token");function c(t){return Object(r["a"])({url:"/system/report/report",method:"post",data:l.stringify(t)})}var h="/system/report/export?token="+p,m={components:{},data:function(){return{staticExport:h,isShow:!1,loading:!0,erTitle:"",status:"",curRow:{},formItem:"",userTypeList:[],tableColumns:[{title:"日期",key:"time",minWidth:120},{title:"部门",key:"section",minWidth:100},{title:"职工姓名",key:"staffName",minWidth:100},{title:"录入人才数",key:"jobAdd",minWidth:110},{title:"邀约数量",key:"interviewAdd",minWidth:100},{title:"入职数量",key:"entryAdd",minWidth:100},{title:"参加面试数量",key:"interviewGoAdd",minWidth:130}],tableData:[],pageination:{page:1,pageSize:10,count:1},page:1,publicTime:[],name:"",option:{title:{text:""},tooltip:{trigger:"axis"},legend:{data:["录入人才数","邀约数量","入职数量","参加面试数量"],selectedMode:"multiple"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"录入人才数",type:"line",stack:"总量",data:[120,132,101,134,90,230,210]},{name:"邀约数量",type:"line",stack:"总量",data:[220,182,191,234,290,330,310]},{name:"入职数量",type:"line",stack:"总量",data:[150,232,201,154,190,330,410]},{name:"参加面试数量",type:"line",stack:"总量",data:[320,332,301,334,390,330,320]}]},entryData:[],interviewData:[],interviewGoData:[],jobAddData:[],seriesData:[]}},created:function(){this.endTime=this.getDate(),this.startTime=this.getDate(-7),console.log(this.startTime,this.endTime,"pppp"),this.getList()},methods:{getDate:function(t){var e=new Date,a=t||0;e.setDate(e.getDate()+a);var i=e.getFullYear(),n=e.getMonth()+1,s=e.getDate();n=n<10?"0"+n:n,s=s<10?"0"+s:s;var o=i+"-"+n+"-"+s;return o},screen:function(){this.isShow=!this.isShow},handleChangeTime:function(t){this.startTime=t[0]||"",this.endTime=t[1]||""},search:function(){this.page=1,this.getList()},clear:function(){this.page=1,this.publicTime=[],this.startTime="",this.endTime="",this.name="",this.getList()},changePage:function(t){this.page=t,this.getList()},exportData:function(){window.open(this.staticExport+"&startTime="+this.startTime+"&endTime="+this.endTime+"&name="+this.name)},getList:function(){var t=this;this.loading=!0,c({startTime:this.startTime,endTime:this.endTime,name:this.name,page:this.page}).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data.list,t.pageination=e.data.pageInfo,t.seriesData=[],t.entryData=[],t.interviewData=[],t.interviewGoData=[],t.jobAddData=[],t.name?e.data.list.forEach((function(e){t.seriesData.push(e.time),t.entryData.push(e.entryAdd),t.interviewData.push(e.interviewAdd),t.interviewGoData.push(e.interviewGoAdd),t.jobAddData.push(e.jobAdd)})):e.data.sum.forEach((function(e){t.seriesData.push(e.time),t.entryData.push(e.entryAdd),t.interviewData.push(e.interviewAdd),t.interviewGoData.push(e.interviewGoAdd),t.jobAddData.push(e.jobAdd)})),t.initEhart()):t.$Message.error(e.msg||"接口错误")}))},initEhart:function(){var t=o.a.init(document.getElementById("chart_evaluation"));this.option.xAxis.data=this.seriesData,this.option.series[0].data=this.jobAddData,this.option.series[1].data=this.interviewData,this.option.series[2].data=this.entryData,this.option.series[3].data=this.interviewGoData,console.log(this.option.series,"aaaaa"),t.setOption(this.option),window.addEventListener("resize",(function(){t.resize()}))}}},u=m,g=(a("78f7"),a("2877")),f=Object(g["a"])(u,i,n,!1,null,"2cf309dc",null);e["default"]=f.exports},"78f7":function(t,e,a){"use strict";var i=a("e6b5"),n=a.n(i);n.a},e6b5:function(t,e,a){}}]);