(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d72d57c4"],{"0411":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("Form",{ref:"formCustom",attrs:{"label-width":80}},[a("Row",[a("Col",{attrs:{xs:24,md:24,lg:24}},[a("div",{staticClass:"add-btns"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleEdit("","add")}}},[t._v("新增项目")])],1)])],1)],1)],1),a("Card",{staticStyle:{"margin-top":"10px"}},[a("Row",[a("Col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("Table",{ref:"tableData",attrs:{loading:t.loading,columns:t.columns,data:t.data,type:"seletion",stripe:""},on:{"on-selection-change":t.changeSelect},scopedSlots:t._u([{key:"action",fn:function(e){var r=e.row;e.index;return[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleEdit(r.id,"edit")}}},[t._v("编辑")])]}}])})],1),a("Col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("div",{staticStyle:{"padding-top":"20px",float:"right"}},[a("pageCom",{ref:"pageination",attrs:{pageination:t.pageination},on:{changePage:t.changePage}})],1)])],1)],1),a("editCom",{ref:"editNotice",attrs:{modal:t.modal,erTitle:t.erTitle},on:{hideModal:function(e){t.modal=!1},saveSuccess:t.saveSuccess}})],1)},o=[],n=(a("8e6e"),a("456d"),a("967e")),i=a.n(n),s=(a("96cf"),a("1da1")),l=a("ade3"),c=(a("ac6a"),a("386d"),a("c7c0")),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Drawer",{attrs:{title:t.erTitle,width:"720","mask-closable":!1},on:{"on-close":function(e){return t.handleReset("formValidate")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":100}},[a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"项目名称",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入项目名称"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"项目周期",prop:"cycle"}},[a("Input",{attrs:{placeholder:"项目周期"},model:{value:t.formValidate.cycle,callback:function(e){t.$set(t.formValidate,"cycle",e)},expression:"formValidate.cycle"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"开始时间",prop:"startTime"}},[a("DatePicker",{attrs:{type:"date",placeholder:"请选择项目开始时间"},model:{value:t.formValidate.startTime,callback:function(e){t.$set(t.formValidate,"startTime",e)},expression:"formValidate.startTime"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"结束时间",prop:"endTime"}},[a("DatePicker",{attrs:{type:"date",placeholder:"请选择项目结束时间"},model:{value:t.formValidate.endTime,callback:function(e){t.$set(t.formValidate,"endTime",e)},expression:"formValidate.endTime"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"项目责任人",prop:"projectLeader"}},[a("Select",{model:{value:t.formValidate.projectLeader,callback:function(e){t.$set(t.formValidate,"projectLeader",e)},expression:"formValidate.projectLeader"}},t._l(t.joinPersonalList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.userName))])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"项目评分",prop:"projectScore"}},[a("InputNumber",{attrs:{placeholder:"请输入项目评分"},model:{value:t.formValidate.projectScore,callback:function(e){t.$set(t.formValidate,"projectScore",e)},expression:"formValidate.projectScore"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"项目金额",prop:"price"}},[a("Input",{attrs:{placeholder:"请输入项目金额"},model:{value:t.formValidate.price,callback:function(e){t.$set(t.formValidate,"price",e)},expression:"formValidate.price"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"收款金额",prop:"receiptPrice"}},[a("InputNumber",{attrs:{placeholder:"请输入收款金额"},model:{value:t.formValidate.receiptPrice,callback:function(e){t.$set(t.formValidate,"receiptPrice",e)},expression:"formValidate.receiptPrice"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"报备人",prop:"reportUserId"}},[a("Select",{model:{value:t.formValidate.reportUserId,callback:function(e){t.$set(t.formValidate,"reportUserId",e)},expression:"formValidate.reportUserId"}},t._l(t.joinPersonalList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.userName))])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"报备时间",prop:"reportTime"}},[a("DatePicker",{attrs:{type:"date","split-panels":"",placement:"bottom-end",placeholder:"请选择报备时间"},model:{value:t.formValidate.reportTime,callback:function(e){t.$set(t.formValidate,"reportTime",e)},expression:"formValidate.reportTime"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"项目状态",prop:"status"}},[a("Select",{model:{value:t.formValidate.status,callback:function(e){t.$set(t.formValidate,"status",e)},expression:"formValidate.status"}},t._l(t.statusList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同收发状态",prop:"contractStatus"}},[a("Select",{model:{value:t.formValidate.contractStatus,callback:function(e){t.$set(t.formValidate,"contractStatus",e)},expression:"formValidate.contractStatus"}},t._l(t.contractStatusList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"收款状态",prop:"receiptStatus"}},[a("Select",{model:{value:t.formValidate.receiptStatus,callback:function(e){t.$set(t.formValidate,"receiptStatus",e)},expression:"formValidate.receiptStatus"}},t._l(t.receiptStatusList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"参与人员",prop:"joinPersonal"}},[a("Input",{attrs:{placeholder:"请输入参与人员"},model:{value:t.formValidate.joinPersonal,callback:function(e){t.$set(t.formValidate,"joinPersonal",e)},expression:"formValidate.joinPersonal"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"所属客户",prop:"belongCustomer"}},[a("Select",{model:{value:t.formValidate.belongCustomer,callback:function(e){t.$set(t.formValidate,"belongCustomer",e)},expression:"formValidate.belongCustomer"}},t._l(t.belongCustomerList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"项目地址",prop:"projectAddress"}},[a("Input",{attrs:{maxlength:50,placeholder:"请输入项目地址"},model:{value:t.formValidate.projectAddress,callback:function(e){t.$set(t.formValidate,"projectAddress",e)},expression:"formValidate.projectAddress"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"项目说明",prop:"projectExplain"}},[a("Input",{attrs:{maxlength:500,type:"textarea",rows:4,placeholder:"请输入项目说明"},model:{value:t.formValidate.projectExplain,callback:function(e){t.$set(t.formValidate,"projectExplain",e)},expression:"formValidate.projectExplain"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"项目描述",prop:"projectDescribe"}},[a("Input",{attrs:{maxlength:500,type:"textarea",rows:4,placeholder:"请输入项目描述"},model:{value:t.formValidate.projectDescribe,callback:function(e){t.$set(t.formValidate,"projectDescribe",e)},expression:"formValidate.projectDescribe"}})],1)],1)],1)],1),a("div",{staticClass:"demo-drawer-footer"},[a("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.handleReset("formValidate")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary",loading:t.btLoding},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("确定")])],1)],1)],1)},u=[],p=(a("7f7f"),a("24d2")),m=a("f6b0"),f={name:"addIandeBank",props:{modal:{type:Boolean},erTitle:{type:String}},components:{},data:function(){return{id:"",joinPersonalList:[],belongCustomerList:[{id:1,name:"1"},{id:2,name:"2"}],contractStatusList:[{id:1,name:"未发送"},{id:2,name:"已发送"},{id:3,name:"已签收"}],receiptStatusList:[{id:1,name:"未收款"},{id:2,name:"收款一部分"},{id:3,name:"收款完成"}],statusList:[{id:1,name:"待审核"},{id:2,name:"已报备"},{id:3,name:"已开始"},{id:4,name:"已结束"}],btLoding:!1,ruleValidate:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},showModal:!1,formValidate:{id:"",name:"",startTime:"",cycle:"",endTime:"",projectLeader:"",projectExplain:"",projectScore:0,price:0,receiptPrice:0,reportUserId:"",reportTime:"",status:"",contractStatus:"",receiptStatus:"",joinPersonal:"",belongCustomer:"",projectAddress:"",projectDescribe:""}}},computed:{},watch:{modal:function(t){this.showModal=t}},methods:{handleReset:function(t){this.$refs[t].resetFields(),this.$emit("hideModal")},handleChoose:function(t){this.showChooseGoods=!1,this.data=t},delGoods:function(t){this.data.splice(t,1)},loadData:function(t,e){this.getReportUserList(),this.getCustomerList(),this.id=t,"edit"==e&&this.getData()},format:function(t){var e=new Date(t),a=e.getFullYear(),r=e.getMonth()+1,o=e.getDate();return r<10&&(r="0"+r),o<10&&(o="0"+o),a+"-"+r+"-"+o},getReportUserList:function(){var t=this;Object(p["c"])().then((function(e){t.joinPersonalList=e.data.list})).catch((function(t){console.lor(t)}))},getCustomerList:function(){var t=this;Object(m["a"])({page:0,pageSize:0}).then((function(e){t.belongCustomerList=e.data.list})).catch((function(t){console.lor(t)}))},getData:function(){var t=this;Object(p["a"])({id:this.id}).then((function(e){t.formValidate=e.data.info})).catch((function(t){console.lor(t)}))},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){t&&(e.btLoding=!0,e.formValidate.startTime=e.format(e.formValidate.startTime),e.formValidate.endTime=e.format(e.formValidate.endTime),e.formValidate.reportTime=e.format(e.formValidate.reportTime),Object(p["d"])(e.formValidate).then((function(t){e.$Message.success("保存成功"),e.btLoding=!1,e.$emit("saveSuccess")})).catch((function(t){e.btLoding=!1})))}))}},mounted:function(){},beforeDestroy:function(){},created:function(){}},h=f,g=(a("0bca"),a("2877")),b=Object(g["a"])(h,d,u,!1,null,"3402d387",null),v=b.exports;function V(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function j(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?V(Object(a),!0).forEach((function(e){Object(l["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var S={name:"goodsPage",components:{pageCom:c["a"],editCom:v},data:function(){return{modal:!1,loading:!1,columns:[{type:"selection",title:"ID",width:60},{title:"项目名称",key:"name",minWidth:100,sortable:!0},{title:"项目金额",key:"price",minWidth:100},{title:"收款金额",key:"receiptPrice",minWidth:100},{title:"项目开始时间",key:"startTime",minWidth:100},{title:"项目周期",key:"cycle",minWidth:100},{title:"操作",slot:"action",minWidth:100}],data:[],formValidate:{name:"",type:"0",gender:"",desc:"",campus:[]},tmpData:{},erTitle:"",searchValidate:{adsState:"",time:[],startTime:"",endTime:""},selectedArr:[],pageination:{pageSize:10,count:0,page:1,pageSum:1},stateList:{1:"上架",2:"下架"}}},computed:{},watch:{},methods:{handleEdit:function(t,e){this.modal=!0,this.erTitle="edit"==e?"编辑":"新增",this.$refs.editNotice.loadData(t,e)},handleClickBatch:function(t){switch(t){case"handleAllUp":this.handleAll(this.selectedArr,1);break;case"handleAllDown":this.handleAll(this.selectedArr,2);break;case"handleAllDel":this.delAll(this.selectedArr);break}},resetSearch:function(){this.searchValidate={adsState:"",time:[],startTime:"",endTime:""},this.search()},search:function(){this.pageination.page=1,this.getData()},changeTime:function(t){this.$set(this.searchValidate,"time",t),this.$set(this.searchValidate,"startTime",t[0]||""),this.$set(this.searchValidate,"endTime",t[1]||"")},changePage:function(t,e){this.pageination.page=t,this.pageination.pageSize=e,this.getData()},changeSelect:function(t){var e=this;this.selectedArr=[],console.log(t),t.forEach((function(t){e.selectedArr.push(t.adsId)}))},clearSelectd:function(){this.$refs.tableData.selectAll(!1),this.selectedArr=[]},getData:function(){var t=this;this.loading=!0,this.data=[],this.selectedArr=[],Object(p["b"])(j(j({},this.searchValidate),{},{pageSize:this.pageination.pageSize,page:this.pageination.page})).then(function(){var e=Object(s["a"])(i.a.mark((function e(a){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(a),t.loading=!1,t.data=a.data.list,t.pageination=a.data.pageInfo||t.pageination;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){console.log("err: ",t)}))},saveSuccess:function(){this.modal=!1,this.getData()},handleOne:function(t,e){var a=[t.adsId];this.handleAll(a,e)},handleAll:function(t,e){var a=this;if(t.length<=0)this.$Message.error("未选择公告");else{var r="";r=1===e?"上架":"下架",this.$Modal.confirm({title:"提示",content:"<p>是否"+r+"公告？</p>",onOk:function(){noticeHandle({adsId:t,adsState:e}).then((function(t){0===t.ret?(a.$Message.success("操作成功"),a.getData()):a.$Message.error(t.msg||"接口错误")}))},onCancel:function(){}})}},delOne:function(t){var e=[t.adsId];this.delAll(e)},delAll:function(t){var e=this;if(t.length<=0)return this.$Message.error("未选择公告"),!1;this.$Modal.confirm({title:"提示",content:"<p>是否删除公告？</p>",onOk:function(){noticeDel({adsId:t}).then((function(t){e.$Message.success("删除成功"),e.getData()}))},onCancel:function(){}})}},mounted:function(){},beforeDestroy:function(){},created:function(){this.getData()}},y=S,w=Object(g["a"])(y,r,o,!1,null,null,null);e["default"]=w.exports},"0bca":function(t,e,a){"use strict";var r=a("f74d"),o=a.n(r);o.a},"24d2":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return s}));var r=a("b6bd"),o=function(t){return Object(r["a"])({url:"/project/manage/list",method:"post",data:t})},n=function(t){return Object(r["a"])({url:"/project/manage/save",method:"post",data:t})},i=function(t){return Object(r["a"])({url:"/project/manage/info",method:"post",data:t})},s=function(t){return Object(r["a"])({url:"/project/manage/get-report-user",method:"post",data:t})}},"386d":function(t,e,a){"use strict";var r=a("cb7c"),o=a("83a1"),n=a("5f1b");a("214f")("search",1,(function(t,e,a,i){return[function(a){var r=t(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,r):new RegExp(a)[e](String(r))},function(t){var e=i(a,t,this);if(e.done)return e.value;var s=r(t),l=String(this),c=s.lastIndex;o(c,0)||(s.lastIndex=0);var d=n(s,l);return o(s.lastIndex,c)||(s.lastIndex=c),null===d?-1:d.index}]}))},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},c7c0:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"flex"}},[a("Page",{attrs:{id:"pageCom",total:Number(t.pageination.count),"page-size":Number(t.pageination.pageSize),current:Number(t.pageination.page),"show-elevator":t.showElevator,"show-total":t.showTotal,"show-sizer":t.showSizer},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}}),t.showElevator?a("Button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确定")]):t._e()],1)])},o=[],n=(a("a481"),{name:"pageCom",data:function(){return{page:1,pageSize:10}},props:{pageination:{type:Object},showSizer:{type:Boolean,default:!0},showTotal:{type:Boolean,default:!0},showElevator:{type:Boolean,default:!0}},computed:{},methods:{changePage:function(t){this.page=t,this.returnChange()},confirm:function(){var t=document.getElementById("pageCom"),e=t.getElementsByClassName("ivu-page-options-elevator");if(e&&e.length>0){var a=e[0].getElementsByTagName("input")[0],r=a.value.replace(/[^\d]/g,"");""===r&&(r=1),r>this.pageination.pageSum&&(r=this.pageination.pageSum),r<0&&(r=1),r=0===r?1:r,a.value=r,this.page=r}this.returnChange()},changePageSize:function(t){this.page=1,this.pageSize=t,this.returnChange()},returnChange:function(){this.$emit("changePage",this.page,this.pageSize)}},created:function(){},mounted:function(){this.page=1,this.pageSize=10}}),i=n,s=a("2877"),l=Object(s["a"])(i,r,o,!1,null,null,null);e["a"]=l.exports},f6b0:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return n}));var r=a("b6bd"),o=function(t){return Object(r["a"])({url:"/client/client/list",method:"post",data:t})},n=function(t){return Object(r["a"])({url:"/client/client/person-list",method:"post",data:t})}},f74d:function(t,e,a){}}]);