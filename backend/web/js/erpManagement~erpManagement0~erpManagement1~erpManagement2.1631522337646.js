(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["erpManagement~erpManagement0~erpManagement1~erpManagement2"],{"0658":function(t,e,n){"use strict";n.d(e,"i",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"v",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"l",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"g",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"e",(function(){return g})),n.d(e,"k",(function(){return m})),n.d(e,"j",(function(){return b})),n.d(e,"q",(function(){return y})),n.d(e,"p",(function(){return v})),n.d(e,"w",(function(){return O})),n.d(e,"o",(function(){return _})),n.d(e,"n",(function(){return j})),n.d(e,"s",(function(){return k})),n.d(e,"u",(function(){return w})),n.d(e,"r",(function(){return I})),n.d(e,"t",(function(){return S})),n.d(e,"m",(function(){return A}));var i=n("b6bd"),r=n("4328");function a(t){return Object(i["a"])({url:"/client/client/client_list",method:"post",data:r.stringify(t)})}function o(t){return Object(i["a"])({url:"/client/client/client_add",method:"post",data:r.stringify(t)})}function c(t){return Object(i["a"])({url:"/client/client/client_save",method:"post",data:r.stringify(t)})}function s(t){return Object(i["a"])({url:"/client/client/client_info",method:"post",data:r.stringify(t)})}function l(t){return Object(i["a"])({url:"/client/client/client_person_add",method:"post",data:r.stringify(t)})}function u(t){return Object(i["a"])({url:"/client/client/client_person_list",method:"post",data:r.stringify(t)})}function d(t){return Object(i["a"])({url:"/client/client/client_interview_add",method:"post",data:r.stringify(t)})}function f(t){return Object(i["a"])({url:"/client/client/client_interview_list",method:"post",data:r.stringify(t)})}function h(t){return Object(i["a"])({url:"/client/client/client_interview_info",method:"post",data:r.stringify(t)})}function p(t){return Object(i["a"])({url:"/client/client/client_contract_add",method:"post",data:r.stringify(t)})}function g(t){return Object(i["a"])({url:"/client/client/client_contract_list",method:"post",data:r.stringify(t)})}function m(t){return Object(i["a"])({url:"/client/client/client_shift",method:"post",data:r.stringify(t)})}function b(t){return Object(i["a"])({url:"/client/client/select",method:"post",data:r.stringify(t)})}function y(t){return Object(i["a"])({url:"/client/client/person_select",method:"post",data:r.stringify(t)})}function v(t){return Object(i["a"])({url:"/client/client/client_person_info",method:"post",data:r.stringify(t)})}function O(t){return Object(i["a"])({url:"/client/client/client_person_save",method:"post",data:r.stringify(t)})}function _(t){return Object(i["a"])({url:"/client/client/client_person_del",method:"post",data:r.stringify(t)})}function j(t){return Object(i["a"])({url:"/client/client/client_del",method:"post",data:r.stringify(t)})}var k=function(t){return Object(i["a"])({url:"/project/manage/list",method:"post",data:t})},w=function(t){return Object(i["a"])({url:"/project/manage/save",method:"post",data:t})},I=function(t){return Object(i["a"])({url:"/project/manage/info",method:"post",data:t})},S=function(t){return Object(i["a"])({url:"/project/manage/get-report-user",method:"post",data:t})},A=function(t){return Object(i["a"])({url:"/client/client/list",method:"post",data:t})}},"386d":function(t,e,n){"use strict";var i=n("cb7c"),r=n("83a1"),a=n("5f1b");n("214f")("search",1,(function(t,e,n,o){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=o(n,t,this);if(e.done)return e.value;var c=i(t),s=String(this),l=c.lastIndex;r(l,0)||(c.lastIndex=0);var u=a(c,s);return r(c.lastIndex,l)||(c.lastIndex=l),null===u?-1:u.index}]}))},"4c83":function(t,e,n){"use strict";var i=n("6ca3"),r=n.n(i);r.a},"5dbc":function(t,e,n){var i=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var a,o=e.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&i(a)&&r&&r(t,a),t}},"6ca3":function(t,e,n){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"8b97":function(t,e,n){var i=n("d3f4"),r=n("cb7c"),a=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},aa77:function(t,e,n){var i=n("5ca1"),r=n("be13"),a=n("79e5"),o=n("fdef"),c="["+o+"]",s="​",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(t,e,n){var r={},c=a((function(){return!!o[t]()||s[t]()!=s})),l=r[t]=c?e(f):o[t];n&&(r[n]=l),i(i.P+i.F*c,"String",r)},f=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},c4c8:function(t,e,n){"use strict";n.d(e,"h",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"e",(function(){return p})),n.d(e,"j",(function(){return g})),n.d(e,"k",(function(){return m})),n.d(e,"a",(function(){return b}));var i=n("c276"),r=n("b6bd"),a=i["a"].cookies.get("token"),o=n("4328");function c(t){return Object(r["a"])({url:"/goods/manage/list?token="+a,method:"post",data:o.stringify(t)})}function s(t){return Object(r["a"])({url:"/goods/manage/info?token="+a,method:"post",data:t})}function l(t){return Object(r["a"])({url:"/goods/manage/save?token="+a,method:"post",data:t})}function u(t){return Object(r["a"])({url:"/goods/manage/del?token="+a,method:"post",data:t})}function d(t){return Object(r["a"])({url:"/goods/working-procedure/list",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/goods/working-procedure/detail",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/goods/working-procedure/del",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/goods/working-procedure/save",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/staff/work-record/goods-list",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/goods/working-procedure/relation-list",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/goods/working-procedure/all-list  ",method:"post",data:t})}},c5f6:function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),a=n("2d95"),o=n("5dbc"),c=n("6a99"),s=n("79e5"),l=n("9093").f,u=n("11e9").f,d=n("86cc").f,f=n("aa77").trim,h="Number",p=i[h],g=p,m=p.prototype,b=a(n("2aeb")(m))==h,y="trim"in String.prototype,v=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():f(e,3);var n,i,r,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var o,s=e.slice(2),l=0,u=s.length;l<u;l++)if(o=s.charCodeAt(l),o<48||o>r)return NaN;return parseInt(s,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(b?s((function(){m.valueOf.call(n)})):a(n)!=h)?o(new g(v(e)),n,p):v(e)};for(var O,_=n("9e1e")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;_.length>j;j++)r(g,O=_[j])&&!r(p,O)&&d(p,O,u(g,O));p.prototype=m,m.constructor=p,n("2aba")(i,h,p)}},d9e1:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{"mask-closable":!1,"footer-hide":!0,title:"选择"+(t.type?2==t.type?"物料":2==t.isFinished?"半成品":"产品":"半成品/物料"),width:1e3},on:{"on-cancel":function(e){return t.handleReset("formValidate")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("div",{staticClass:"choose-class",class:t.isMobile?"":"wrapper"},[n("Card",{class:t.isMobile?"":"right-content"},[n("Form",{ref:"formCustom",attrs:{"label-width":100}},[n("Row",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"flex",justify:"space-between"}},[n("Col",{attrs:{xs:24,md:12,lg:12}},[n("Input",{staticStyle:{width:"95%"},attrs:{type:"text",placeholder:"请输入"+(t.type?2==t.type?"物料":2==t.isFinished?"半成品":"产品":"半成品/物料")+"名称",clearabl:""},model:{value:t.searchValidate.name,callback:function(e){t.$set(t.searchValidate,"name",e)},expression:"searchValidate.name"}})],1),n("Col",{attrs:{xs:24,md:12,lg:12}},[t.isFinished?t._e():n("RadioGroup",{on:{"on-change":t.search},model:{value:t.searchValidate.isFinished,callback:function(e){t.$set(t.searchValidate,"isFinished",e)},expression:"searchValidate.isFinished"}},[n("Radio",{attrs:{label:0}},[t._v("全部")]),n("Radio",{attrs:{label:2}},[t._v("半成品")]),n("Radio",{attrs:{label:1}},[t._v("成品")])],1),t.type?t._e():n("RadioGroup",{on:{"on-change":t.search},model:{value:t.searchValidate.type,callback:function(e){t.$set(t.searchValidate,"type",e)},expression:"searchValidate.type"}},[n("Radio",{attrs:{label:2}},[t._v("物料")]),n("Radio",{attrs:{label:1}},[t._v("半成品")])],1),n("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),n("Button",{staticClass:"ivu-ml-8",on:{click:t.resetSearch}},[t._v("重置")])],1)],1),t.showMore&&!t.isFinished?n("Row",{attrs:{type:"flex",justify:"space-between"}},[n("Col",{attrs:{xs:24,md:12,lg:12}},[n("FormItem",{attrs:{label:"产品类型：","label-position":"top","label-width":90}},[n("RadioGroup",{on:{"on-change":t.search},model:{value:t.searchValidate.isFinished,callback:function(e){t.$set(t.searchValidate,"isFinished",e)},expression:"searchValidate.isFinished"}},[n("Radio",{attrs:{label:0}},[t._v("全部")]),n("Radio",{attrs:{label:2}},[t._v("半成品")]),n("Radio",{attrs:{label:1}},[t._v("成品")])],1)],1)],1)],1):t._e(),t.showMore&&!t.type?n("Row",{attrs:{type:"flex",justify:"space-between"}},[n("Col",{attrs:{xs:24,md:12,lg:12}},[n("FormItem",{attrs:{label:"产品类型：","label-position":"top","label-width":90}},[n("RadioGroup",{on:{"on-change":t.search},model:{value:t.searchValidate.type,callback:function(e){t.$set(t.searchValidate,"type",e)},expression:"searchValidate.type"}},[n("Radio",{attrs:{label:2}},[t._v("物料")]),n("Radio",{attrs:{label:1}},[t._v("半成品")])],1)],1)],1)],1):t._e()],1),n("div",[n("div",[n("Table",{ref:"tableData",attrs:{height:500,columns:t.columns,data:t.data,loading:t.loading},on:{"on-selection-change":t.changeSelect,"on-select-cancel":t.changeCancle,"on-select-all-cancel":t.cancleAll}})],1)])],1),t.isMobile?t._e():n("Card",{staticClass:"left-content"},[n("div",{staticClass:"ivu-mt",attrs:{slot:"title"},slot:"title"},[n("Alert",[n("Icon",{staticClass:"ivu-mr-8",attrs:{color:"#2d8cf0",type:"ios-alert"}}),t._v("\n          已选择 "+t._s(t.selectedArr.length)+" 项\n          ")],1)],1),n("List",{attrs:{border:""}},[n("Scroll",{staticStyle:{flex:"1"},attrs:{height:415}},t._l(t.selectedArr,(function(e,i){return n("ListItem",{key:i},[n("ListItemMeta",{attrs:{avatar:"",title:e.name,description:""}}),n("template",{slot:"action"},[n("li",{on:{click:function(e){return t.delClass(i)}}},[n("Icon",{attrs:{type:"md-close-circle",size:"19"}})],1)])],2)})),1)],1)],1)],1),n("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[n("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.handleReset("formValidate")}}},[t._v("取消")]),n("Button",{attrs:{type:"primary",loading:t.isSubmit},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("确定")])],1)])},r=[],a=(n("8e6e"),n("456d"),n("386d"),n("ac6a"),n("bd86")),o=n("c4c8"),c=n("2f08"),s=n("2f62"),l=n("9411");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"chooseMateriel",components:{iCopyright:c["a"]},props:{modal:{type:Boolean,default:!1},selected:{type:Array,default:function(){return[]}}},data:function(){return{columns:[{type:"selection",minWidth:50},{title:"名称",minWidth:100,key:"name"},{title:"单位",key:"unit",minWidth:100},{title:"库存",key:"stock",minWidth:100}],data:[],searchValidate:{name:"",isFinished:0,type:""},showModal:!1,selectedArr:[],oldSelectedArr:[],showMore:!1,pageInfo:{pageSize:1e3,page:1,pageSum:0,count:0},type:"",isFinished:"",loading:!0,groupId:"",isSubmit:!1}},computed:d({},Object(s["e"])("admin/layout",["isMobile"])),watch:{},methods:{changeSelect:function(t){console.log(t,"dddddddd");var e=this.selectedArr,n=t,i=[];e&&e.length&&e.forEach((function(t){for(var e=!1,r=0;r<n.length;r++){if(t.id==n[r].id){e=!0;break}e=!1}e||i.push(t)})),this.selectedArr=n.concat(i),console.log(this.selectedArr,e,i,"2323")},changeCancle:function(t,e){var n=this;this.selectedArr.filter((function(t,i){e.id==t.id&&n.selectedArr.splice(i,1)})),console.log(this.selectedArr,"取消一个")},cancleAll:function(t,e){this.selectedArr=[]},clearSelectd:function(){this.$refs.tableData.selectAll(!1),this.selectedArr=[]},handleReset:function(t){this.showModal=!1,this.$emit("hideModal")},handleSubmit:function(t){var e=this;if(this.groupId){if(this.isSubmit)return;this.isSubmit=!0;var n=this.selectedArr.map((function(t){return t.id}));Object(l["t"])({groupId:this.groupId,goodsId:n.join(",")}).then((function(t){console.log(222222),e.$Message.success("保存成功"),e.showModal=!1,e.isSubmit=!1})).catch((function(t){e.isSubmit=!1}))}else this.showModal=!1,this.$emit("handleChoose",this.selectedArr)},delClass:function(t){var e=this,n="";this.data.filter((function(i,r){i.id===e.selectedArr[t].id&&(n=r)})),this.$refs.tableData.toggleSelect(n)},resetSearch:function(){this.pageInfo={pageSize:1e3,page:1,pageSum:0,count:0},this.searchValidate={name:"",isFinished:this.isFinished,type:this.type||1},this.getData()},search:function(){this.pageInfo={pageSize:1e3,page:1,pageSum:0,count:0},this.getData()},changePage:function(t){this.oldSelectedArr=JSON.parse(JSON.stringify(this.selectedArr)),this.pageInfo.page=t,this.getData()},getData:function(){var t=this;this.data=[],this.loading=!0,Object(o["h"])(d({},this.pageInfo,{},this.searchValidate,{isFinished:2==this.searchValidate.type?"":this.searchValidate.isFinished})).then((function(e){var n=[];t.data=e.data.list.map((function(e){return n=t.selectedArr.filter((function(t){return t.id==e.id})),e._checked=n.length>0,e})),console.log(t.data),t.pageInfo=e.data.pageInfo,t.loading=!1})).catch((function(e){t.loading=!1}))},loadData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";switch(console.log(111111111111),e){case 2:this.isFinished="",this.type=2,this.searchValidate.type=this.type;break;case 3:this.isFinished=t,this.type=0,this.searchValidate.type=1;break;default:this.isFinished=t||0,this.type=1,this.columns.splice(2,0,{title:"单价",key:"price",minWidth:100}),this.columns.splice(2,0,{title:"规格",key:"attr",minWidth:100}),this.columns.splice(4,1),this.searchValidate.type=this.type;break}this.searchValidate.isFinished=this.isFinished,this.searchValidate.name="",this.showModal=!0,this.loading=!0,this.selectedArr=[],this.groupId=n,n?this.getGroupGoods():this.search()},getGroupGoods:function(){var t=this;Object(l["s"])({groupId:this.groupId}).then((function(e){console.log(222222),console.log(e.data.list),t.selectedArr=e.data.list,t.oldSelectedArr=JSON.parse(JSON.stringify(t.selectedArr)),t.search()})).catch((function(e){t.loading=!1}))}},mounted:function(){},beforeDestroy:function(){},created:function(){}},h=f,p=(n("4c83"),n("2877")),g=Object(p["a"])(h,i,r,!1,null,"397bdf44",null);e["a"]=g.exports},f8b7:function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g}));var i=n("c276"),r=n("b6bd"),a=i["a"].cookies.get("token"),o=n("4328");function c(t){return Object(r["a"])({url:"/sales/manage/list?token="+a,method:"post",data:o.stringify(t)})}function s(t){return Object(r["a"])({url:"/sales/manage/info?token="+a,method:"post",data:t})}function l(t){return Object(r["a"])({url:"/sales/manage/save?token="+a,method:"post",data:t})}function u(t){return Object(r["a"])({url:"/sales/manage/pro-complete?token="+a,method:"post",data:t})}function d(t){return Object(r["a"])({url:"/sales/manage/send?token="+a,method:"post",data:t})}function f(t){return Object(r["a"])({url:"/sales/manage/goods-list",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/sales/manage/client-order",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/sales/manage/print-data",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/sales/manage/save-client-address",method:"post",data:t})}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);