(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["systemSetup"],{"06e3":function(t,e,a){},"0f1a":function(t,e,a){},"10b4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Drawer",{attrs:{title:"修改权限",width:"820","mask-closable":!1,styles:t.styles},on:{"on-close":function(e){return t.cancel("formatData")}},model:{value:t.showAdd,callback:function(e){t.showAdd=e},expression:"showAdd"}},[t.loading?t._e():a("Tree",{ref:"listTree",attrs:{data:t.treeList,"show-checkbox":""},on:{"on-check-change":t.selectValue}}),t.loading?a("div",[a("Spin",{attrs:{size:"large"}})],1):t._e(),a("div",{staticClass:"demo-drawer-footer"},[a("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.cancel("formatData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary",loading:t.btLoding},on:{click:function(e){return t.handleSubmit("formatData")}}},[t._v("确定")])],1)],1)],1)},i=[],s=a("580a"),o={name:"addContractor",data:function(){return{loading:!0,editData:{groupName:""},twoList:[],btLoding:!1,headers:{"Access-Control-Allow-Origin":"*"},showAdd:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},checkFormData:{groupName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}]},groupId:"",treeList:[],type:2}},watch:{},props:{erTitle:{type:String}},methods:{selectValue:function(t){var e=[];e=this.$refs.listTree.getCheckedAndIndeterminateNodes(),console.log(e,"===");var a=function t(a){for(var n=0;n<a.length;n++){a[n].isChecked=!1;for(var i=0;i<e.length;i++)e[i].menuId==a[n].menuId&&(a[n].isChecked=!0);a[n].children&&a[n].children.length>0&&t(a[n].children)}};a(this.treeList)},DrawerToShow:function(t){this.type=t,this.showAdd=!0},handleSubmit:function(t){var e=this;Object(s["f"])({groupId:this.groupId,list:this.treeList,type:this.type}).then((function(t){e.$Message.success("保存成功"),e.showAdd=!1,e.$emit("callback")}))},cancel:function(t){this.showAdd=!1},loadData:function(t){this.groupId=t.value,this.editData.groupId=t.value||"",this.editData.groupName=t.title||"",this.getTreeList()},showHide:function(t){t.expand=!t.expand},changeCheck:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]},getTreeList:function(){var t=this;this.loading=!0,Object(s["e"])({groupId:this.groupId,type:this.type}).then((function(e){t.treeList=e.data.list,t.loading=!1}))}},created:function(){},mounted:function(){}},r=o,l=(a("e323"),a("2877")),c=Object(l["a"])(r,n,i,!1,null,null,null),d=c.exports;e["a"]=d},"216c":function(t,e,a){"use strict";var n=a("3391"),i=a.n(n);i.a},"22bf":function(t,e,a){},"29e6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("div",[a("div",{staticStyle:{"margin-bottom":"20px",display:"flex","justify-content":"flex-end"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.show({},"addNew")}}},[t._v("新增")])],1),a("tree-table",{staticStyle:{"font-size":"14px"},attrs:{loading:t.loading,selectable:!1,"expand-key":"title","expand-type":!1,columns:t.columns,data:t.tableData},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.row;return[a("Icon",{staticClass:"margin-right-20",attrs:{size:"20",type:"md-add"},on:{click:function(e){return t.show(n,"add")}}}),a("Icon",{staticClass:"margin-right-20",attrs:{size:"20",type:"md-create"},on:{click:function(e){return t.show(n,"edit")}}}),a("Icon",{staticClass:"margin-right-20",attrs:{size:"20",type:"ios-trash"},on:{click:function(e){return t.onDelete(n)}}})]}}])})],1)]),a("addIndustry",{ref:"Drawer",attrs:{erTitle:t.erTitle,status:t.status},on:{getList:t.getList}})],1)},i=[],s=a("9411"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:t.erTitle,width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"行业名称",prop:"name"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"上级"}},[t.showModal?a("chooseIndustry",{attrs:{ids:t.ids},on:{change:t.changeId}}):t._e()],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("确定")])],1)],2)},r=[],l=(a("7f7f"),a("a5ae")),c={components:{chooseIndustry:l["a"]},props:{erTitle:String,status:String},data:function(){return{info:{},loading:!0,sectionList:[],showModal:!1,formData:{name:"",pId:0},industryId:0,list:[],organizationList:[],ruleInline:{name:[{required:!0,message:"请填写行业名称",trigger:"blur"}]},ids:[]}},computed:{},watch:{},methods:{change:function(t){var e=t.length-1;this.formData.pId=t[e]},DrawerToShow:function(t,e){"add"===e?(this.ids=t.pidArr,this.ids.push(t.value),console.log(this.ids,"ddddd"),this.formData.pId=t.value):"edit"===e&&(this.info=t,this.formData.pId=t.pId,this.formData.name=t.title,this.ids=t.pidArr,this.industryId=t.value),this.showModal=!0,this.loading=!0},handleReset:function(t){this.showModal=!1,this.ids=[],this.industryId=0,this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;"add"===this.status||"addNew"===this.status?this.$refs[t].validate((function(a){a?Object(s["c"])({name:e.formData.name,pId:e.formData.pId}).then((function(a){e.$Message.success("保存成功！"),e.showModal=!1,e.$emit("getList"),e.ids=[],e.$refs[t].resetFields()})):e.$Message.error("表单验证失败!")})):this.$refs[t].validate((function(a){a?Object(s["u"])({name:e.formData.name,pId:e.formData.pId,industryId:e.industryId}).then((function(a){e.$Message.success("修改成功！"),e.showModal=!1,e.$emit("getList"),e.ids=[],e.$refs[t].resetFields()})):e.$Message.error("表单验证失败!")}))},changeId:function(t){this.ids=t;var e=t.length-1;this.formData.pId=t[e]}},mounted:function(){},beforeDestroy:function(){},created:function(){}},d=c,u=(a("d98a"),a("2877")),h=Object(u["a"])(d,o,r,!1,null,"58b6d18c",null),f=h.exports,p={components:{addIndustry:f},data:function(){return{isShow:!1,loading:!0,erTitle:"",status:"",columns:[{title:"行业名称",key:"title",minWidth:"250px"},{title:"操作",minWidth:"200px",type:"template",template:"action"}],tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Object(s["q"])().then((function(e){if(t.loading=!1,0===e.ret){t.tableData=e.data.list;var a=e.data.list;a.map((function(t,e){return{value:t.value,label:t.title,pidArr:t.pidArr,children:t.children.map((function(t){return{value:t.value,label:t.title,pidArr:t.pidArr,children:t.children.map((function(t){return{value:t.value,label:t.title,pidArr:t.pidArr}}))}}))}}));t.status&&t.$store.dispatch("admin/global/init")}else t.$Message.error(e.msg||"接口错误")}))},show:function(t,e){this.status=e,"add"===e||"addNew"===e?this.erTitle="新增行业":"edit"===e&&(this.erTitle="编辑行业"),this.$refs.Drawer.DrawerToShow(t,e)},onDelete:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"<p>确认删除</p>",onOk:function(){Object(s["n"])({industryId:t.value}).then((function(t){0===t.ret?(e.$Message.success("删除成功"),e.getList()):e.$Message.error(t.msg)}))},onCancel:function(){}})}}},m=p,g=(a("da81"),Object(u["a"])(m,n,i,!1,null,"6e86a552",null));e["default"]=g.exports},3210:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("div",[a("div",{staticStyle:{"margin-bottom":"20px",display:"flex","justify-content":"flex-end"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.show({},"addNew")}}},[t._v("新增")])],1),a("tree-table",{staticStyle:{"font-size":"14px"},attrs:{loading:t.loading,"expand-key":"title","expand-type":!1,selectable:!1,columns:t.columns,data:t.tableData},scopedSlots:t._u([{key:"group",fn:function(e){var n=e.row;return[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.showEditDrawer(0,n)}}},[t._v("后台权限")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.showEditDrawer(1,n)}}},[t._v("小程序权限")])]}},{key:"action",fn:function(e){var n=e.row;return[a("Icon",{staticClass:"margin-right-20",attrs:{size:"20",type:"md-add"},on:{click:function(e){return t.show(n,"add")}}}),a("Icon",{staticClass:"margin-right-20",attrs:{size:"20",type:"md-create"},on:{click:function(e){return t.show(n,"edit")}}}),a("Icon",{staticClass:"margin-right-20",attrs:{size:"20",type:"ios-trash"},on:{click:function(e){return t.onDelete(n)}}}),t._l(t.tableData.children,(function(e,i){return[e.btnIsTable?a("Icon",{key:i,class:e.btnClass,attrs:{type:e.btnType?e.btnType:"default"},on:{click:function(a){return t.handleEvent(e.btnHandle,e.btnHandleParams,n)}}}):t._e()]}))]}}])})],1)]),a("addPosition",{ref:"Drawer",attrs:{erTitle:t.erTitle,status:t.status},on:{getList:t.getList}}),a("editPage",{ref:"quanxian",attrs:{erTitle:t.title},on:{callback:function(e){return t.getList()}}})],1)},i=[],s=a("10b4"),o=a("9411"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:t.erTitle,width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"岗位名称",prop:"name"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"角色",prop:"roleType"}},[a("RadioGroup",{model:{value:t.formData.roleType,callback:function(e){t.$set(t.formData,"roleType",e)},expression:"formData.roleType"}},[a("Radio",{attrs:{label:1}},[t._v("员工")]),a("Radio",{attrs:{label:2}},[t._v("部门主管")]),a("Radio",{attrs:{label:3}},[t._v("超级管理员")])],1)],1),a("FormItem",{attrs:{label:"上级"}},[t.showModal?a("choosePosition",{attrs:{ids:t.ids},on:{change:t.changeId}}):t._e()],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("确定")])],1)],2)},l=[],c=(a("7f7f"),a("bd86")),d=a("b42f"),u={components:{choosePosition:d["a"]},props:{erTitle:String,status:String},data:function(){return Object(c["a"])({ids:[],info:{},loading:!0,sectionList:[],showModal:!1,formData:{name:"",parentId:0,roleType:0},groupId:0,list:[],ruleInline:{name:[{required:!0,message:"请填写岗位名称",trigger:"blur"}],roleType:[{required:!0,type:"number",message:"请选择角色",trigger:"change"}]}},"ids",[])},computed:{},watch:{},methods:{change:function(t){var e=t.length-1;this.formData.parentId=t[e]},DrawerToShow:function(t,e){"add"===e?(console.log(t.value,"aaaa"),this.ids=t.pidArr,this.ids.push(t.value),console.log(this.ids,"ddddd"),this.formData.parentId=t.value):(this.info=t,this.formData.parentId=t.parentId,this.formData.name=t.title,this.groupId=t.value,this.formData.roleType=t.roleType,this.ids=t.pidArr),this.showModal=!0,this.loading=!0},handleReset:function(t){this.showModal=!1,this.ids=[],this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;"add"===this.status||"addNew"===this.status?this.$refs[t].validate((function(a){a?Object(o["b"])({groupName:e.formData.name,parentId:e.formData.parentId,roleType:e.formData.roleType}).then((function(a){e.$Message.success("保存成功！"),e.showModal=!1,e.$emit("getList"),e.ids=[],e.$refs[t].resetFields()})):e.$Message.error("表单验证失败!")})):this.$refs[t].validate((function(a){a?Object(o["o"])({groupName:e.formData.name,parentId:e.formData.parentId,groupId:e.groupId,roleType:e.formData.roleType}).then((function(a){e.$Message.success("修改成功！"),e.showModal=!1,e.$emit("getList"),e.ids=[],e.$refs[t].resetFields()})):e.$Message.error("表单验证失败!")}))},changeId:function(t){this.ids=t;var e=t.length-1;this.formData.parentId=t[e]}},mounted:function(){},beforeDestroy:function(){},created:function(){}},h=u,f=(a("216c"),a("2877")),p=Object(f["a"])(h,r,l,!1,null,"ad14f0b4",null),m=p.exports,g={components:{addPosition:m,editPage:s["a"]},data:function(){return{isShow:!1,loading:!0,erTitle:"",status:"",columns:[{title:"岗位名称",key:"title",minWidth:"250px"},{title:"角色",key:"roleTypeName",minWidth:120},{title:"权限操作",minWidth:"200px",type:"template",template:"group"},{title:"操作",minWidth:"200px",type:"template",template:"action"}],tableData:[],title:""}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Object(o["r"])().then((function(e){if(t.loading=!1,0===e.ret){t.tableData=e.data.list;var a=e.data.list,n=a.map((function(t,e){return{value:t.value,label:t.title,pidArr:t.pidArr,children:t.children.map((function(t){return{value:t.value,label:t.title,pidArr:t.pidArr,children:t.children.map((function(t){return{value:t.value,label:t.title,pidArr:t.pidArr}}))}}))}}));sessionStorage.setItem("positionList",JSON.stringify(n))}else t.$Message.error(e.msg||"接口错误")}))},show:function(t,e){this.status=e,console.log(e,"pppp"),"add"===e||"addNew"===e?this.erTitle="新增岗位":"edit"===e&&(this.erTitle="编辑岗位"),this.$refs.Drawer.DrawerToShow(t,e)},onDelete:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"<p>确认删除</p>",onOk:function(){Object(o["m"])({groupId:t.value}).then((function(t){0===t.ret?(e.$Message.success("删除成功"),e.getList()):e.$Message.error(t.msg)}))},onCancel:function(){}})},showEditDrawer:function(t,e){this.title=0==t?"后台权限":"小程序权限",this.$refs.quanxian.DrawerToShow(t),this.$refs.quanxian.loadData(e)}}},b=g,y=(a("ef44"),Object(f["a"])(b,n,i,!1,null,"b08fd484",null));e["default"]=y.exports},"32a2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("div",[a("div",{staticStyle:{"margin-bottom":"20px",display:"flex","justify-content":"space-between"}},[a("div",[0!=t.oneId?a("Button",{attrs:{type:"primary"},on:{click:t.returnBack}},[t._v("返回")]):t._e()],1),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.show({},"add")}}},[t._v("新增")])],1),a("Table",{ref:"table",attrs:{loading:t.loading,columns:t.columns,data:t.tableData,type:"seletion",stripe:""},on:{"on-selection-change":t.changeSelect}})],1)]),a("addArea",{ref:"Drawer",attrs:{erTitle:t.erTitle},on:{getData:t.getSelect}})],1)},i=[],s=(a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:t.erTitle,width:600},on:{"on-cancel":function(e){return t.handleReset("editData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"editData",attrs:{"label-width":130,model:t.editData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"类型","label-position":"top",prop:"ctype"}},[a("Select",{on:{"on-change":t.changeType},model:{value:t.editData.ctype,callback:function(e){t.$set(t.editData,"ctype",e)},expression:"editData.ctype"}},[a("Option",{attrs:{value:1}},[t._v("省")]),a("Option",{attrs:{value:2}},[t._v("市")]),a("Option",{attrs:{value:3}},[t._v("区")])],1)],1),1!=t.editData.ctype?a("div",[a("FormItem",{attrs:{label:"上级省级","label-position":"top",prop:"editOneId"}},[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.changeOne},model:{value:t.editData.editOneId,callback:function(e){t.$set(t.editData,"editOneId",e)},expression:"editData.editOneId"}},t._l(t.oneList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title))])})),1)],1),3==t.editData.ctype&&t.twoList.length>0?a("div",[a("FormItem",{attrs:{label:"上级市级",prop:"editTwoId"}},[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.changeTwo},model:{value:t.editData.editTwoId,callback:function(e){t.$set(t.editData,"editTwoId",e)},expression:"editData.editTwoId"}},t._l(t.twoList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title))])})),1)],1)],1):t._e()],1):t._e(),a("FormItem",{attrs:{label:"地区名称","label-position":"top",prop:"cname"}},[a("Input",{attrs:{placeholder:"请输入地区名称"},model:{value:t.editData.cname,callback:function(e){t.$set(t.editData,"cname",e)},expression:"editData.cname"}})],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("editData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("editData")}}},[t._v("确定")])],1)],2)}),o=[],r=(a("7f7f"),a("bd86")),l=a("9411"),c={components:{},props:{erTitle:{type:String}},data:function(){var t;return t={ids:[],info:{},loading:!0,sectionList:[],showModal:!1,editData:{cname:"",parent_id:1,editOneId:0,editTwoId:"",ctype:""},positionId:0,list:[],ruleInline:{cname:[{required:!0,message:"名称不能为空",trigger:"blur"}],ctype:[{required:!0,type:"number",message:"请选择地区类型",trigger:"blur"}],editOneId:[{required:!0,type:"number",message:"请选择上级地区",trigger:"blur"}],editTwoId:[{required:!0,type:"number",message:"请选择上级地区",trigger:"blur"}]},oneList:[],twoList:[]},Object(r["a"])(t,"oneList",[]),Object(r["a"])(t,"value",0),Object(r["a"])(t,"status",""),t},computed:{},watch:{},methods:{changeType:function(t){this.editData.ctype=t},changeTwo:function(t){this.editData.editTwoId=t,this.editData.parent_id=this.editData.editTwoId},changeOne:function(t){var e=this;this.editData.editTwoId=0,this.editData.editOneId=t,2===this.editData.ctype?this.editData.parent_id=this.editData.editOneId:3===this.editData.ctype?this.editData.parent_id=this.editData.editTwoId:this.editData.parent_id=1,this.oneList.forEach((function(t){t.value==e.editData.editOneId&&(t.children.length>0?e.twoList=t.children:(e.editData.ctype=2,e.twoList=[]))}))},loadData:function(t,e,a,n){var i=this;console.log(t,e,a,"=====888"),Object(l["e"])({}).then((function(t){0===t.ret?i.oneList=t.data.list:i.$Message.error(t.msg||"接口错误")})),this.twoList=[],this.editData.editOneId=e,this.editData.editTwoId=a,"edit"===n&&(this.editData.id=t.value,this.editData.cname=t.title,this.editData.ctype=t.ctype,this.editData.parent_id=t.parent_id),this.status=n,0!=this.editData.editOneId&&this.oneList.forEach((function(t){t.value==i.editData.editOneId&&(i.twoList=t.children)}))},DrawerToShow:function(t){console.log(t,"aaaa"),this.showModal=!0},handleReset:function(t){this.showModal=!1,this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(a){if(a){if(2==e.editData.ctype&&1===e.editData.parent_id)return void e.$Message.error("请选择上级地区！");if(3==e.editData.ctype&&1===e.editData.parent_id)return void e.$Message.error("请选择上级地区！");"add"==e.status?Object(l["a"])({parent_id:e.editData.parent_id,cname:e.editData.cname,ctype:e.editData.ctype}).then((function(a){0==a.ret?(e.$Message.success("保存成功"),e.showModal=!1,e.$emit("getData"),e.$refs[t].resetFields()):e.$Message.error(a.msg||"接口错误")})):Object(l["s"])(e.editData).then((function(a){0==a.ret?(console.log("bbbbbbbbbb"),e.$Message.success("保存成功"),e.showModal=!1,e.btLoding=!1,e.$emit("getData"),e.$refs[t].resetFields()):(e.btLoding=!1,e.$Message.error(a.msg||"接口错误"))}))}}))}},mounted:function(){},beforeDestroy:function(){},created:function(){}},d=c,u=(a("4d37"),a("2877")),h=Object(u["a"])(d,s,o,!1,null,"c879f5d6",null),f=h.exports,p={components:{addArea:f},data:function(){var t=this;return{loading:!0,erTitle:"",status:"",columns:[{title:"编号",key:"value",width:100},{title:"地区名称",key:"title",minWidth:120},{title:"操作",minWidth:"200px",key:"action",align:"center",width:300,render:function(e,a){return e("div",[e("Button",{props:{size:"small",type:"info"},style:{marginRight:"5px",display:3==a.row.ctype?"none":""},on:{click:function(){t.next(a.row)}}},"查看下级"),e("Button",{props:{size:"small",type:"primary",disabled:0==a.row.isSys},style:{marginRight:"5px"},on:{click:function(){t.show(a.row,"edit")}}},"编辑"),e("Button",{props:{size:"small",type:"error",disabled:0==a.row.isSys},style:{marginRight:"5px"},on:{click:function(){t.remove(a.row)}}},"删除")])}}],tableData:[],pageination:{page:1,pageSize:2,count:1},oneId:0,twoId:0}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,Object(l["d"])({id:0==this.oneId?0:0==this.twoId?this.oneId:this.twoId}).then((function(e){t.loading=!1,0===e.ret?t.tableData=e.data.list:t.$Message.error(e.msg||"接口错误")}))},getSelect:function(){this.getData()},next:function(t){0==this.oneId?(this.oneName=t.title,this.oneId=t.value):(this.twoName=t.title,this.twoId=t.value),this.page=1,this.getData()},returnBack:function(){0!=this.twoId?(this.twoId=0,this.twoName="",this.page=1,this.getData()):0!=this.oneId&&(this.oneId=0,this.page=1,this.oneName="",this.getData())},show:function(t,e){this.status=e,"add"===e?this.erTitle="新增地区":"edit"===e&&(this.erTitle="编辑地区"),this.$refs.Drawer.loadData(t,this.oneId,this.twoId,e),this.$refs.Drawer.DrawerToShow()},changeSelect:function(t){var e=this;this.chooseData=[],t.forEach((function(t){e.chooseData.push(t.areaId)}))},remove:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"<p>确认删除</p>",onOk:function(){Object(l["l"])({id:t.value}).then((function(t){0===t.ret?(e.$Message.success("删除成功"),e.getData()):e.$Message.error(t.msg)}))},onCancel:function(){}})}}},m=p,g=(a("5079"),Object(u["a"])(m,n,i,!1,null,"2eb631ea",null));e["default"]=g.exports},3391:function(t,e,a){},"4d37":function(t,e,a){"use strict";var n=a("900d"),i=a.n(n);i.a},"501a":function(t,e,a){},5079:function(t,e,a){"use strict";var n=a("0f1a"),i=a.n(n);i.a},"61e5":function(t,e,a){"use strict";var n=a("8fae"),i=a.n(n);i.a},"8b0f":function(t,e,a){"use strict";var n=a("e16f"),i=a.n(n);i.a},"8fae":function(t,e,a){},"900d":function(t,e,a){},"9dc7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("Form",[a("FormItem",{attrs:{label:"选择数据类型：","label-width":120}},[a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.search},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.list,(function(e){return a("Option",{key:e.type,attrs:{value:e.type}},[t._v(t._s(e.name))])})),1)],1)],1),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.show({},"add")}}},[t._v("新增")])],1),a("tree-table",{staticStyle:{"font-size":"14px"},attrs:{loading:t.loading,"expand-key":"title",selectable:!1,"expand-type":!1,columns:t.columns,data:t.tableData},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.row;return[a("Icon",{staticClass:"margin-right-20",attrs:{size:"20",type:"md-create"},on:{click:function(e){return t.show(n,"edit")}}}),a("Icon",{staticClass:"margin-right-20",attrs:{size:"20",type:"ios-trash"},on:{click:function(e){return t.onDelete(n)}}})]}}])})],1)]),a("addBasics",{ref:"Drawer",attrs:{erTitle:t.erTitle,status:t.status},on:{getList:t.getAdd}})],1)},i=[],s=a("9411"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:t.erTitle,width:600},on:{"on-cancel":function(e){return t.handleReset("formData")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formData",attrs:{"label-width":130,model:t.formData,rules:t.ruleInline}},[a("FormItem",{attrs:{label:"名称",prop:"name"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"类型",prop:"type"}},[a("Select",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},t._l(t.list,(function(e){return a("Option",{key:e.type,attrs:{value:e.type}},[t._v(t._s(e.name))])})),1)],1)],1),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleReset("formData")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("确定")])],1)],2)},r=[],l=(a("7f7f"),{components:{},props:{erTitle:String,status:String},data:function(){return{info:{},loading:!0,showModal:!1,formData:{name:"",type:0,basisId:0},list:[],ruleInline:{name:[{required:!0,message:"请填写名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}]}}},computed:{},watch:{},methods:{change:function(t){var e=t.length-1;this.formData.pId=t[e]},getSelect:function(){var t=this;Object(s["i"])().then((function(e){t.list=e.data}))},DrawerToShow:function(t){this.info=t,this.formData.type=t.type,this.formData.name=t.name,this.getSelect(),this.showModal=!0,this.loading=!0},handleReset:function(t){this.showModal=!1,this.industryId=0,this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;"add"===this.status?this.$refs[t].validate((function(a){a?Object(s["g"])({name:e.formData.name,type:e.formData.type}).then((function(a){e.$Message.success("保存成功！"),e.showModal=!1,console.log(e.formData.type,"aaaaa"),e.$emit("getList",e.formData.type),e.$refs[t].resetFields()})):e.$Message.error("表单验证失败!")})):this.$refs[t].validate((function(a){a?Object(s["j"])({name:e.formData.name,type:e.formData.type,basisId:e.info.basisId}).then((function(a){e.$Message.success("修改成功！"),e.showModal=!1,e.$emit("getList",e.formData.type),e.$refs[t].resetFields()})):e.$Message.error("表单验证失败!")}))}},mounted:function(){},beforeDestroy:function(){},created:function(){}}),c=l,d=(a("8b0f"),a("2877")),u=Object(d["a"])(c,o,r,!1,null,"1a253b7b",null),h=u.exports,f={components:{addBasics:h},data:function(){return{type:"",isShow:!1,loading:!0,erTitle:"",status:"",columns:[{title:"编号",key:"basisId",width:"250px"},{title:"名称",key:"name",minWidth:"250px"},{title:"操作",minWidth:"200px",type:"template",template:"action"}],tableData:[],list:[]}},created:function(){this.getSelect()},methods:{search:function(t){this.type=t,this.getList()},getAdd:function(t){this.type=t,console.log(t,"===="),this.getList()},getSelect:function(){var t=this;Object(s["i"])().then((function(e){t.list=e.data,t.type=t.list[0].type,t.getList()}))},getList:function(){var t=this;this.loading=!0,Object(s["h"])({type:this.type}).then((function(e){t.loading=!1,0===e.ret?(t.tableData=e.data,"CLIENT_RANGE"===t.type?sessionStorage.setItem("clientRange",JSON.stringify(e.data)):"CHANNEL_MODE"===t.type?sessionStorage.setItem("modeList",JSON.stringify(e.data)):"SOCIAL_SECURITY"===t.type?sessionStorage.setItem("socialList",JSON.stringify(e.data)):"SKILL"===t.type?sessionStorage.setItem("skillList",JSON.stringify(e.data)):"SUPPLIER"===t.type&&sessionStorage.setItem("suList",JSON.stringify(e.data))):t.$Message.error(e.msg||"接口错误")}))},show:function(t,e){this.status=e,"add"===e?this.erTitle="新增":"edit"===e&&(this.erTitle="编辑"),this.$refs.Drawer.DrawerToShow(t)},onDelete:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"<p>确认删除</p>",onOk:function(){Object(s["f"])({basisId:t.basisId}).then((function(t){0===t.ret?(e.$Message.success("删除成功"),e.getList()):e.$Message.error(t.msg)}))},onCancel:function(){}})}}},p=f,m=(a("61e5"),Object(d["a"])(p,n,i,!1,null,"761f72c4",null));e["default"]=m.exports},a5ae:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Cascader",{attrs:{data:t.tmpArr,value:t.ids,"change-on-select":""},on:{"update:value":function(e){t.ids=e},"on-change":t.change}})],1)},i=[],s=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=a("2f62"),r=a("9411");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={components:{},props:{ids:Array},data:function(){return{showModal:!1,list:[],tmpArr:[]}},computed:c({},Object(o["e"])("admin/global",["industry","region","personnelSize"])),watch:{},methods:{change:function(t){this.$emit("change",t),console.log(t,"industry")},getIndustryList:function(){var t=this;Object(r["q"])().then((function(e){var a=e.data.list;t.list=a.map((function(t,e){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title}}))}}))}}))}))}},mounted:function(){},beforeDestroy:function(){},created:function(){var t=this.industry;this.tmpArr=t.map((function(t,e){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title}}))}}))}}))}},u=d,h=a("2877"),f=Object(h["a"])(u,n,i,!1,null,"00e5aca0",null);e["a"]=f.exports},b42f:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Cascader",{attrs:{data:t.list,value:t.ids,"change-on-select":""},on:{"update:value":function(e){t.ids=e},"on-change":t.change}})],1)},i=[],s=a("9411"),o={components:{},props:{ids:Array},data:function(){return{showModal:!1,list:[]}},computed:{},watch:{},methods:{change:function(t){this.$emit("change",t),console.log(t,"position")},getList:function(){var t=this;Object(s["r"])().then((function(e){var a=e.data.list;t.list=a.map((function(t,e){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title,children:t.children.map((function(t){return{value:t.value,label:t.title}}))}}))}})),sessionStorage.setItem("positionList",JSON.stringify(t.list))}))}},mounted:function(){},beforeDestroy:function(){},created:function(){JSON.parse(sessionStorage.getItem("positionList"))?this.list=JSON.parse(sessionStorage.getItem("positionList")):this.getList()}},r=o,l=a("2877"),c=Object(l["a"])(r,n,i,!1,null,"468f4dd6",null);e["a"]=c.exports},d98a:function(t,e,a){"use strict";var n=a("eee4"),i=a.n(n);i.a},da81:function(t,e,a){"use strict";var n=a("501a"),i=a.n(n);i.a},e16f:function(t,e,a){},e323:function(t,e,a){"use strict";var n=a("22bf"),i=a.n(n);i.a},eaaf:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"sx"},[a("Form",{ref:"detail",attrs:{model:t.detail,inline:"","label-width":150}},[a("Row",[a("FormItem",{attrs:{label:"人才跟进时间：","label-position":"top"}},[a("Input-number",{attrs:{min:0},model:{value:t.detail.publicDay,callback:function(e){t.$set(t.detail,"publicDay",e)},expression:"detail.publicDay"}}),t._v(" 天不跟进，就变成共享资源\n        ")],1)],1),a("Row",[a("FormItem",{attrs:{label:"人才离职时间：","label-position":"top"}},[a("Input-number",{attrs:{min:0},model:{value:t.detail.leaveTime,callback:function(e){t.$set(t.detail,"leaveTime",e)},expression:"detail.leaveTime"}}),t._v(" 分钟后，自动到公共资源\n        ")],1)],1),a("Row",[a("FormItem",{attrs:{label:"合同预警提示时间：","label-position":"top"}},[a("Input-number",{attrs:{min:0},model:{value:t.detail.contractDay,callback:function(e){t.$set(t.detail,"contractDay",e)},expression:"detail.contractDay"}}),t._v(" 天\n        ")],1)],1),a("Row",[a("FormItem",{attrs:{label:"","label-position":"top"}},[a("Button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("保存")])],1)],1)],1)],1)],1)},i=[],s=a("9411"),o={components:{},data:function(){return{detail:{}}},created:function(){this.getInfo()},methods:{getInfo:function(){var t=this;Object(s["k"])().then((function(e){0===e.ret&&(t.detail=e.data.info)}))},handleSubmit:function(){var t=this;Object(s["t"])(this.detail).then((function(e){t.$Message.success("已保存！"),t.getInfo()}))}}},r=o,l=a("2877"),c=Object(l["a"])(r,n,i,!1,null,"4aafd1ce",null);e["default"]=c.exports},eee4:function(t,e,a){},ef44:function(t,e,a){"use strict";var n=a("06e3"),i=a.n(n);i.a}}]);